(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function F0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function aw(){if(Qv)return Al;Qv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=e,Al.jsx=n,Al.jsxs=n,Al}var $v;function ow(){return $v||($v=1,Qd.exports=aw()),Qd.exports}var b=ow(),$d={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function lw(){if(Xv)return Se;Xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,Q={};function q(N,ne,le){this.props=N,this.context=ne,this.refs=Q,this.updater=le||L}q.prototype.isReactComponent={},q.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=q.prototype;function W(N,ne,le){this.props=N,this.context=ne,this.refs=Q,this.updater=le||L}var re=W.prototype=new G;re.constructor=W,M(re,q.prototype),re.isPureReactComponent=!0;var he=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function D(N,ne,le,ie,ye,Ie){return le=Ie.ref,{$$typeof:i,type:N,key:ne,ref:le!==void 0?le:null,props:Ie}}function S(N,ne){return D(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function O(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return ne[le]})}var V=/\/+/g;function U(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):ne.toString(36)}function I(){}function Pt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ot(N,ne,le,ie,ye){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case i:case e:be=!0;break;case x:return be=N._init,ot(be(N._payload),ne,le,ie,ye)}}if(be)return ye=ye(N),be=ie===""?"."+U(N,0):ie,he(ye)?(le="",be!=null&&(le=be.replace(V,"$&/")+"/"),ot(ye,ne,le,"",function(qn){return qn})):ye!=null&&(R(ye)&&(ye=S(ye,le+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+be)),ne.push(ye)),1;be=0;var It=ie===""?".":ie+":";if(he(N))for(var Ze=0;Ze<N.length;Ze++)ie=N[Ze],Ie=It+U(ie,Ze),be+=ot(ie,ne,le,Ie,ye);else if(Ze=w(N),typeof Ze=="function")for(N=Ze.call(N),Ze=0;!(ie=N.next()).done;)ie=ie.value,Ie=It+U(ie,Ze++),be+=ot(ie,ne,le,Ie,ye);else if(Ie==="object"){if(typeof N.then=="function")return ot(Pt(N),ne,le,ie,ye);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(N,ne,le){if(N==null)return N;var ie=[],ye=0;return ot(N,ie,"","",function(Ie){return ne.call(le,Ie,ye++)}),ie}function oe(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ze(){}return Se.Children={map:$,forEach:function(N,ne,le){$(N,function(){ne.apply(this,arguments)},le)},count:function(N){var ne=0;return $(N,function(){ne++}),ne},toArray:function(N){return $(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Se.Component=q,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=W,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Se.__COMPILER_RUNTIME={__proto__:null,c:function(N){return se.H.useMemoCache(N)}},Se.cache=function(N){return function(){return N.apply(null,arguments)}},Se.cloneElement=function(N,ne,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=M({},N.props),ye=N.key,Ie=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!de.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(ie[be]=ne[be]);var be=arguments.length-2;if(be===1)ie.children=le;else if(1<be){for(var It=Array(be),Ze=0;Ze<be;Ze++)It[Ze]=arguments[Ze+2];ie.children=It}return D(N.type,ye,void 0,void 0,Ie,ie)},Se.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Se.createElement=function(N,ne,le){var ie,ye={},Ie=null;if(ne!=null)for(ie in ne.key!==void 0&&(Ie=""+ne.key),ne)de.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=ne[ie]);var be=arguments.length-2;if(be===1)ye.children=le;else if(1<be){for(var It=Array(be),Ze=0;Ze<be;Ze++)It[Ze]=arguments[Ze+2];ye.children=It}if(N&&N.defaultProps)for(ie in be=N.defaultProps,be)ye[ie]===void 0&&(ye[ie]=be[ie]);return D(N,Ie,void 0,void 0,null,ye)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(N){return{$$typeof:p,render:N}},Se.isValidElement=R,Se.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:oe}},Se.memo=function(N,ne){return{$$typeof:y,type:N,compare:ne===void 0?null:ne}},Se.startTransition=function(N){var ne=se.T,le={};se.T=le;try{var ie=N(),ye=se.S;ye!==null&&ye(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(Ie){me(Ie)}finally{se.T=ne}},Se.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Se.use=function(N){return se.H.use(N)},Se.useActionState=function(N,ne,le){return se.H.useActionState(N,ne,le)},Se.useCallback=function(N,ne){return se.H.useCallback(N,ne)},Se.useContext=function(N){return se.H.useContext(N)},Se.useDebugValue=function(){},Se.useDeferredValue=function(N,ne){return se.H.useDeferredValue(N,ne)},Se.useEffect=function(N,ne,le){var ie=se.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,ne)},Se.useId=function(){return se.H.useId()},Se.useImperativeHandle=function(N,ne,le){return se.H.useImperativeHandle(N,ne,le)},Se.useInsertionEffect=function(N,ne){return se.H.useInsertionEffect(N,ne)},Se.useLayoutEffect=function(N,ne){return se.H.useLayoutEffect(N,ne)},Se.useMemo=function(N,ne){return se.H.useMemo(N,ne)},Se.useOptimistic=function(N,ne){return se.H.useOptimistic(N,ne)},Se.useReducer=function(N,ne,le){return se.H.useReducer(N,ne,le)},Se.useRef=function(N){return se.H.useRef(N)},Se.useState=function(N){return se.H.useState(N)},Se.useSyncExternalStore=function(N,ne,le){return se.H.useSyncExternalStore(N,ne,le)},Se.useTransition=function(){return se.H.useTransition()},Se.version="19.1.0",Se}var Wv;function Bp(){return Wv||(Wv=1,$d.exports=lw()),$d.exports}var Y=Bp();const uw=F0(Y);var Xd={exports:{}},Sl={},Wd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function cw(){return Zv||(Zv=1,function(i){function e($,oe){var me=$.length;$.push(oe);e:for(;0<me;){var ze=me-1>>>1,N=$[ze];if(0<o(N,oe))$[ze]=oe,$[me]=N,me=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],me=$.pop();if(me!==oe){$[0]=me;e:for(var ze=0,N=$.length,ne=N>>>1;ze<ne;){var le=2*(ze+1)-1,ie=$[le],ye=le+1,Ie=$[ye];if(0>o(ie,me))ye<N&&0>o(Ie,ie)?($[ze]=Ie,$[ye]=me,ze=ye):($[ze]=ie,$[le]=me,ze=le);else if(ye<N&&0>o(Ie,me))$[ze]=Ie,$[ye]=me,ze=ye;else break e}}return oe}function o($,oe){var me=$.sortIndex-oe.sortIndex;return me!==0?me:$.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],y=[],x=1,A=null,w=3,L=!1,M=!1,Q=!1,q=!1,G=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function he($){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=$)s(y),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(y)}}function se($){if(Q=!1,he($),!M)if(n(m)!==null)M=!0,de||(de=!0,U());else{var oe=n(y);oe!==null&&ot(se,oe.startTime-$)}}var de=!1,D=-1,S=5,R=-1;function O(){return q?!0:!(i.unstable_now()-R<S)}function V(){if(q=!1,de){var $=i.unstable_now();R=$;var oe=!0;try{e:{M=!1,Q&&(Q=!1,W(D),D=-1),L=!0;var me=w;try{t:{for(he($),A=n(m);A!==null&&!(A.expirationTime>$&&O());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,w=A.priorityLevel;var N=ze(A.expirationTime<=$);if($=i.unstable_now(),typeof N=="function"){A.callback=N,he($),oe=!0;break t}A===n(m)&&s(m),he($)}else s(m);A=n(m)}if(A!==null)oe=!0;else{var ne=n(y);ne!==null&&ot(se,ne.startTime-$),oe=!1}}break e}finally{A=null,w=me,L=!1}oe=void 0}}finally{oe?U():de=!1}}}var U;if(typeof re=="function")U=function(){re(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Pt=I.port2;I.port1.onmessage=V,U=function(){Pt.postMessage(null)}}else U=function(){G(V,0)};function ot($,oe){D=G(function(){$(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return $()}finally{w=me}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=w;w=$;try{return oe()}finally{w=me}},i.unstable_scheduleCallback=function($,oe,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,$={id:x++,callback:oe,priorityLevel:$,startTime:me,expirationTime:N,sortIndex:-1},me>ze?($.sortIndex=me,e(y,$),n(m)===null&&$===n(y)&&(Q?(W(D),D=-1):Q=!0,ot(se,me-ze))):($.sortIndex=N,e(m,$),M||L||(M=!0,de||(de=!0,U()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var oe=w;return function(){var me=w;w=oe;try{return $.apply(this,arguments)}finally{w=me}}}}(Zd)),Zd}var Jv;function hw(){return Jv||(Jv=1,Wd.exports=cw()),Wd.exports}var Jd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function fw(){if(e_)return Yt;e_=1;var i=Bp();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,y,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:y,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(m,y,null,x)},Yt.flushSync=function(m){var y=f.T,x=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=y,s.p=x,s.d.f()}},Yt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var x=y.as,A=p(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:L}):x==="script"&&s.d.X(m,{crossOrigin:A,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},Yt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,A=p(x,y.crossOrigin);s.d.L(m,x,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(m,y){if(typeof m=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,y){return m(y)},Yt.useFormState=function(m,y,x){return f.H.useFormState(m,y,x)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var t_;function dw(){if(t_)return Jd.exports;t_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=fw(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function pw(){if(n_)return Sl;n_=1;var i=hw(),e=Bp(),n=dw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case se:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case re:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:Pt(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Pt(t(r))}catch{}}return null}var ot=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],N=-1;function ne(t){return{current:t}}function le(t){0>N||(t.current=ze[N],ze[N]=null,N--)}function ie(t,r){N++,ze[N]=t.current,t.current=r}var ye=ne(null),Ie=ne(null),be=ne(null),It=ne(null);function Ze(t,r){switch(ie(be,r),ie(Ie,t),ie(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Tv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Tv(r),t=bv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ye),ie(ye,t)}function qn(){le(ye),le(Ie),le(be)}function ii(t){t.memoizedState!==null&&ie(It,t);var r=ye.current,a=bv(r,t.type);r!==a&&(ie(Ie,t),ie(ye,a))}function _r(t){Ie.current===t&&(le(ye),le(Ie)),It.current===t&&(le(It),xl._currentValue=me)}var es=Object.prototype.hasOwnProperty,ts=i.unstable_scheduleCallback,ns=i.unstable_cancelCallback,yo=i.unstable_shouldYield,du=i.unstable_requestPaint,yn=i.unstable_now,Yh=i.unstable_getCurrentPriorityLevel,vo=i.unstable_ImmediatePriority,Xs=i.unstable_UserBlockingPriority,rs=i.unstable_NormalPriority,Qh=i.unstable_LowPriority,Ws=i.unstable_IdlePriority,_o=i.log,pu=i.unstable_setDisableYieldValue,lt=null,He=null;function ln(t){if(typeof _o=="function"&&pu(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(lt,t)}catch{}}var Gt=Math.clz32?Math.clz32:is,mu=Math.log,$h=Math.LN2;function is(t){return t>>>=0,t===0?32:31-(mu(t)/$h|0)|0}var ss=256,as=4194304;function kn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zs(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=kn(l):(_&=E,_!==0?h=kn(_):a||(a=E&~t,a!==0&&(h=kn(a))))):(E=l&~d,E!==0?h=kn(E):_!==0?h=kn(_):a||(a=l&~t,a!==0&&(h=kn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function os(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function xo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),t}function To(){var t=as;return as<<=1,(as&62914560)===0&&(as=4194304),t}function xr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Er(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bo(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Gt(a),J=1<<X;E[X]=0,C[X]=-1;var F=B[X];if(F!==null)for(B[X]=null,X=0;X<F.length;X++){var H=F[X];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Hn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Hn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function wo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Js(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ai(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function gu(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var nt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+nt,mt="__reactProps$"+nt,vn="__reactContainer$"+nt,Ao="__reactEvents$"+nt,Xh="__reactListeners$"+nt,oi="__reactHandles$"+nt,yu="__reactResources$"+nt,ls="__reactMarker$"+nt;function li(t){delete t[Tt],delete t[mt],delete t[Ao],delete t[Xh],delete t[oi]}function Tr(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[vn]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Rv(t);t!==null;){if(a=t[Tt])return a;t=Rv(t)}return r}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Tt]||t[vn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Kn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[yu];return r||(r=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(t){t[ls]=!0}var So=new Set,ea={};function Vn(t,r){br(t,r),br(t+"Capture",r)}function br(t,r){for(ea[t]=r,t=0;t<r.length;t++)So.add(r[t])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},us={};function xu(t){return es.call(us,t)?!0:es.call(_u,t)?!1:vu.test(t)?us[t]=!0:(_u[t]=!0,!1)}function ui(t,r,a){if(xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Yn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var cs,Eu;function wr(t){if(cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);cs=r&&r[1]||"",Eu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+t+Eu}var ta=!1;function na(t,r){if(!t||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var F=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){F=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){F=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),B=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wr(a):""}function Ro(t){switch(t.tag){case 26:case 27:case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return na(t.type,!1);case 11:return na(t.type.render,!1);case 1:return na(t.type,!0);case 31:return wr("Activity");default:return""}}function ra(t){try{var r="";do r+=Ro(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Co(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wh(t){var r=Co(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ia(t){t._valueTracker||(t._valueTracker=Wh(t))}function Io(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Co(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zh=/[\n"\\]/g;function gt(t){return t.replace(Zh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function un(t,r,a,l,h,d,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ci(t,_,Jt(r)):a!=null?ci(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function fs(t,r,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,E||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ci(t,r,a){r==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function ds(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ps.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function No(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Tu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Tu(t,d,r[d])}function Do(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Sr=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,Cr=null;function Oo(t){var r=Gn(t);if(r&&(t=r.stateNode)){var a=t[mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Io(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ar(t,!!a.multiple,r,!1)}}}var Qn=!1;function bu(t,r,a){if(Qn)return t(r,a);Qn=!0;try{var l=t(r);return l}finally{if(Qn=!1,(Rr!==null||Cr!==null)&&(gc(),Rr&&(r=Rr,t=Cr,Cr=Rr=null,Oo(r),t)))for(r=0;r<t.length;r++)Oo(t[r])}}function ms(t,r){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){En=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{En=!1}var $n=null,hi=null,Ir=null;function ko(){if(Ir)return Ir;var t,r=hi,a=r.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Ir=h.slice(t,1<l?1-l:void 0)}function Xn(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Vo(){return!1}function Nt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Vo,this.isPropagationStopped=Vo,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Nt(Fe),ys=x({},Fe,{view:0,detail:0}),wu=Nt(ys),oa,la,Zn,vs=x({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(oa=t.screenX-Zn.screenX,la=t.screenY-Zn.screenY):la=oa=0,Zn=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),Tn=Nt(vs),Au=x({},vs,{dataTransfer:0}),tf=Nt(Au),_s=x({},ys,{relatedTarget:0}),ua=Nt(_s),Mo=x({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=Nt(Mo),Su=x({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ha=Nt(Su),nf=x({},Fe,{data:0}),Po=Nt(nf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Cu[t])?!!r[t]:!1}function Es(){return Lo}var Iu=x({},ys,{key:function(t){if(t.key){var r=xs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fa=Nt(Iu),Nu=x({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Nt(Nu),Nr=x({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Du=Nt(Nr),Ou=x({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Nt(Ou),Vu=x({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),da=Nt(Vu),en=x({},Fe,{newState:0,oldState:0}),Mu=Nt(en),Pu=[9,13,27,32],Jn=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var g=Mn&&"TextEvent"in window&&!c,v=Mn&&(!Jn||c&&8<c&&11>=c),T=" ",j=!1;function K(t,r){switch(t){case"keyup":return Pu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function bt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(j=!0,T);case"textInput":return t=r.data,t===T&&j?null:t;default:return null}}function Pe(t,r){if(Me)return t==="compositionend"||!Jn&&K(t,r)?(t=ko(),Ir=hi=$n=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dt[t.type]:r==="textarea"}function Dr(t,r,a,l){Rr?Cr?Cr.push(l):Cr=[l]:Rr=l,r=Tc(r,"onChange"),0<r.length&&(a=new aa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ut=null,er=null;function jo(t){yv(t,0)}function Lu(t){var r=Kn(t);if(Io(r))return t}function Um(t,r){if(t==="change")return r}var jm=!1;if(Mn){var rf;if(Mn){var sf="oninput"in document;if(!sf){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),sf=typeof zm.oninput=="function"}rf=sf}else rf=!1;jm=rf&&(!document.documentMode||9<document.documentMode)}function Bm(){Ut&&(Ut.detachEvent("onpropertychange",Fm),er=Ut=null)}function Fm(t){if(t.propertyName==="value"&&Lu(er)){var r=[];Dr(r,er,t,xn(t)),bu(jo,r)}}function PT(t,r,a){t==="focusin"?(Bm(),Ut=r,er=a,Ut.attachEvent("onpropertychange",Fm)):t==="focusout"&&Bm()}function LT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(er)}function UT(t,r){if(t==="click")return Lu(r)}function jT(t,r){if(t==="input"||t==="change")return Lu(r)}function zT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var cn=typeof Object.is=="function"?Object.is:zT;function zo(t,r){if(cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!es.call(r,h)||!cn(t[h],r[h]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,r){var a=qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qm(a)}}function Gm(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Gm(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=hs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=hs(t.document)}return r}function af(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var BT=Mn&&"documentMode"in document&&11>=document.documentMode,pa=null,of=null,Bo=null,lf=!1;function Ym(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||pa==null||pa!==hs(l)||(l=pa,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=Tc(of,"onSelect"),0<l.length&&(r=new aa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=pa)))}function Ts(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ma={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},uf={},Qm={};Mn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function bs(t){if(uf[t])return uf[t];if(!ma[t])return t;var r=ma[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Qm)return uf[t]=r[a];return t}var $m=bs("animationend"),Xm=bs("animationiteration"),Wm=bs("animationstart"),FT=bs("transitionrun"),qT=bs("transitionstart"),HT=bs("transitioncancel"),Zm=bs("transitionend"),Jm=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Pn(t,r){Jm.set(t,r),Vn(r,[t])}var eg=new WeakMap;function bn(t,r){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ra(r)},eg.set(t,r),r)}return{value:t,source:r,stack:ra(r)}}var wn=[],ga=0,hf=0;function Uu(){for(var t=ga,r=hf=ga=0;r<t;){var a=wn[r];wn[r++]=null;var l=wn[r];wn[r++]=null;var h=wn[r];wn[r++]=null;var d=wn[r];if(wn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&tg(a,h,d)}}function ju(t,r,a,l){wn[ga++]=t,wn[ga++]=r,wn[ga++]=a,wn[ga++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,r,a,l){return ju(t,r,a,l),zu(t)}function ya(t,r){return ju(t,null,null,r),zu(t)}function tg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function zu(t){if(50<fl)throw fl=0,vd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var va={};function GT(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,r,a,l){return new GT(t,r,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Or(t,r){var a=t.alternate;return a===null?(a=hn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Bu(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=Yb(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=hn(31,a,r,h),t.elementType=R,t.lanes=d,t;case M:return ws(a.children,h,d,r);case Q:_=8,h|=24;break;case q:return t=hn(12,a,r,h|2),t.elementType=q,t.lanes=d,t;case se:return t=hn(13,a,r,h),t.elementType=se,t.lanes=d,t;case de:return t=hn(19,a,r,h),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case re:_=10;break e;case W:_=9;break e;case he:_=11;break e;case D:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=hn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ws(t,r,a,l){return t=hn(7,t,l,r),t.lanes=a,t}function pf(t,r,a){return t=hn(6,t,null,r),t.lanes=a,t}function mf(t,r,a){return r=hn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var _a=[],xa=0,Fu=null,qu=0,An=[],Sn=0,As=null,kr=1,Vr="";function Ss(t,r){_a[xa++]=qu,_a[xa++]=Fu,Fu=t,qu=r}function rg(t,r,a){An[Sn++]=kr,An[Sn++]=Vr,An[Sn++]=As,As=t;var l=kr;t=Vr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,kr=1<<32-Gt(r)+h|a<<h|l,Vr=d+t}else kr=1<<d|a<<h|l,Vr=t}function gf(t){t.return!==null&&(Ss(t,1),rg(t,1,0))}function yf(t){for(;t===Fu;)Fu=_a[--xa],_a[xa]=null,qu=_a[--xa],_a[xa]=null;for(;t===As;)As=An[--Sn],An[Sn]=null,Vr=An[--Sn],An[Sn]=null,kr=An[--Sn],An[Sn]=null}var tn=null,ut=null,Be=!1,Rs=null,tr=!1,vf=Error(s(519));function Cs(t){var r=Error(s(418,""));throw Ho(bn(r,t)),vf}function ig(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[mt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<pl.length;a++)Oe(pl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),fs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ia(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ds(r,l.value,l.defaultValue,l.children),ia(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Ev(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=bc),r=!0):r=!1,r||Cs(t)}function sg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:tn=tn.return}}function Fo(t){if(t!==tn)return!1;if(!Be)return sg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&ut&&Cs(t),sg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Un(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Ri(t.type)?(t=Ud,Ud=null,ut=t):ut=r):ut=tn?Un(t.stateNode.nextSibling):null;return!0}function qo(){ut=tn=null,Be=!1}function ag(){var t=Rs;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),Rs=null),t}function Ho(t){Rs===null?Rs=[t]:Rs.push(t)}var _f=ne(null),Is=null,Mr=null;function fi(t,r,a){ie(_f,r._currentValue),r._currentValue=a}function Pr(t){t._currentValue=_f.current,le(_f)}function xf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Ef(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<r.length;C++)if(E.context===r[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),xf(d.return,a,t),l||(_=null);break e}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Go(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;cn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===It.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&Ef(r,t,a,l),r.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ns(t){Is=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return og(Is,t)}function Gu(t,r){return Is===null&&Ns(t),og(t,r)}function og(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Mr===null){if(t===null)throw Error(s(308));Mr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Mr=Mr.next=r;return a}var KT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},YT=i.unstable_scheduleCallback,QT=i.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new KT,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&YT(QT,function(){t.controller.abort()})}var Yo=null,bf=0,Ea=0,Ta=null;function $T(t,r){if(Yo===null){var a=Yo=[];bf=0,Ea=Ad(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,r.then(lg,lg),r}function lg(){if(--bf===0&&Yo!==null){Ta!==null&&(Ta.status="fulfilled");var t=Yo;Yo=null,Ea=0,Ta=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function XT(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ug=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$T(t,r),ug!==null&&ug(t,r)};var Ds=ne(null);function wf(){var t=Ds.current;return t!==null?t:Je.pooledCache}function Ku(t,r){r===null?ie(Ds,Ds.current):ie(Ds,r.pool)}function cg(){var t=wf();return t===null?null:{parent:At._currentValue,pool:t}}var Qo=Error(s(460)),hg=Error(s(474)),Yu=Error(s(542)),Af={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function dg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Qu,Qu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,mg(t),t;default:if(typeof r.status=="string")r.then(Qu,Qu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,mg(t),t}throw $o=r,Qo}}var $o=null;function pg(){if($o===null)throw Error(s(459));var t=$o;return $o=null,t}function mg(t){if(t===Qo||t===Yu)throw Error(s(483))}var di=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=zu(t),tg(t,null,a),r}return ju(t,l,r,a),zu(t)}function Xo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,wo(t,a)}}function Cf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var If=!1;function Wo(){if(If){var t=Ta;if(t!==null)throw t}}function Zo(t,r,a,l){If=!1;var h=t.updateQueue;di=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var X=t.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==_&&(E===null?X.firstBaseUpdate=B:E.next=B,X.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;_=0,X=B=C=null,E=d;do{var F=E.lane&-536870913,H=F!==E.lane;if(H?(Le&F)===F:(l&F)===F){F!==0&&F===Ea&&(If=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Te=t,ve=E;F=r;var Xe=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){J=Te.call(Xe,J,F);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,F=typeof Te=="function"?Te.call(Xe,J,F):Te,F==null)break e;J=x({},J,F);break e;case 2:di=!0}}F=E.callback,F!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[F]:H.push(F))}else H={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(B=X=H,C=J):X=X.next=H,_|=F;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(C=J),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),bi|=_,t.lanes=_,t.memoizedState=J}}function gg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function yg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],r)}var ba=ne(null),$u=ne(0);function vg(t,r){t=qr,ie($u,t),ie(ba,r),qr=t|r.baseLanes}function Nf(){ie($u,qr),ie(ba,ba.current)}function Df(){qr=$u.current,le(ba),le($u)}var gi=0,Re=null,Qe=null,yt=null,Xu=!1,wa=!1,Os=!1,Wu=0,Jo=0,Aa=null,WT=0;function ft(){throw Error(s(321))}function Of(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!cn(t[a],r[a]))return!1;return!0}function kf(t,r,a,l,h,d){return gi=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?ty:ny,Os=!1,d=a(l,h),Os=!1,wa&&(d=xg(r,a,l,h)),_g(t),d}function _g(t){$.H=rc;var r=Qe!==null&&Qe.next!==null;if(gi=0,yt=Qe=Re=null,Xu=!1,Jo=0,Aa=null,r)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Hu(t)&&(Ot=!0))}function xg(t,r,a,l){Re=t;var h=0;do{if(wa&&(Aa=null),Jo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=ib,d=r(a,l)}while(wa);return d}function ZT(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?el(r):r,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Re.flags|=1024),r}function Vf(){var t=Wu!==0;return Wu=0,t}function Mf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Pf(t){if(Xu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Xu=!1}gi=0,yt=Qe=Re=null,wa=!1,Jo=Wu=0,Aa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Re.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Qe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=yt===null?Re.memoizedState:yt.next;if(r!==null)yt=r,Qe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Re.memoizedState=yt=t:yt=yt.next=t}return yt}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var r=Jo;return Jo+=1,Aa===null&&(Aa=[]),t=dg(Aa,t,r),r=Re,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?ty:ny),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===re)return Kt(t)}throw Error(s(438,String(t)))}function Uf(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lf(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function Lr(t,r){return typeof r=="function"?r(t):r}function Ju(t){var r=vt();return jf(r,Qe,t)}function jf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var E=_=null,C=null,B=r,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Le&J)===J:(gi&J)===J){var F=B.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Ea&&(X=!0);else if((gi&F)===F){B=B.next,F===Ea&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=J,_=d):C=C.next=J,Re.lanes|=F,bi|=F;J=B.action,Os&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else F={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=F,_=d):C=C.next=F,Re.lanes|=J,bi|=J;B=B.next}while(B!==null&&B!==r);if(C===null?_=d:C.next=E,!cn(d,t.memoizedState)&&(Ot=!0,X&&(a=Ta,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);cn(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Eg(t,r,a){var l=Re,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!cn((Qe||h).memoizedState,a);_&&(h.memoizedState=a,Ot=!0),h=h.queue;var E=wg.bind(null,l,h,t);if(tl(2048,8,E,[t]),h.getSnapshot!==r||_||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Sa(9,ec(),bg.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(gi&124)!==0||Tg(l,r,a)}return a}function Tg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Lf(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function bg(t,r,a,l){r.value=a,r.getSnapshot=l,Ag(r)&&Sg(t)}function wg(t,r,a){return a(function(){Ag(r)&&Sg(t)})}function Ag(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!cn(t,a)}catch{return!0}}function Sg(t){var r=ya(t,2);r!==null&&gn(r,t,2)}function Bf(t){var r=nn();if(typeof t=="function"){var a=t;if(t=a(),Os){ln(!0);try{a()}finally{ln(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},r}function Rg(t,r,a,l){return t.baseState=a,jf(t,Qe,typeof l=="function"?l:Lr)}function JT(t,r,a,l,h){if(nc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Cg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Cg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,_={};$.T=_;try{var E=a(h,l),C=$.S;C!==null&&C(_,E),Ig(t,r,E)}catch(B){Ff(t,r,B)}finally{$.T=d}}else try{d=a(h,l),Ig(t,r,d)}catch(B){Ff(t,r,B)}}function Ig(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ng(t,r,l)},function(l){return Ff(t,r,l)}):Ng(t,r,a)}function Ng(t,r,a){r.status="fulfilled",r.value=a,Dg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Cg(t,a)))}function Ff(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Dg(r),r=r.next;while(r!==l)}t.action=null}function Dg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Og(t,r){return r}function kg(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=Re;if(Be){if(ut){t:{for(var h=ut,d=tr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Un(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(r=a[0])}}return a=nn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:r},a.queue=l,a=Zg.bind(null,Re,l),l.dispatch=a,l=Bf(!1),d=Yf.bind(null,Re,!1,l.queue),l=nn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=JT.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Vg(t){var r=vt();return Mg(r,Qe,t)}function Mg(t,r,a){if(r=jf(t,r,Og)[0],t=Ju(Lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=el(r)}catch(_){throw _===Qo?Yu:_}else l=r;r=vt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Sa(9,ec(),eb.bind(null,h,a),null)),[l,d,t]}function eb(t,r){t.action=r}function Pg(t){var r=vt(),a=Qe;if(a!==null)return Mg(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Sa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Lf(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ec(){return{destroy:void 0,resource:void 0}}function Lg(){return vt().memoizedState}function tc(t,r,a,l){var h=nn();l=l===void 0?null:l,Re.flags|=t,h.memoizedState=Sa(1|r,ec(),a,l)}function tl(t,r,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Of(l,Qe.memoizedState.deps)?h.memoizedState=Sa(r,d,a,l):(Re.flags|=t,h.memoizedState=Sa(1|r,d,a,l))}function Ug(t,r){tc(8390656,8,t,r)}function jg(t,r){tl(2048,8,t,r)}function zg(t,r){return tl(4,2,t,r)}function Bg(t,r){return tl(4,4,t,r)}function Fg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function qg(t,r,a){a=a!=null?a.concat([t]):null,tl(4,4,Fg.bind(null,r,t),a)}function qf(){}function Hg(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Of(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Gg(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Of(r,l[1]))return l[0];if(l=t(),Os){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,r],l}function Hf(t,r,a){return a===void 0||(gi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Qy(),Re.lanes|=t,bi|=t,a)}function Kg(t,r,a,l){return cn(a,r)?a:ba.current!==null?(t=Hf(t,a,l),cn(t,r)||(Ot=!0),t):(gi&42)===0?(Ot=!0,t.memoizedState=a):(t=Qy(),Re.lanes|=t,bi|=t,r)}function Yg(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=$.T,E={};$.T=E,Yf(t,!1,r,a);try{var C=h(),B=$.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=XT(C,l);nl(t,r,X,mn(t))}else nl(t,r,l,mn(t))}catch(J){nl(t,r,{then:function(){},status:"rejected",reason:J},mn())}finally{oe.p=d,$.T=_}}function tb(){}function Gf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Qg(t).queue;Yg(t,h,r,me,a===null?tb:function(){return $g(t),a(l)})}function Qg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function $g(t){var r=Qg(t).next.queue;nl(t,r,{},mn())}function Kf(){return Kt(xl)}function Xg(){return vt().memoizedState}function Wg(){return vt().memoizedState}function nb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=mn();t=pi(a);var l=mi(r,t,a);l!==null&&(gn(l,r,a),Xo(l,r,a)),r={cache:Tf()},t.payload=r;return}r=r.return}}function rb(t,r,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Jg(r,a):(a=ff(t,r,a,l),a!==null&&(gn(a,t,l),ey(a,r,l)))}function Zg(t,r,a){var l=mn();nl(t,r,a,l)}function nl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Jg(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,cn(E,_))return ju(t,r,h,0),Je===null&&Uu(),!1}catch{}finally{}if(a=ff(t,r,h,l),a!==null)return gn(a,t,l),ey(a,r,l),!0}return!1}function Yf(t,r,a,l){if(l={lane:2,revertLane:Ad(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(r)throw Error(s(479))}else r=ff(t,a,l,2),r!==null&&gn(r,t,2)}function nc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Jg(t,r){wa=Xu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ey(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,wo(t,a)}}var rc={readContext:Kt,use:Zu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},ty={readContext:Kt,use:Zu,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Ug,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Fg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return tc(4194308,4,t,r)},useInsertionEffect:function(t,r){tc(4,2,t,r)},useMemo:function(t,r){var a=nn();r=r===void 0?null:r;var l=t();if(Os){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=nn();if(a!==void 0){var h=a(r);if(Os){ln(!0);try{a(r)}finally{ln(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=Bf(t);var r=t.queue,a=Zg.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,r){var a=nn();return Hf(a,t,r)},useTransition:function(){var t=Bf(!1);return t=Yg.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,h=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Tg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ug(wg.bind(null,l,d,t),[t]),l.flags|=2048,Sa(9,ec(),bg.bind(null,l,d,a,r),null),a},useId:function(){var t=nn(),r=Je.identifierPrefix;if(Be){var a=Vr,l=kr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Wu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=WT++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Kf,useFormState:kg,useActionState:kg,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Yf.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:Uf,useCacheRefresh:function(){return nn().memoizedState=nb.bind(null,Re)}},ny={readContext:Kt,use:Zu,useCallback:Hg,useContext:Kt,useEffect:jg,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Ju,useRef:Lg,useState:function(){return Ju(Lr)},useDebugValue:qf,useDeferredValue:function(t,r){var a=vt();return Kg(a,Qe.memoizedState,t,r)},useTransition:function(){var t=Ju(Lr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:el(t),r]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,r){var a=vt();return Rg(a,Qe,t,r)},useMemoCache:Uf,useCacheRefresh:Wg},ib={readContext:Kt,use:Zu,useCallback:Hg,useContext:Kt,useEffect:jg,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:zf,useRef:Lg,useState:function(){return zf(Lr)},useDebugValue:qf,useDeferredValue:function(t,r){var a=vt();return Qe===null?Hf(a,t,r):Kg(a,Qe.memoizedState,t,r)},useTransition:function(){var t=zf(Lr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:el(t),r]},useSyncExternalStore:Eg,useId:Xg,useHostTransitionStatus:Kf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,r){var a=vt();return Qe!==null?Rg(a,Qe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:Wg},Ra=null,rl=0;function ic(t){var r=rl;return rl+=1,Ra===null&&(Ra=[]),dg(Ra,t,r)}function il(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ry(t){var r=t._init;return r(t._payload)}function iy(t){function r(P,k){if(t){var z=P.deletions;z===null?(P.deletions=[k],P.flags|=16):z.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)r(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=Or(P,k),P.index=0,P.sibling=null,P}function d(P,k,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<k?(P.flags|=67108866,k):z):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,k,z,Z){return k===null||k.tag!==6?(k=pf(z,P.mode,Z),k.return=P,k):(k=h(k,z),k.return=P,k)}function C(P,k,z,Z){var fe=z.type;return fe===M?X(P,k,z.props.children,Z,z.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&ry(fe)===k.type)?(k=h(k,z.props),il(k,z),k.return=P,k):(k=Bu(z.type,z.key,z.props,null,P.mode,Z),il(k,z),k.return=P,k)}function B(P,k,z,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=mf(z,P.mode,Z),k.return=P,k):(k=h(k,z.children||[]),k.return=P,k)}function X(P,k,z,Z,fe){return k===null||k.tag!==7?(k=ws(z,P.mode,Z,fe),k.return=P,k):(k=h(k,z),k.return=P,k)}function J(P,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=pf(""+k,P.mode,z),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return z=Bu(k.type,k.key,k.props,null,P.mode,z),il(z,k),z.return=P,z;case L:return k=mf(k,P.mode,z),k.return=P,k;case S:var Z=k._init;return k=Z(k._payload),J(P,k,z)}if(ot(k)||U(k))return k=ws(k,P.mode,z,null),k.return=P,k;if(typeof k.then=="function")return J(P,ic(k),z);if(k.$$typeof===re)return J(P,Gu(P,k),z);sc(P,k)}return null}function F(P,k,z,Z){var fe=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:E(P,k,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===fe?C(P,k,z,Z):null;case L:return z.key===fe?B(P,k,z,Z):null;case S:return fe=z._init,z=fe(z._payload),F(P,k,z,Z)}if(ot(z)||U(z))return fe!==null?null:X(P,k,z,Z,null);if(typeof z.then=="function")return F(P,k,ic(z),Z);if(z.$$typeof===re)return F(P,k,Gu(P,z),Z);sc(P,z)}return null}function H(P,k,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(z)||null,E(k,P,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return P=P.get(Z.key===null?z:Z.key)||null,C(k,P,Z,fe);case L:return P=P.get(Z.key===null?z:Z.key)||null,B(k,P,Z,fe);case S:var Ne=Z._init;return Z=Ne(Z._payload),H(P,k,z,Z,fe)}if(ot(Z)||U(Z))return P=P.get(z)||null,X(k,P,Z,fe,null);if(typeof Z.then=="function")return H(P,k,z,ic(Z),fe);if(Z.$$typeof===re)return H(P,k,z,Gu(k,Z),fe);sc(k,Z)}return null}function Te(P,k,z,Z){for(var fe=null,Ne=null,pe=k,_e=k=0,Vt=null;pe!==null&&_e<z.length;_e++){pe.index>_e?(Vt=pe,pe=null):Vt=pe.sibling;var je=F(P,pe,z[_e],Z);if(je===null){pe===null&&(pe=Vt);break}t&&pe&&je.alternate===null&&r(P,pe),k=d(je,k,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je,pe=Vt}if(_e===z.length)return a(P,pe),Be&&Ss(P,_e),fe;if(pe===null){for(;_e<z.length;_e++)pe=J(P,z[_e],Z),pe!==null&&(k=d(pe,k,_e),Ne===null?fe=pe:Ne.sibling=pe,Ne=pe);return Be&&Ss(P,_e),fe}for(pe=l(pe);_e<z.length;_e++)Vt=H(pe,P,_e,z[_e],Z),Vt!==null&&(t&&Vt.alternate!==null&&pe.delete(Vt.key===null?_e:Vt.key),k=d(Vt,k,_e),Ne===null?fe=Vt:Ne.sibling=Vt,Ne=Vt);return t&&pe.forEach(function(Oi){return r(P,Oi)}),Be&&Ss(P,_e),fe}function ve(P,k,z,Z){if(z==null)throw Error(s(151));for(var fe=null,Ne=null,pe=k,_e=k=0,Vt=null,je=z.next();pe!==null&&!je.done;_e++,je=z.next()){pe.index>_e?(Vt=pe,pe=null):Vt=pe.sibling;var Oi=F(P,pe,je.value,Z);if(Oi===null){pe===null&&(pe=Vt);break}t&&pe&&Oi.alternate===null&&r(P,pe),k=d(Oi,k,_e),Ne===null?fe=Oi:Ne.sibling=Oi,Ne=Oi,pe=Vt}if(je.done)return a(P,pe),Be&&Ss(P,_e),fe;if(pe===null){for(;!je.done;_e++,je=z.next())je=J(P,je.value,Z),je!==null&&(k=d(je,k,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return Be&&Ss(P,_e),fe}for(pe=l(pe);!je.done;_e++,je=z.next())je=H(pe,P,_e,je.value,Z),je!==null&&(t&&je.alternate!==null&&pe.delete(je.key===null?_e:je.key),k=d(je,k,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return t&&pe.forEach(function(sw){return r(P,sw)}),Be&&Ss(P,_e),fe}function Xe(P,k,z,Z){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var fe=z.key;k!==null;){if(k.key===fe){if(fe=z.type,fe===M){if(k.tag===7){a(P,k.sibling),Z=h(k,z.props.children),Z.return=P,P=Z;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&ry(fe)===k.type){a(P,k.sibling),Z=h(k,z.props),il(Z,z),Z.return=P,P=Z;break e}a(P,k);break}else r(P,k);k=k.sibling}z.type===M?(Z=ws(z.props.children,P.mode,Z,z.key),Z.return=P,P=Z):(Z=Bu(z.type,z.key,z.props,null,P.mode,Z),il(Z,z),Z.return=P,P=Z)}return _(P);case L:e:{for(fe=z.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(P,k.sibling),Z=h(k,z.children||[]),Z.return=P,P=Z;break e}else{a(P,k);break}else r(P,k);k=k.sibling}Z=mf(z,P.mode,Z),Z.return=P,P=Z}return _(P);case S:return fe=z._init,z=fe(z._payload),Xe(P,k,z,Z)}if(ot(z))return Te(P,k,z,Z);if(U(z)){if(fe=U(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ve(P,k,z,Z)}if(typeof z.then=="function")return Xe(P,k,ic(z),Z);if(z.$$typeof===re)return Xe(P,k,Gu(P,z),Z);sc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(P,k.sibling),Z=h(k,z),Z.return=P,P=Z):(a(P,k),Z=pf(z,P.mode,Z),Z.return=P,P=Z),_(P)):a(P,k)}return function(P,k,z,Z){try{rl=0;var fe=Xe(P,k,z,Z);return Ra=null,fe}catch(pe){if(pe===Qo||pe===Yu)throw pe;var Ne=hn(29,pe,null,P.mode);return Ne.lanes=Z,Ne.return=P,Ne}finally{}}}var Ca=iy(!0),sy=iy(!1),Rn=ne(null),nr=null;function yi(t){var r=t.alternate;ie(St,St.current&1),ie(Rn,t),nr===null&&(r===null||ba.current!==null||r.memoizedState!==null)&&(nr=t)}function ay(t){if(t.tag===22){if(ie(St,St.current),ie(Rn,t),nr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(nr=t)}}else vi()}function vi(){ie(St,St.current),ie(Rn,Rn.current)}function Ur(t){le(Rn),nr===t&&(nr=null),le(St)}var St=ne(0);function ac(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ld(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Qf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=mn(),h=pi(l);h.payload=r,a!=null&&(h.callback=a),r=mi(t,h,l),r!==null&&(gn(r,t,l),Xo(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=mn(),h=pi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=mi(t,h,l),r!==null&&(gn(r,t,l),Xo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=mn(),l=pi(a);l.tag=2,r!=null&&(l.callback=r),r=mi(t,l,a),r!==null&&(gn(r,t,a),Xo(r,t,a))}};function oy(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function ly(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&$f.enqueueReplaceState(r,r.state,null)}function ks(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uy(t){oc(t)}function cy(t){console.error(t)}function hy(t){oc(t)}function lc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function fy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,r,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,r)},a}function dy(t){return t=pi(t),t.tag=3,t}function py(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){fy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){fy(r,a,l),typeof h!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function sb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Go(r,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return nr===null?xd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Af?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Td(t,l,h)),!1;case 22:return a.flags|=65536,l===Af?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Td(t,l,h)),!1}throw Error(s(435,a.tag))}return Td(t,l,h),xd(),!1}if(Be)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==vf&&(t=Error(s(422),{cause:l}),Ho(bn(t,a)))):(l!==vf&&(r=Error(s(423),{cause:l}),Ho(bn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Xf(t.stateNode,l,h),Cf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),hl===null?hl=[d]:hl.push(d),ct!==4&&(ct=2),r===null)return!0;l=bn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wi===null||!wi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),py(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var my=Error(s(461)),Ot=!1;function jt(t,r,a,l){r.child=t===null?sy(r,null,a,l):Ca(r,t.child,a,l)}function gy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Ns(r),l=kf(t,r,a,_,d,h),E=Vf(),t!==null&&!Ot?(Mf(t,r,h),jr(t,r,h)):(Be&&E&&gf(r),r.flags|=1,jt(t,r,l,h),r.child)}function yy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,vy(t,r,d,l,h)):(t=Bu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!id(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(_,l)&&t.ref===r.ref)return jr(t,r,h)}return r.flags|=1,t=Or(d,l),t.ref=r.ref,t.return=r,r.child=t}function vy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(zo(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,jr(t,r,h)}return Wf(t,r,a,l,h)}function _y(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return xy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,d!==null?d.cachePool:null),d!==null?vg(r,d):Nf(),ay(r);else return r.lanes=r.childLanes=536870912,xy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ku(r,d.cachePool),vg(r,d),vi(),r.memoizedState=null):(t!==null&&Ku(r,null),Nf(),vi());return jt(t,r,h,a),r.child}function xy(t,r,a,l){var h=wf();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ku(r,null),Nf(),ay(r),t!==null&&Go(t,r,l,!0),null}function uc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Wf(t,r,a,l,h){return Ns(r),a=kf(t,r,a,l,void 0,h),l=Vf(),t!==null&&!Ot?(Mf(t,r,h),jr(t,r,h)):(Be&&l&&gf(r),r.flags|=1,jt(t,r,a,h),r.child)}function Ey(t,r,a,l,h,d){return Ns(r),r.updateQueue=null,a=xg(r,l,a,h),_g(t),l=Vf(),t!==null&&!Ot?(Mf(t,r,d),jr(t,r,d)):(Be&&l&&gf(r),r.flags|=1,jt(t,r,a,d),r.child)}function Ty(t,r,a,l,h){if(Ns(r),r.stateNode===null){var d=va,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Sf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):va,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),Zo(r,l,d,h),Wo(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var E=r.memoizedProps,C=ks(a,E);d.props=C;var B=d.context,X=a.contextType;_=va,typeof X=="object"&&X!==null&&(_=Kt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||B!==_)&&ly(r,d,l,_),di=!1;var F=r.memoizedState;d.state=F,Zo(r,l,d,h),Wo(),B=r.memoizedState,E||F!==B||di?(typeof J=="function"&&(Qf(r,a,J,l),B=r.memoizedState),(C=di||oy(r,a,C,l,F,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Rf(t,r),_=r.memoizedProps,X=ks(a,_),d.props=X,J=r.pendingProps,F=d.context,B=a.contextType,C=va,typeof B=="object"&&B!==null&&(C=Kt(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||F!==C)&&ly(r,d,l,C),di=!1,F=r.memoizedState,d.state=F,Zo(r,l,d,h),Wo();var H=r.memoizedState;_!==J||F!==H||di||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(Qf(r,a,E,l),H=r.memoizedState),(X=di||oy(r,a,X,l,F,H,C)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,uc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ca(r,t.child,null,h),r.child=Ca(r,null,a,h)):jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=jr(t,r,h),t}function by(t,r,a,l){return qo(),r.flags|=256,jt(t,r,a,l),r.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:cg()}}function ed(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Cn),t}function wy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?yi(r):vi(),Be){var E=ut,C;if(C=E){e:{for(C=E,E=tr;C.nodeType!==8;){if(!E){E=null;break e}if(C=Un(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(r.memoizedState={dehydrated:E,treeContext:As!==null?{id:kr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},C=hn(18,null,null,0),C.stateNode=E,C.return=r,r.child=C,tn=r,ut=null,C=!0):C=!1}C||Cs(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ld(E)?r.lanes=32:r.lanes=536870912,null;Ur(r)}return E=l.children,l=l.fallback,h?(vi(),h=r.mode,E=cc({mode:"hidden",children:E},h),l=ws(l,h,a,null),E.return=r,l.return=r,E.sibling=l,r.child=E,h=r.child,h.memoizedState=Jf(a),h.childLanes=ed(t,_,a),r.memoizedState=Zf,l):(yi(r),td(r,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)r.flags&256?(yi(r),r.flags&=-257,r=nd(t,r,a)):r.memoizedState!==null?(vi(),r.child=t.child,r.flags|=128,r=null):(vi(),h=l.fallback,E=r.mode,l=cc({mode:"visible",children:l.children},E),h=ws(h,E,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ca(r,t.child,null,a),l=r.child,l.memoizedState=Jf(a),l.childLanes=ed(t,_,a),r.memoizedState=Zf,r=h);else if(yi(r),Ld(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Ho({value:l,source:null,stack:null}),r=nd(t,r,a)}else if(Ot||Go(t,r,a,!1),_=(a&t.childLanes)!==0,Ot||_){if(_=Je,_!==null&&(l=a&-a,l=(l&42)!==0?1:si(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ya(t,l),gn(_,t,l),my;E.data==="$?"||xd(),r=nd(t,r,a)}else E.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ut=Un(E.nextSibling),tn=r,Be=!0,Rs=null,tr=!1,t!==null&&(An[Sn++]=kr,An[Sn++]=Vr,An[Sn++]=As,kr=t.id,Vr=t.overflow,As=r),r=td(r,l.children),r.flags|=4096);return r}return h?(vi(),h=l.fallback,E=r.mode,C=t.child,B=C.sibling,l=Or(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=Or(B,h):(h=ws(h,E,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,E=t.child.memoizedState,E===null?E=Jf(a):(C=E.cachePool,C!==null?(B=At._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=cg(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=ed(t,_,a),r.memoizedState=Zf,l):(yi(r),a=t.child,t=a.sibling,a=Or(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function td(t,r){return r=cc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function cc(t,r){return t=hn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nd(t,r,a){return Ca(r,t.child,null,a),t=td(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ay(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),xf(t.return,r,a)}function rd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Sy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,r);else if(t.tag===19)Ay(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),rd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(r,!0,a,null,d);break;case"together":rd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),bi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Go(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Or(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Or(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function id(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function ab(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),fi(r,At,t.memoizedState.cache),qo();break;case 27:case 5:ii(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:fi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(yi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?wy(t,r,a):(yi(r),t=jr(t,r,a),t!==null?t.sibling:null);yi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Go(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Sy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,_y(t,r,a);case 24:fi(r,At,t.memoizedState.cache)}return jr(t,r,a)}function Ry(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!id(t,a)&&(r.flags&128)===0)return Ot=!1,ab(t,r,a);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(r.flags&1048576)!==0&&rg(r,qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")df(l)?(t=ks(l,t),r.tag=1,r=Ty(null,r,l,t,a)):(r.tag=0,r=Wf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===he){r.tag=11,r=gy(null,r,l,t,a);break e}else if(h===D){r.tag=14,r=yy(null,r,l,t,a);break e}}throw r=Pt(l)||l,Error(s(306,r,""))}}return r;case 0:return Wf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ks(l,r.pendingProps),Ty(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Rf(t,r),Zo(r,l,null,a);var _=r.memoizedState;if(l=_.cache,fi(r,At,l),l!==d.cache&&Ef(r,[At],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=by(t,r,l,a);break e}else if(l!==h){h=bn(Error(s(424)),r),Ho(h),r=by(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Un(t.firstChild),tn=r,Be=!0,Rs=null,tr=!0,a=sy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),l===h){r=jr(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return uc(t,r),t===null?(a=Dv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=wc(be.current).createElement(a),l[Tt]=r,l[mt]=t,Bt(l,a,t),ht(l),r.stateNode=l):r.memoizedState=Dv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ii(r),t===null&&Be&&(l=r.stateNode=Cv(r.type,r.pendingProps,be.current),tn=r,tr=!0,h=ut,Ri(r.type)?(Ud=h,ut=Un(l.firstChild)):ut=h),jt(t,r,r.pendingProps.children,a),uc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=Vb(l,r.type,r.pendingProps,tr),l!==null?(r.stateNode=l,tn=r,ut=Un(l.firstChild),tr=!1,h=!0):h=!1),h||Cs(r)),ii(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:_!==null&&Vd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=kf(t,r,ZT,null,null,a),xl._currentValue=h),uc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=Mb(a,r.pendingProps,tr),a!==null?(r.stateNode=a,tn=r,ut=null,t=!0):t=!1),t||Cs(r)),null;case 13:return wy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ca(r,null,l,a):jt(t,r,l,a),r.child;case 11:return gy(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,fi(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ns(r),h=Kt(h),l=l(h),r.flags|=1,jt(t,r,l,a),r.child;case 14:return yy(t,r,r.type,r.pendingProps,a);case 15:return vy(t,r,r.type,r.pendingProps,a);case 19:return Sy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Or(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return _y(t,r,a);case 24:return Ns(r),l=Kt(At),t===null?(h=wf(),h===null&&(h=Je,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Sf(r),fi(r,At,h)):((t.lanes&a)!==0&&(Rf(t,r),Zo(r,null,null,a),Wo()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),fi(r,At,l)):(l=d.cache,fi(r,At,l),l!==h.cache&&Ef(r,[At],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function zr(t){t.flags|=4}function Cy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(r)){if(r=Rn.current,r!==null&&((Le&4194048)===Le?nr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==nr))throw $o=Af,hg;t.flags|=8192}}function hc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?To():536870912,t.lanes|=r,Oa|=r)}function sl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function ob(t,r,a){var l=r.pendingProps;switch(yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Pr(At),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fo(r)?zr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ag())),it(r),null;case 26:return a=r.memoizedState,t===null?(zr(r),a!==null?(it(r),Cy(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(zr(r),it(r),Cy(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&zr(r),it(r),r.flags&=-16777217),null;case 27:_r(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&zr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ye.current,Fo(r)?ig(r):(t=Cv(h,l,a),r.stateNode=t,zr(r))}return it(r),null;case 5:if(_r(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&zr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=ye.current,Fo(r))ig(r);else{switch(h=wc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=r,t[mt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zr(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&zr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Fo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ev(t.nodeValue,a)),t||Cs(r)}else t=wc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=r}else qo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),h=!1}else h=ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ur(r),r):(Ur(r),null)}if(Ur(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),hc(r,r.updateQueue),it(r),null;case 4:return qn(),t===null&&Id(r.stateNode.containerInfo),it(r),null;case 10:return Pr(r.type),it(r),null;case 19:if(le(St),h=r.memoizedState,h===null)return it(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)sl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=ac(t),d!==null){for(r.flags|=128,sl(h,!1),t=d.updateQueue,r.updateQueue=t,hc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ng(a,t),a=a.sibling;return ie(St,St.current&1|2),r.child}t=t.sibling}h.tail!==null&&yn()>pc&&(r.flags|=128,l=!0,sl(h,!1),r.lanes=4194304)}else{if(!l)if(t=ac(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,hc(r,t),sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(r),null}else 2*yn()-h.renderingStartTime>pc&&a!==536870912&&(r.flags|=128,l=!0,sl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=yn(),r.sibling=null,t=St.current,ie(St,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Ur(r),Df(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&hc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Ds),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Pr(At),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function lb(t,r){switch(yf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Pr(At),qn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return _r(r),null;case 13:if(Ur(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));qo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(St),null;case 4:return qn(),null;case 10:return Pr(r.type),null;case 22:case 23:return Ur(r),Df(),t!==null&&le(Ds),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Pr(At),null;case 25:return null;default:return null}}function Iy(t,r){switch(yf(r),r.tag){case 3:Pr(At),qn();break;case 26:case 27:case 5:_r(r);break;case 4:qn();break;case 13:Ur(r);break;case 19:le(St);break;case 10:Pr(r.type);break;case 22:case 23:Ur(r),Df(),t!==null&&le(Ds);break;case 24:Pr(At)}}function al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){We(r,r.return,E)}}function _i(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=r;var C=a,B=E;try{B()}catch(X){We(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function Ny(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{yg(r,a)}catch(l){We(t,t.return,l)}}}function Dy(t,r,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function ol(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function rr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function Oy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function sd(t,r,a){try{var l=t.stateNode;Ib(l,t.type,a,r),l[mt]=r}catch(h){We(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ri(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ri(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bc));else if(l!==4&&(l===27&&Ri(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(od(t,r,a),t=t.sibling;t!==null;)od(t,r,a),t=t.sibling}function fc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ri(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,r,a),t=t.sibling;t!==null;)fc(t,r,a),t=t.sibling}function Vy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Bt(r,l,a),r[Tt]=t,r[mt]=a}catch(d){We(t,t.return,d)}}var Br=!1,dt=!1,ld=!1,My=typeof WeakSet=="function"?WeakSet:Set,kt=null;function ub(t,r){if(t=t.containerInfo,Od=Nc,t=Km(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,B=0,X=0,J=t,F=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(E=_+h),J!==d||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)F=J,J=H;for(;;){if(J===t)break t;if(F===a&&++B===h&&(E=_),F===d&&++X===l&&(C=_),(H=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Nc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){We(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function Py(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&al(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=ks(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&Ny(a),l&512&&ol(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{yg(t,r)}catch(_){We(a,a.return,_)}}break;case 27:r===null&&l&4&&Vy(a);case 26:case 5:xi(t,a),r===null&&l&4&&Oy(a),l&512&&ol(a,a.return);break;case 12:xi(t,a);break;case 13:xi(t,a),l&4&&jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vb.bind(null,a),Pb(t,a))));break;case 22:if(l=a.memoizedState!==null||Br,!l){r=r!==null&&r.memoizedState!==null||dt,h=Br;var d=dt;Br=l,(dt=r)&&!d?Ei(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Br=h,dt=d}break;case 30:break;default:xi(t,a)}}function Ly(t){var r=t.alternate;r!==null&&(t.alternate=null,Ly(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&li(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,rn=!1;function Fr(t,r,a){for(a=a.child;a!==null;)Uy(t,r,a),a=a.sibling}function Uy(t,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||rr(a,r),Fr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||rr(a,r);var l=rt,h=rn;Ri(a.type)&&(rt=a.stateNode,rn=!1),Fr(t,r,a),gl(a.stateNode),rt=l,rn=h;break;case 5:dt||rr(a,r);case 6:if(l=rt,h=rn,rt=null,Fr(t,r,a),rt=l,rn=h,rt!==null)if(rn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:rt!==null&&(rn?(t=rt,Sv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wl(t)):Sv(rt,a.stateNode));break;case 4:l=rt,h=rn,rt=a.stateNode.containerInfo,rn=!0,Fr(t,r,a),rt=l,rn=h;break;case 0:case 11:case 14:case 15:dt||_i(2,a,r),dt||_i(4,a,r),Fr(t,r,a);break;case 1:dt||(rr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Dy(a,r,l)),Fr(t,r,a);break;case 21:Fr(t,r,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Fr(t,r,a),dt=l;break;default:Fr(t,r,a)}}function jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(a){We(r,r.return,a)}}function cb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new My),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new My),r;default:throw Error(s(435,t.tag))}}function ud(t,r){var a=cb(t);r.forEach(function(l){var h=_b.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Ri(E.type)){rt=E.stateNode,rn=!1;break e}break;case 5:rt=E.stateNode,rn=!1;break e;case 3:case 4:rt=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(rt===null)throw Error(s(160));Uy(d,_,h),rt=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)zy(r,t),r=r.sibling}var Ln=null;function zy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(_i(3,t,t.return),al(3,t),_i(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(dt||a===null||rr(a,a.return)),l&64&&Br&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(fn(r,t),dn(t),l&512&&(dt||a===null||rr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[Tt]=t,ht(d),l=d;break e;case"link":var _=Vv("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Vv("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ht(d),l=d}t.stateNode=l}else Mv(h,t.type,t.stateNode);else t.stateNode=kv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Mv(h,t.type,t.stateNode):kv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(dt||a===null||rr(a,a.return)),a!==null&&l&4&&sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(dt||a===null||rr(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(H){We(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){We(t,t.return,H)}}break;case 3:if(Rc=null,h=Ln,Ln=Ac(r.containerInfo),fn(r,t),Ln=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(r.containerInfo)}catch(H){We(t,t.return,H)}ld&&(ld=!1,By(t));break;case 4:l=Ln,Ln=Ac(t.stateNode.containerInfo),fn(r,t),dn(t),Ln=l;break;case 12:fn(r,t),dn(t);break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Br,X=dt;if(Br=B||h,dt=X||C,fn(r,t),dt=X,Br=B,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Br||dt||Vs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(H){We(C,C.return,H)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(H){We(C,C.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ud(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ad(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var E=ad(t);fc(t,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=ad(t);od(t,B,C);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;By(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function xi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Py(t,r.alternate,r),r=r.sibling}function Vs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:_i(4,r,r.return),Vs(r);break;case 1:rr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Dy(r,r.return,a),Vs(r);break;case 27:gl(r.stateNode);case 26:case 5:rr(r,r.return),Vs(r);break;case 22:r.memoizedState===null&&Vs(r);break;case 30:Vs(r);break;default:Vs(r)}t=t.sibling}}function Ei(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ei(h,d,a),al(4,d);break;case 1:if(Ei(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)gg(C[h],E)}catch(B){We(l,l.return,B)}}a&&_&64&&Ny(d),ol(d,d.return);break;case 27:Vy(d);case 26:case 5:Ei(h,d,a),a&&l===null&&_&4&&Oy(d),ol(d,d.return);break;case 12:Ei(h,d,a);break;case 13:Ei(h,d,a),a&&_&4&&jy(h,d);break;case 22:d.memoizedState===null&&Ei(h,d,a),ol(d,d.return);break;case 30:break;default:Ei(h,d,a)}r=r.sibling}}function cd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function hd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ko(t))}function ir(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fy(t,r,a,l),r=r.sibling}function Fy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ir(t,r,a,l),h&2048&&al(9,r);break;case 1:ir(t,r,a,l);break;case 3:ir(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){ir(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else ir(t,r,a,l);break;case 13:ir(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ir(t,r,a,l):ll(t,r):d._visibility&2?ir(t,r,a,l):(d._visibility|=2,Ia(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&cd(_,r);break;case 24:ir(t,r,a,l),h&2048&&hd(r.alternate,r);break;default:ir(t,r,a,l)}}function Ia(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,E=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ia(d,_,E,C,h),al(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ia(d,_,E,C,h):ll(d,_):(X._visibility|=2,Ia(d,_,E,C,h)),h&&B&2048&&cd(_.alternate,_);break;case 24:Ia(d,_,E,C,h),h&&B&2048&&hd(_.alternate,_);break;default:Ia(d,_,E,C,h)}r=r.sibling}}function ll(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&cd(l.alternate,l);break;case 24:ll(a,l),h&2048&&hd(l.alternate,l);break;default:ll(a,l)}r=r.sibling}}var ul=8192;function Na(t){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 26:Na(t),t.flags&ul&&t.memoizedState!==null&&$b(Ln,t.memoizedState,t.memoizedProps);break;case 5:Na(t);break;case 3:case 4:var r=Ln;Ln=Ac(t.stateNode.containerInfo),Na(t),Ln=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ul,ul=16777216,Na(t),ul=r):Na(t));break;default:Na(t)}}function Hy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function cl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,Ky(l,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&_i(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,dc(t)):cl(t);break;default:cl(t)}}function dc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,Ky(l,t)}Hy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:_i(8,r,r.return),dc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,dc(r));break;default:dc(r)}t=t.sibling}}function Ky(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:_i(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Ly(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var hb={getCacheForType:function(t){var r=Kt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},fb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,pn=null,Ti=!1,Da=!1,fd=!1,qr=0,ct=0,bi=0,Ms=0,dd=0,Cn=0,Oa=0,hl=null,sn=null,pd=!1,md=0,pc=1/0,mc=null,wi=null,zt=0,Ai=null,ka=null,Va=0,gd=0,yd=null,Yy=null,fl=0,vd=null;function mn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var t=Ea;return t!==0?t:Ad()}return ai()}function Qy(){Cn===0&&(Cn=(Le&536870912)===0||Be?Eo():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Cn}function gn(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Si(t,Le,Cn,!1)),Er(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Ms|=a),ct===4&&Si(t,Le,Cn,!1)),sr(t))}function $y(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||os(t,r),h=l?mb(t,r):Ed(t,r,!0),d=l;do{if(h===0){Da&&!l&&Si(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!db(a)){h=Ed(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=t;h=hl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ma(E,_).flags|=256),_=Ed(E,_,!1),_!==2){if(fd&&!C){E.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Si(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Si(l,r,Cn,!Ti);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=md+300-yn(),10<h)){if(Si(l,r,Cn,!Ti),Zs(l,0,!0)!==0)break e;l.timeoutHandle=wv(Xy.bind(null,l,a,sn,mc,pd,r,Cn,Ms,Oa,Ti,d,2,-0,0),h);break e}Xy(l,a,sn,mc,pd,r,Cn,Ms,Oa,Ti,d,0,-0,0)}}break}while(!0);sr(t)}function Xy(t,r,a,l,h,d,_,E,C,B,X,J,F,H){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(_l={stylesheets:null,count:0,unsuspend:Qb},qy(r),J=Xb(),J!==null)){t.cancelPendingCommit=J(rv.bind(null,t,r,d,a,l,h,_,E,C,X,1,F,H)),Si(t,d,_,!B);return}rv(t,r,d,a,l,h,_,E,C)}function db(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Si(t,r,a,l){r&=~dd,r&=~Ms,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Hn(t,a,r)}function gc(){return(Ge&6)===0?(dl(0),!1):!0}function _d(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Mr=Is=null,Pf(t),Ra=null,rl=0,t=De;for(;t!==null;)Iy(t.alternate,t),t=t.return;De=null}}function Ma(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Db(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_d(),Je=t,De=a=Or(t.current,null),Le=r,Ke=0,pn=null,Ti=!1,Da=os(t,r),fd=!1,Oa=Cn=dd=Ms=bi=ct=0,sn=hl=null,pd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return qr=r,Uu(),a}function Wy(t,r){Re=null,$.H=rc,r===Qo||r===Yu?(r=pg(),Ke=3):r===hg?(r=pg(),Ke=4):Ke=r===my?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,De===null&&(ct=1,lc(t,bn(r,t.current)))}function Zy(){var t=$.H;return $.H=rc,t===null?rc:t}function Jy(){var t=$.A;return $.A=hb,t}function xd(){ct=4,Ti||(Le&4194048)!==Le&&Rn.current!==null||(Da=!0),(bi&134217727)===0&&(Ms&134217727)===0||Je===null||Si(Je,Le,Cn,!1)}function Ed(t,r,a){var l=Ge;Ge|=2;var h=Zy(),d=Jy();(Je!==t||Le!==r)&&(mc=null,Ma(t,r)),r=!1;var _=ct;e:do try{if(Ke!==0&&De!==null){var E=De,C=pn;switch(Ke){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var B=Ke;if(Ke=0,pn=null,Pa(t,E,C,B),a&&Da){_=0;break e}break;default:B=Ke,Ke=0,pn=null,Pa(t,E,C,B)}}pb(),_=ct;break}catch(X){Wy(t,X)}while(!0);return r&&t.shellSuspendCounter++,Mr=Is=null,Ge=l,$.H=h,$.A=d,De===null&&(Je=null,Le=0,Uu()),_}function pb(){for(;De!==null;)ev(De)}function mb(t,r){var a=Ge;Ge|=2;var l=Zy(),h=Jy();Je!==t||Le!==r?(mc=null,pc=yn()+500,Ma(t,r)):Da=os(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=pn;t:switch(Ke){case 1:Ke=0,pn=null,Pa(t,r,d,1);break;case 2:case 9:if(fg(d)){Ke=0,pn=null,tv(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),sr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:fg(d)?(Ke=0,pn=null,tv(r)):(Ke=0,pn=null,Pa(t,r,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var E=De;if(!_||Pv(_)){Ke=0,pn=null;var C=E.sibling;if(C!==null)De=C;else{var B=E.return;B!==null?(De=B,yc(B)):De=null}break t}}Ke=0,pn=null,Pa(t,r,d,5);break;case 6:Ke=0,pn=null,Pa(t,r,d,6);break;case 8:_d(),ct=6;break e;default:throw Error(s(462))}}gb();break}catch(X){Wy(t,X)}while(!0);return Mr=Is=null,$.H=l,$.A=h,Ge=a,De!==null?0:(Je=null,Le=0,Uu(),ct)}function gb(){for(;De!==null&&!yo();)ev(De)}function ev(t){var r=Ry(t.alternate,t,qr);t.memoizedProps=t.pendingProps,r===null?yc(t):De=r}function tv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ey(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Ey(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Pf(r);default:Iy(a,r),r=De=ng(r,qr),r=Ry(a,r,qr)}t.memoizedProps=t.pendingProps,r===null?yc(t):De=r}function Pa(t,r,a,l){Mr=Is=null,Pf(r),Ra=null,rl=0;var h=r.return;try{if(sb(t,h,r,a,Le)){ct=1,lc(t,bn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,lc(t,bn(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:Da||(Le&536870912)!==0?t=!1:(Ti=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),nv(r,t)):yc(r)}function yc(t){var r=t;do{if((r.flags&32768)!==0){nv(r,Ti);return}t=r.return;var a=ob(r.alternate,r,qr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ct===0&&(ct=5)}function nv(t,r){do{var a=lb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function rv(t,r,a,l,h,d,_,E,C){t.cancelPendingCommit=null;do vc();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=hf,bo(t,a,d,_,E,C),t===Je&&(De=Je=null,Le=0),ka=r,Ai=t,Va=a,gd=d,yd=h,Yy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xb(rs,function(){return lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{ub(t,r,a)}finally{Ge=_,oe.p=h,$.T=l}}zt=1,iv(),sv(),av()}}function iv(){if(zt===1){zt=0;var t=Ai,r=ka,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{zy(r,t);var d=kd,_=Km(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Gm(E.ownerDocument.documentElement,E)){if(C!==null&&af(E)){var B=C.start,X=C.end;if(X===void 0&&(X=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(X,E.value.length);else{var J=E.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var H=F.getSelection(),Te=E.textContent.length,ve=Math.min(C.start,Te),Xe=C.end===void 0?ve:Math.min(C.end,Te);!H.extend&&ve>Xe&&(_=Xe,Xe=ve,ve=_);var P=Hm(E,ve),k=Hm(E,Xe);if(P&&k&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var z=J.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),ve>Xe?(H.addRange(z),H.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),H.addRange(z))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Z=J[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Nc=!!Od,kd=Od=null}finally{Ge=h,oe.p=l,$.T=a}}t.current=r,zt=2}}function sv(){if(zt===2){zt=0;var t=Ai,r=ka,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{Py(t,r.alternate,r)}finally{Ge=h,oe.p=l,$.T=a}}zt=3}}function av(){if(zt===4||zt===3){zt=0,du();var t=Ai,r=ka,a=Va,l=Yy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,ka=Ai=null,ov(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wi=null),Js(a),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=oe.p,oe.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{$.T=r,oe.p=h}}(Va&3)!==0&&vc(),sr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===vd?fl++:(fl=0,vd=t):fl=0,dl(0)}}function ov(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ko(r)))}function vc(t){return iv(),sv(),av(),lv()}function lv(){if(zt!==5)return!1;var t=Ai,r=gd;gd=0;var a=Js(Va),l=$.T,h=oe.p;try{oe.p=32>a?32:a,$.T=null,a=yd,yd=null;var d=Ai,_=Va;if(zt=0,ka=Ai=null,Va=0,(Ge&6)!==0)throw Error(s(331));var E=Ge;if(Ge|=4,Gy(d.current),Fy(d,d.current,_,a),Ge=E,dl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{oe.p=h,$.T=l,ov(t,r)}}function uv(t,r,a){r=bn(a,r),r=Xf(t.stateNode,r,2),t=mi(t,r,2),t!==null&&(Er(t,2),sr(t))}function We(t,r,a){if(t.tag===3)uv(t,t,a);else for(;r!==null;){if(r.tag===3){uv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){t=bn(a,t),a=dy(2),l=mi(r,a,2),l!==null&&(py(a,l,r,t),Er(l,2),sr(l));break}}r=r.return}}function Td(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(fd=!0,h.add(a),t=yb.bind(null,t,r,a),r.then(t,t))}function yb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>yn()-md?(Ge&2)===0&&Ma(t,0):dd|=a,Oa===Le&&(Oa=0)),sr(t)}function cv(t,r){r===0&&(r=To()),t=ya(t,r),t!==null&&(Er(t,r),sr(t))}function vb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),cv(t,a)}function _b(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),cv(t,a)}function xb(t,r){return ts(t,r)}var _c=null,La=null,bd=!1,xc=!1,wd=!1,Ps=0;function sr(t){t!==La&&t.next===null&&(La===null?_c=La=t:La=La.next=t),xc=!0,bd||(bd=!0,Tb())}function dl(t,r){if(!wd&&xc){wd=!0;do for(var a=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,pv(l,d))}else d=Le,d=Zs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,pv(l,d));l=l.next}while(a);wd=!1}}function Eb(){hv()}function hv(){xc=bd=!1;var t=0;Ps!==0&&(Nb()&&(t=Ps),Ps=0);for(var r=yn(),a=null,l=_c;l!==null;){var h=l.next,d=fv(l,r);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=h}dl(t)}function fv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Gt(d),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&l)!==0)&&(h[_]=xo(E,r)):C<=r&&(t.expiredLanes|=E),d&=~E}if(r=Je,a=Le,a=Zs(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||os(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ns(l),Js(a)){case 2:case 8:a=Xs;break;case 32:a=rs;break;case 268435456:a=Ws;break;default:a=rs}return l=dv.bind(null,t),a=ts(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function dv(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Le;return l=Zs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($y(t,l,r),fv(t,yn()),t.callbackNode!=null&&t.callbackNode===a?dv.bind(null,t):null)}function pv(t,r){if(vc())return null;$y(t,r,!0)}function Tb(){Ob(function(){(Ge&6)!==0?ts(vo,Eb):hv()})}function Ad(){return Ps===0&&(Ps=Eo()),Ps}function mv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function gv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function bb(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=mv((h[mt]||null).action),_=l.submitter;_&&(r=(r=_[mt]||null)?mv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var E=new aa("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var C=_?gv(h,_):new FormData(h);Gf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?gv(h,_):new FormData(h),Gf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Sd=0;Sd<cf.length;Sd++){var Rd=cf[Sd],wb=Rd.toLowerCase(),Ab=Rd[0].toUpperCase()+Rd.slice(1);Pn(wb,"on"+Ab)}Pn($m,"onAnimationEnd"),Pn(Xm,"onAnimationIteration"),Pn(Wm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(FT,"onTransitionRun"),Pn(qT,"onTransitionStart"),Pn(HT,"onTransitionCancel"),Pn(Zm,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function yv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var E=l[_],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=B;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(E=l[_],C=E.instance,B=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=B;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=C}}}}function Oe(t,r){var a=r[Ao];a===void 0&&(a=r[Ao]=new Set);var l=t+"__bubble";a.has(l)||(vv(r,t,2,!1),a.add(l))}function Cd(t,r,a){var l=0;r&&(l|=4),vv(a,t,l,r)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Ec]){t[Ec]=!0,So.forEach(function(a){a!=="selectionchange"&&(Sb.has(a)||Cd(a,!1,t),Cd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ec]||(r[Ec]=!0,Cd("selectionchange",!1,r))}}function vv(t,r,a,l){switch(Fv(r)){case 2:var h=Jb;break;case 8:h=ew;break;default:h=qd}a=h.bind(null,r,a,t),h=void 0,!En||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Nd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Tr(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}E=E.parentNode}}l=l.return}bu(function(){var B=d,X=xn(a),J=[];e:{var F=Jm.get(t);if(F!==void 0){var H=aa,Te=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":H=fa;break;case"focusin":Te="focus",H=ua;break;case"focusout":Te="blur",H=ua;break;case"beforeblur":case"afterblur":H=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Du;break;case $m:case Xm:case Wm:H=ca;break;case Zm:H=ku;break;case"scroll":case"scrollend":H=wu;break;case"wheel":H=da;break;case"copy":case"cut":case"paste":H=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Uo;break;case"toggle":case"beforetoggle":H=Mu}var ve=(r&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),P=ve?F!==null?F+"Capture":null:F;ve=[];for(var k=B,z;k!==null;){var Z=k;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||P===null||(Z=ms(k,P),Z!=null&&ve.push(ml(k,Z,z))),Xe)break;k=k.return}0<ve.length&&(F=new H(F,Te,null,a,X),J.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",F&&a!==Sr&&(Te=a.relatedTarget||a.fromElement)&&(Tr(Te)||Te[vn]))break e;if((H||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,H?(Te=a.relatedTarget||a.toElement,H=B,Te=Te?Tr(Te):null,Te!==null&&(Xe=u(Te),ve=Te.tag,Te!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(H=null,Te=B),H!==Te)){if(ve=Tn,Z="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Uo,Z="onPointerLeave",P="onPointerEnter",k="pointer"),Xe=H==null?F:Kn(H),z=Te==null?F:Kn(Te),F=new ve(Z,k+"leave",H,a,X),F.target=Xe,F.relatedTarget=z,Z=null,Tr(X)===B&&(ve=new ve(P,k+"enter",Te,a,X),ve.target=z,ve.relatedTarget=Xe,Z=ve),Xe=Z,H&&Te)t:{for(ve=H,P=Te,k=0,z=ve;z;z=Ua(z))k++;for(z=0,Z=P;Z;Z=Ua(Z))z++;for(;0<k-z;)ve=Ua(ve),k--;for(;0<z-k;)P=Ua(P),z--;for(;k--;){if(ve===P||P!==null&&ve===P.alternate)break t;ve=Ua(ve),P=Ua(P)}ve=null}else ve=null;H!==null&&_v(J,F,H,ve,!1),Te!==null&&Xe!==null&&_v(J,Xe,Te,ve,!0)}}e:{if(F=B?Kn(B):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var fe=Um;else if(wt(F))if(jm)fe=jT;else{fe=LT;var Ne=PT}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Do(B.elementType)&&(fe=Um):fe=UT;if(fe&&(fe=fe(t,B))){Dr(J,fe,a,X);break e}Ne&&Ne(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&ci(F,"number",F.value)}switch(Ne=B?Kn(B):window,t){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(pa=Ne,of=B,Bo=null);break;case"focusout":Bo=of=pa=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Ym(J,a,X);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":Ym(J,a,X)}var pe;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(pe=ko()):($n=X,hi="value"in $n?$n.value:$n.textContent,Me=!0)),Ne=Tc(B,_e),0<Ne.length&&(_e=new Po(_e,t,null,a,X),J.push({event:_e,listeners:Ne}),pe?_e.data=pe:(pe=ae(a),pe!==null&&(_e.data=pe)))),(pe=g?bt(t,a):Pe(t,a))&&(_e=Tc(B,"onBeforeInput"),0<_e.length&&(Ne=new Po("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:_e}),Ne.data=pe)),bb(J,t,B,a,X)}yv(J,r)})}function ml(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Tc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ms(t,a),h!=null&&l.unshift(ml(t,h,d)),h=ms(t,r),h!=null&&l.push(ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _v(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,h?(B=ms(a,d),B!=null&&_.unshift(ml(a,B,C))):h||(B=ms(a,d),B!=null&&_.push(ml(a,B,C)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Rb=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Cb,"")}function Ev(t,r){return r=xv(r),xv(t)===r}function bc(){}function $e(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&_n(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":No(t,l,d);break;case"data":if(r!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",h.name,h,null),$e(t,r,"formEncType",h.formEncType,h,null),$e(t,r,"formMethod",h.formMethod,h,null),$e(t,r,"formTarget",h.formTarget,h,null)):($e(t,r,"encType",h.encType,h,null),$e(t,r,"method",h.method,h,null),$e(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=bc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ui(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jh.get(a)||a,ui(t,a,l))}}function Dd(t,r,a,l,h,d){switch(a){case"style":No(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ui(t,a,l)}}}function Bt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,_,a,null)}}h&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var E=d=_=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":C=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$e(t,r,l,X,a,null)}}fs(t,d,E,C,B,_,h,!1),ia(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:$e(t,r,h,E,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ar(t,!!l,r,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$e(t,r,_,E,a,null)}ds(t,l,h,d),ia(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)Oe(pl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,B,l,a,null)}return;default:if(Do(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Dd(t,r,X,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$e(t,r,E,l,a,null))}function Ib(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,C=null,B=null,X=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(H)||$e(t,r,H,null,l,J)}}for(var F in l){var H=l[F];if(J=a[F],l.hasOwnProperty(F)&&(H!=null||J!=null))switch(F){case"type":d=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":X=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==J&&$e(t,r,F,H,l,J)}}un(t,_,E,C,B,X,d,h);return;case"select":H=_=E=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&$e(t,r,h,d,l,C)}r=E,a=_,l=H,F!=null?Ar(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ar(t,!!a,r,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":H=F=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,r,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,r,_,h,l,d)}Ye(t,F,H);return;case"option":for(var Te in a)if(F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:$e(t,r,Te,null,l,F)}for(C in l)if(F=l[C],H=a[C],l.hasOwnProperty(C)&&F!==H&&(F!=null||H!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:$e(t,r,C,F,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&$e(t,r,ve,null,l,F);for(B in l)if(F=l[B],H=a[B],l.hasOwnProperty(B)&&F!==H&&(F!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:$e(t,r,B,F,l,H)}return;default:if(Do(r)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&Dd(t,r,Xe,void 0,l,F);for(X in l)F=l[X],H=a[X],!l.hasOwnProperty(X)||F===H||F===void 0&&H===void 0||Dd(t,r,X,F,l,H);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&$e(t,r,P,null,l,F);for(J in l)F=l[J],H=a[J],!l.hasOwnProperty(J)||F===H||F==null&&H==null||$e(t,r,J,F,l,H)}var Od=null,kd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function Tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Vd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Md=null;function Nb(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var wv=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(kb)}:wv;function kb(t){setTimeout(function(){throw t})}function Ri(t){return t==="head"}function Sv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&gl(_.documentElement),a&2&&gl(_.body),a&4)for(a=_.head,gl(a),_=a.firstChild;_;){var E=_.nextSibling,C=_.nodeName;_[ls]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(h===0){t.removeChild(d),wl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);wl(r)}function Pd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),li(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vb(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ls])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function Mb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Pb(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Ud=null;function Rv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Cv(t,r,a){switch(r=wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function gl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);li(t)}var In=new Map,Iv=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hr=oe.d;oe.d={f:Lb,r:Ub,D:jb,C:zb,L:Bb,m:Fb,X:Hb,S:qb,M:Gb};function Lb(){var t=Hr.f(),r=gc();return t||r}function Ub(t){var r=Gn(t);r!==null&&r.tag===5&&r.type==="form"?$g(r):Hr.r(t)}var ja=typeof document>"u"?null:document;function Nv(t,r,a){var l=ja;if(l&&typeof r=="string"&&r){var h=gt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Iv.has(h)||(Iv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",t),ht(r),l.head.appendChild(r)))}}function jb(t){Hr.D(t),Nv("dns-prefetch",t,null)}function zb(t,r){Hr.C(t,r),Nv("preconnect",t,r)}function Bb(t,r,a){Hr.L(t,r,a);var l=ja;if(l&&t&&r){var h='link[rel="preload"][as="'+gt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(r){case"style":d=za(t);break;case"script":d=Ba(t)}In.has(d)||(t=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),In.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(yl(d))||r==="script"&&l.querySelector(vl(d))||(r=l.createElement("link"),Bt(r,"link",t),ht(r),l.head.appendChild(r)))}}function Fb(t,r){Hr.m(t,r);var a=ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!In.has(d)&&(t=x({rel:"modulepreload",href:t},r),In.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}l=a.createElement("link"),Bt(l,"link",t),ht(l),a.head.appendChild(l)}}}function qb(t,r,a){Hr.S(t,r,a);var l=ja;if(l&&t){var h=Zt(l).hoistableStyles,d=za(t);r=r||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(yl(d)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":r},a),(a=In.get(d))&&jd(t,a);var C=_=l.createElement("link");ht(C),Bt(C,"link",t),C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function Hb(t,r){Hr.X(t,r);var a=ja;if(a&&t){var l=Zt(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(t=x({src:t,async:!0},r),(r=In.get(h))&&zd(t,r),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Gb(t,r){Hr.M(t,r);var a=ja;if(a&&t){var l=Zt(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(t=x({src:t,async:!0,type:"module"},r),(r=In.get(h))&&zd(t,r),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Dv(t,r,a,l){var h=(h=be.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=za(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=Zt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),d||Kb(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ba(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+gt(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function Ov(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),ht(r),t.head.appendChild(r))}function Ba(t){return'[src="'+gt(t)+'"]'}function vl(t){return"script[async]"+t}function kv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return r.instance=l,ht(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),Bt(l,"style",h),Sc(l,a.precedence,t),r.instance=l;case"stylesheet":h=za(a.href);var d=t.querySelector(yl(h));if(d)return r.state.loading|=4,r.instance=d,ht(d),d;l=Ov(a),(h=In.get(h))&&jd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Bt(d,"link",l),r.state.loading|=4,Sc(d,a.precedence,t),r.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(vl(d)))?(r.instance=h,ht(h),h):(l=a,(h=In.get(d))&&(l=x({},a),zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),Bt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Sc(l,a.precedence,t));return r.instance}function Sc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===r)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function jd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Rc=null;function Vv(t,r,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function Mv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Yb(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var _l=null;function Qb(){}function $b(t,r,a){if(_l===null)throw Error(s(475));var l=_l;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=za(a.href),d=t.querySelector(yl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ht(d);return}d=t.ownerDocument||t,a=Ov(a),(h=In.get(h))&&jd(a,h),d=d.createElement("link"),ht(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Cc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Xb(){if(_l===null)throw Error(s(475));var t=_l;return t.stylesheets&&t.count===0&&Bd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Bd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,r.forEach(Wb,t),Ic=null,Cc.call(t))}function Wb(t,r){if(!(r.state.loading&4)){var a=Ic.get(t);if(a)var l=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var xl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Zb(t,r,a,l,h,d,_,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Lv(t,r,a,l,h,d,_,E,C,B,X,J){return t=new Zb(t,r,a,_,E,C,B,J),r=1,d===!0&&(r|=24),d=hn(3,null,null,r),t.current=d,d.stateNode=t,r=Tf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Sf(d),t}function Uv(t){return t?(t=va,t):va}function jv(t,r,a,l,h,d){h=Uv(h),l.context===null?l.context=h:l.pendingContext=h,l=pi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=mi(t,l,r),a!==null&&(gn(a,t,r),Xo(a,t,r))}function zv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Fd(t,r){zv(t,r),(t=t.alternate)&&zv(t,r)}function Bv(t){if(t.tag===13){var r=ya(t,67108864);r!==null&&gn(r,t,67108864),Fd(t,67108864)}}var Nc=!0;function Jb(t,r,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=2,qd(t,r,a,l)}finally{oe.p=d,$.T=h}}function ew(t,r,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=8,qd(t,r,a,l)}finally{oe.p=d,$.T=h}}function qd(t,r,a,l){if(Nc){var h=Hd(l);if(h===null)Nd(t,r,l,Dc,a),qv(t,l);else if(nw(h,t,r,a,l))l.stopPropagation();else if(qv(t,l),r&4&&-1<tw.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=kn(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-Gt(_);E.entanglements[1]|=C,_&=~C}sr(d),(Ge&6)===0&&(pc=yn()+500,dl(0))}}break;case 13:E=ya(d,2),E!==null&&gn(E,d,2),gc(),Fd(d,2)}if(d=Hd(l),d===null&&Nd(t,r,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,r,l,null,a)}}function Hd(t){return t=xn(t),Gd(t)}var Dc=null;function Gd(t){if(Dc=null,t=Tr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Dc=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case vo:return 2;case Xs:return 8;case rs:case Qh:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Kd=!1,Ci=null,Ii=null,Ni=null,El=new Map,Tl=new Map,Di=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(t,r){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":El.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(r.pointerId)}}function bl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Gn(r),r!==null&&Bv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function nw(t,r,a,l,h){switch(r){case"focusin":return Ci=bl(Ci,t,r,a,l,h),!0;case"dragenter":return Ii=bl(Ii,t,r,a,l,h),!0;case"mouseover":return Ni=bl(Ni,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,bl(El.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,bl(Tl.get(d)||null,t,r,a,l,h)),!0}return!1}function Hv(t){var r=Tr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,gu(t.priority,function(){if(a.tag===13){var l=mn();l=si(l);var h=ya(a,l);h!==null&&gn(h,a,l),Fd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Sr=l,a.target.dispatchEvent(l),Sr=null}else return r=Gn(a),r!==null&&Bv(r),t.blockedOn=a,!1;r.shift()}return!0}function Gv(t,r,a){Oc(t)&&a.delete(r)}function rw(){Kd=!1,Ci!==null&&Oc(Ci)&&(Ci=null),Ii!==null&&Oc(Ii)&&(Ii=null),Ni!==null&&Oc(Ni)&&(Ni=null),El.forEach(Gv),Tl.forEach(Gv)}function kc(t,r){t.blockedOn===r&&(t.blockedOn=null,Kd||(Kd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rw)))}var Vc=null;function Kv(t){Vc!==t&&(Vc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(r,3),r-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function wl(t){function r(C){return kc(C,t)}Ci!==null&&kc(Ci,t),Ii!==null&&kc(Ii,t),Ni!==null&&kc(Ni,t),El.forEach(r),Tl.forEach(r);for(var a=0;a<Di.length;a++){var l=Di[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)Hv(a),a.blockedOn===null&&Di.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[mt]||null;if(typeof d=="function")_||Kv(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[mt]||null)E=_.formAction;else if(Gd(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Kv(a)}}}function Yd(t){this._internalRoot=t}Mc.prototype.render=Yd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=mn();jv(a,l,t,r,null,null)},Mc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;jv(t.current,2,null,t,null,null),gc(),r[vn]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ai();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Di.length&&r!==0&&r<Di[a].priority;a++);Di.splice(a,0,t),a===0&&Hv(t)}};var Yv=e.version;if(Yv!=="19.1.0")throw Error(s(527,Yv,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{lt=Pc.inject(iw),He=Pc}catch{}}return Sl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=uy,d=cy,_=hy,E=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Lv(t,1,!1,null,null,a,l,h,d,_,E,null),t[vn]=r.current,Id(t),new Yd(r)},Sl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=uy,_=cy,E=hy,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=Lv(t,1,!0,r,a??null,l,h,d,_,E,C,B),r.context=Uv(null),a=r.current,l=mn(),l=si(l),h=pi(l),h.callback=null,mi(a,h,l),a=l,r.current.lanes=a,Er(r,a),sr(r),t[vn]=r.current,Id(t),new Mc(r)},Sl.version="19.1.0",Sl}var r_;function mw(){if(r_)return Xd.exports;r_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xd.exports=pw(),Xd.exports}var gw=mw();const yw=F0(gw);var Rl={},i_;function vw(){if(i_)return Rl;i_=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=f,Rl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,L){const M=new u,Q=w.length;if(Q<2)return M;const q=(L==null?void 0:L.decode)||x;let G=0;do{const W=w.indexOf("=",G);if(W===-1)break;const re=w.indexOf(";",G),he=re===-1?Q:re;if(W>he){G=w.lastIndexOf(";",W-1)+1;continue}const se=p(w,G,W),de=m(w,W,se),D=w.slice(se,de);if(M[D]===void 0){let S=p(w,W+1,he),R=m(w,he,S);const O=q(w.slice(S,R));M[D]=O}G=he+1}while(G<Q);return M}function p(w,L,M){do{const Q=w.charCodeAt(L);if(Q!==32&&Q!==9)return L}while(++L<M);return M}function m(w,L,M){for(;L>M;){const Q=w.charCodeAt(--L);if(Q!==32&&Q!==9)return L+1}return M}function y(w,L,M){const Q=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const q=Q(L);if(!e.test(q))throw new TypeError(`argument val is invalid: ${L}`);let G=w+"="+q;if(!M)return G;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);G+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);G+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);G+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);G+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(G+="; HttpOnly"),M.secure&&(G+="; Secure"),M.partitioned&&(G+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return G}function x(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return o.call(w)==="[object Date]"}return Rl}vw();var s_="popstate";function _w(i={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return pp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return Ew(e,n,null,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xw(){return Math.random().toString(36).substring(2,10)}function a_(i,e){return{usr:i.state,key:i.key,idx:e}}function pp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:n,key:e&&e.key||s||xw()}}function Bl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ao(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Ew(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,y=x();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function x(){return(f.state||{idx:null}).idx}function A(){p="POP";let q=x(),G=q==null?null:q-y;y=q,m&&m({action:p,location:Q.location,delta:G})}function w(q,G){p="PUSH";let W=pp(Q.location,q,G);y=x()+1;let re=a_(W,y),he=Q.createHref(W);try{f.pushState(re,"",he)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(he)}u&&m&&m({action:p,location:Q.location,delta:1})}function L(q,G){p="REPLACE";let W=pp(Q.location,q,G);y=x();let re=a_(W,y),he=Q.createHref(W);f.replaceState(re,"",he),u&&m&&m({action:p,location:Q.location,delta:0})}function M(q){return Tw(q)}let Q={get action(){return p},get location(){return i(o,f)},listen(q){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(s_,A),m=q,()=>{o.removeEventListener(s_,A),m=null}},createHref(q){return e(o,q)},createURL:M,encodeLocation(q){let G=M(q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:L,go(q){return f.go(q)}};return Q}function Tw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Bl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function q0(i,e,n="/"){return bw(i,e,n,!1)}function bw(i,e,n,s){let o=typeof e=="string"?ao(e):e,u=$r(o.pathname||"/",n);if(u==null)return null;let f=H0(i);ww(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let y=Mw(u);p=kw(f[m],y,s)}return p}function H0(i,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(st(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let y=Yr([s,m.relativePath]),x=n.concat(m);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),H0(u.children,e,x,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Dw(y,u.index),routesMeta:x})};return i.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of G0(u.path))o(u,f,m)}),e}function G0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=G0(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function ww(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Ow(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,Sw=3,Rw=2,Cw=1,Iw=10,Nw=-2,o_=i=>i==="*";function Dw(i,e){let n=i.split("/"),s=n.length;return n.some(o_)&&(s+=Nw),e&&(s+=Rw),n.filter(o=>!o_(o)).reduce((o,u)=>o+(Aw.test(u)?Sw:u===""?Cw:Iw),s)}function Ow(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function kw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],y=p===s.length-1,x=u==="/"?e:e.slice(u.length)||"/",A=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},x),w=m.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Yr([u,A.pathname]),pathnameBase:jw(Yr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Yr([u,A.pathnameBase]))}return f}function sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Vw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:A},w)=>{if(x==="*"){let M=p[w]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const L=p[w];return A&&!L?y[x]=void 0:y[x]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function Vw(i,e=!1,n=!0){pr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Mw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function $r(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Pw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ao(i):i;return{pathname:n?n.startsWith("/")?n:Lw(n,e):e,search:zw(s),hash:Bw(o)}}function Lw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ep(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function K0(i){let e=Uw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Y0(i,e,n,s=!1){let o;typeof i=="string"?o=ao(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),ep("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),ep("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),ep("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}p=A>=0?e[A]:"/"}let m=Pw(o,p),y=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(y||x)&&(m.pathname+="/"),m}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),jw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Fw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Q0=["POST","PUT","PATCH","DELETE"];new Set(Q0);var qw=["GET",...Q0];new Set(qw);var oo=Y.createContext(null);oo.displayName="DataRouter";var Sh=Y.createContext(null);Sh.displayName="DataRouterState";var $0=Y.createContext({isTransitioning:!1});$0.displayName="ViewTransition";var Hw=Y.createContext(new Map);Hw.displayName="Fetchers";var Gw=Y.createContext(null);Gw.displayName="Await";var gr=Y.createContext(null);gr.displayName="Navigation";var Zl=Y.createContext(null);Zl.displayName="Location";var yr=Y.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var Fp=Y.createContext(null);Fp.displayName="RouteError";function Kw(i,{relative:e}={}){st(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(gr),{hash:o,pathname:u,search:f}=eu(i,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Yr([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Jl(){return Y.useContext(Zl)!=null}function Gs(){return st(Jl(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Zl).location}var X0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W0(i){Y.useContext(gr).static||Y.useLayoutEffect(i)}function vr(){let{isDataRoute:i}=Y.useContext(yr);return i?s1():Yw()}function Yw(){st(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let i=Y.useContext(oo),{basename:e,navigator:n}=Y.useContext(gr),{matches:s}=Y.useContext(yr),{pathname:o}=Gs(),u=JSON.stringify(K0(s)),f=Y.useRef(!1);return W0(()=>{f.current=!0}),Y.useCallback((m,y={})=>{if(pr(f.current,X0),!f.current)return;if(typeof m=="number"){n.go(m);return}let x=Y0(m,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Yr([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,u,o,i])}Y.createContext(null);function Z0(){let{matches:i}=Y.useContext(yr),e=i[i.length-1];return e?e.params:{}}function eu(i,{relative:e}={}){let{matches:n}=Y.useContext(yr),{pathname:s}=Gs(),o=JSON.stringify(K0(n));return Y.useMemo(()=>Y0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Qw(i,e){return J0(i,e)}function J0(i,e,n,s){var G;st(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(gr),{matches:u}=Y.useContext(yr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",x=f&&f.route;{let W=x&&x.path||"";ex(m,!x||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Gs(),w;if(e){let W=typeof e=="string"?ao(e):e;st(y==="/"||((G=W.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),w=W}else w=A;let L=w.pathname||"/",M=L;if(y!=="/"){let W=y.replace(/^\//,"").split("/");M="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let Q=q0(i,{pathname:M});pr(x||Q!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pr(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Jw(Q&&Q.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Yr([y,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:Yr([y,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return e&&q?Y.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},q):q}function $w(){let i=i1(),e=Fw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var Xw=Y.createElement($w,null),Ww=class extends Y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Y.createElement(yr.Provider,{value:this.props.routeContext},Y.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:i,match:e,children:n}){let s=Y.useContext(oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(yr.Provider,{value:i},n)}function Jw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);st(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:x,errors:A}=n,w=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,y,x)=>{let A,w=!1,L=null,M=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||Xw,f&&(p<0&&x===0?(ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):p===x&&(w=!0,M=y.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,x+1)),q=()=>{let G;return A?G=L:w?G=M:y.route.Component?G=Y.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=m,Y.createElement(Zw,{match:y,routeContext:{outlet:m,matches:Q,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?Y.createElement(Ww,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:q(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):q()},null)}function qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(i){let e=Y.useContext(oo);return st(e,qp(i)),e}function t1(i){let e=Y.useContext(Sh);return st(e,qp(i)),e}function n1(i){let e=Y.useContext(yr);return st(e,qp(i)),e}function Hp(i){let e=n1(i),n=e.matches[e.matches.length-1];return st(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function r1(){return Hp("useRouteId")}function i1(){var s;let i=Y.useContext(Fp),e=t1("useRouteError"),n=Hp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function s1(){let{router:i}=e1("useNavigate"),e=Hp("useNavigate"),n=Y.useRef(!1);return W0(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{pr(n.current,X0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var l_={};function ex(i,e,n){!e&&!l_[i]&&(l_[i]=!0,pr(!1,n))}Y.memo(a1);function a1({routes:i,future:e,state:n}){return J0(i,void 0,n,e)}function Vi(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),p=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ao(n));let{pathname:m="/",search:y="",hash:x="",state:A=null,key:w="default"}=n,L=Y.useMemo(()=>{let M=$r(m,f);return M==null?null:{location:{pathname:M,search:y,hash:x,state:A,key:w},navigationType:s}},[f,m,y,x,A,w,s]);return pr(L!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Y.createElement(gr.Provider,{value:p},Y.createElement(Zl.Provider,{children:e,value:L}))}function l1({children:i,location:e}){return Qw(mp(i),e)}function mp(i,e=[]){let n=[];return Y.Children.forEach(i,(s,o)=>{if(!Y.isValidElement(s))return;let u=[...e,o];if(s.type===Y.Fragment){n.push.apply(n,mp(s.props.children,u));return}st(s.type===Vi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mp(s.props.children,u)),n.push(f)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function Rh(i){return i!=null&&typeof i.tagName=="string"}function u1(i){return Rh(i)&&i.tagName.toLowerCase()==="button"}function c1(i){return Rh(i)&&i.tagName.toLowerCase()==="form"}function h1(i){return Rh(i)&&i.tagName.toLowerCase()==="input"}function f1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function d1(i,e){return i.button===0&&(!e||e==="_self")&&!f1(i)}var Lc=null;function p1(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var m1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(i){return i!=null&&!m1.has(i)?(pr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):i}function g1(i,e){let n,s,o,u,f;if(c1(i)){let p=i.getAttribute("action");s=p?$r(p,e):null,n=i.getAttribute("method")||Kc,o=tp(i.getAttribute("enctype"))||Yc,u=new FormData(i)}else if(u1(i)||h1(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(s=m?$r(m,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Kc,o=tp(i.getAttribute("formenctype"))||tp(p.getAttribute("enctype"))||Yc,u=new FormData(p,i),!p1()){let{name:y,type:x,value:A}=i;if(x==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(Rh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function y1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await y1(u,n);return f.links?f.links():[]}return[]}));return b1(s.flat(1).filter(v1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u_(i,e,n,s,o,u){let f=(m,y)=>n[y]?m.route.id!==n[y].route.id:!0,p=(m,y)=>{var x;return n[y].pathname!==m.pathname||((x=n[y].route.path)==null?void 0:x.endsWith("*"))&&n[y].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,y)=>f(m,y)||p(m,y)):u==="data"?e.filter((m,y)=>{var A;let x=s.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(f(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function x1(i,e,{includeHydrateFallback:n}={}){return E1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function E1(i){return[...new Set(i)]}function T1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function b1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(T1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w1=new Set([100,101,204,205]);function A1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&$r(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function tx(){let i=Y.useContext(oo);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function S1(){let i=Y.useContext(Sh);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=Y.createContext(void 0);Kp.displayName="FrameworkContext";function nx(){let i=Y.useContext(Kp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function R1(i,e){let n=Y.useContext(Kp),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:x,onTouchStart:A}=e,w=Y.useRef(null);Y.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=G=>{G.forEach(W=>{f(W.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[i]),Y.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let L=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Cl(p,L),onBlur:Cl(m,M),onMouseEnter:Cl(y,L),onMouseLeave:Cl(x,M),onTouchStart:Cl(A,L)}]:[!1,w,{}]}function Cl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function C1({page:i,...e}){let{router:n}=tx(),s=Y.useMemo(()=>q0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?Y.createElement(N1,{page:i,matches:s,...e}):null}function I1(i){let{manifest:e,routeModules:n}=nx(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return _1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function N1({page:i,matches:e,...n}){let s=Gs(),{manifest:o,routeModules:u}=nx(),{basename:f}=tx(),{loaderData:p,matches:m}=S1(),y=Y.useMemo(()=>u_(i,e,m,o,s,"data"),[i,e,m,o,s]),x=Y.useMemo(()=>u_(i,e,m,o,s,"assets"),[i,e,m,o,s]),A=Y.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,Q=!1;if(e.forEach(G=>{var re;let W=o.routes[G.route.id];!W||!W.hasLoader||(!y.some(he=>he.route.id===G.route.id)&&G.route.id in p&&((re=u[G.route.id])!=null&&re.shouldRevalidate)||W.hasClientLoader?Q=!0:M.add(G.route.id))}),M.size===0)return[];let q=A1(i,f);return Q&&M.size>0&&q.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[f,p,s,o,y,e,i,u]),w=Y.useMemo(()=>x1(x,o),[x,o]),L=I1(x);return Y.createElement(Y.Fragment,null,A.map(M=>Y.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),w.map(M=>Y.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),L.map(({key:M,link:Q})=>Y.createElement("link",{key:M,...Q})))}function D1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rx&&(window.__reactRouterVersion="7.6.2")}catch{}function O1({basename:i,children:e,window:n}){let s=Y.useRef();s.current==null&&(s.current=_w({window:n,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),p=Y.useCallback(m=>{Y.startTransition(()=>f(m))},[f]);return Y.useLayoutEffect(()=>o.listen(p),[o,p]),Y.createElement(o1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sx=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:y,preventScrollReset:x,viewTransition:A,...w},L){let{basename:M}=Y.useContext(gr),Q=typeof y=="string"&&ix.test(y),q,G=!1;if(typeof y=="string"&&Q&&(q=y,rx))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=$r(O.pathname,M);O.origin===R.origin&&V!=null?y=V+O.search+O.hash:G=!0}catch{pr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Kw(y,{relative:o}),[re,he,se]=R1(s,w),de=P1(y,{replace:f,state:p,target:m,preventScrollReset:x,relative:o,viewTransition:A});function D(R){e&&e(R),R.defaultPrevented||de(R)}let S=Y.createElement("a",{...w,...se,href:q||W,onClick:G||u?e:D,ref:D1(L,he),target:m,"data-discover":!Q&&n==="render"?"true":void 0});return re&&!Q?Y.createElement(Y.Fragment,null,S,Y.createElement(C1,{page:W})):S});sx.displayName="Link";var k1=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...y},x){let A=eu(f,{relative:y.relative}),w=Gs(),L=Y.useContext(Sh),{navigator:M,basename:Q}=Y.useContext(gr),q=L!=null&&B1(A)&&p===!0,G=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,W=w.pathname,re=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,G=G.toLowerCase()),re&&Q&&(re=$r(re,Q)||re);const he=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let se=W===G||!o&&W.startsWith(G)&&W.charAt(he)==="/",de=re!=null&&(re===G||!o&&re.startsWith(G)&&re.charAt(G.length)==="/"),D={isActive:se,isPending:de,isTransitioning:q},S=se?e:void 0,R;typeof s=="function"?R=s(D):R=[s,se?"active":null,de?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return Y.createElement(sx,{...y,"aria-current":S,className:R,ref:x,style:O,to:f,viewTransition:p},typeof m=="function"?m(D):m)});k1.displayName="NavLink";var V1=Y.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:p,onSubmit:m,relative:y,preventScrollReset:x,viewTransition:A,...w},L)=>{let M=j1(),Q=z1(p,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&ix.test(p),W=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,se=(he==null?void 0:he.getAttribute("formmethod"))||f;M(he||re.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:y,preventScrollReset:x,viewTransition:A})};return Y.createElement("form",{ref:L,method:q,action:Q,onSubmit:s?m:W,...w,"data-discover":!G&&i==="render"?"true":void 0})});V1.displayName="Form";function M1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(i){let e=Y.useContext(oo);return st(e,M1(i)),e}function P1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=vr(),m=Gs(),y=eu(i,{relative:u});return Y.useCallback(x=>{if(d1(x,e)){x.preventDefault();let A=n!==void 0?n:Bl(m)===Bl(y);p(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,y,n,s,e,i,o,u,f])}var L1=0,U1=()=>`__${String(++L1)}__`;function j1(){let{router:i}=ax("useSubmit"),{basename:e}=Y.useContext(gr),n=r1();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:y}=g1(s,e);if(o.navigate===!1){let x=o.fetcherKey||U1();await i.fetch(x,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function z1(i,{relative:e}={}){let{basename:n}=Y.useContext(gr),s=Y.useContext(yr);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(i||".",{relative:e})},f=Gs();if(i==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(x=>x==="")){p.delete("index"),m.filter(A=>A).forEach(A=>p.append("index",A));let x=p.toString();u.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yr([n,u.pathname])),Bl(u)}function B1(i,e={}){let n=Y.useContext($0);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ax("useViewTransitionState"),o=eu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=$r(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}[...w1];const F1=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},q1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],p=i[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,p=f?i[o+1]:0,m=o+2<i.length,y=m?i[o+2]:0,x=u>>2,A=(u&3)<<4|p>>4;let w=(p&15)<<2|y>>6,L=y&63;m||(L=64,f||(w=64)),s.push(n[x],n[A],n[w],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ox(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):q1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||p==null||y==null||A==null)throw new H1;const w=u<<2|p>>4;if(s.push(w),y!==64){const L=p<<4&240|y>>2;if(s.push(L),A!==64){const M=y<<6&192|A;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(i){const e=ox(i);return lx.encodeByteArray(e,!0)},ah=function(i){return G1(i).replace(/\./g,"")},ux=function(i){try{return lx.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=()=>K1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof c_>"u")return;const i=c_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ux(i[1]);return e&&JSON.parse(e)},Ch=()=>{try{return F1()||Y1()||Q1()||$1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},cx=i=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},X1=i=>{const e=cx(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hx=()=>{var i;return(i=Ch())===null||i===void 0?void 0:i.config},fx=i=>{var e;return(e=Ch())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dx(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Ml={};function J1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?i.emulator.push(e):i.prod.push(e);return i}function eA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let h_=!1;function px(i,e){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Ml[i]===e||Ml[i]||h_)return;Ml[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=J1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{h_=!0,f()},w}function x(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=eA(s),L=n("text"),M=document.getElementById(L)||document.createElement("span"),Q=n("learnmore"),q=document.getElementById(Q)||document.createElement("a"),G=n("preprendIcon"),W=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;p(re),x(q,Q);const he=y();m(W,G),re.append(W,M,q,he),document.body.appendChild(re)}u?(M.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function nA(){var i;const e=(i=Ch())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function oA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cA,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hA(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ti(o,p,s)}}function hA(i,e){return i.replace(fA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fA=/\{\$([^}]+)}/g;function dA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function js(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(f_(u)&&f_(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function f_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Il(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function pA(i,e){const n=new mA(i,e);return n.subscribe.bind(n)}class mA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=np),o.error===void 0&&(o.error=np),o.complete===void 0&&(o.complete=np);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(i){return i&&i._delegate?i._delegate:i}class zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new W1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(i){return i===Ls?void 0:i}function _A(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const EA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},TA=ke.INFO,bA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},wA=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=bA[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=TA,this._logHandler=wA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const AA=(i,e)=>e.some(n=>i instanceof n);let d_,p_;function SA(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RA(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mx=new WeakMap,gp=new WeakMap,gx=new WeakMap,rp=new WeakMap,Qp=new WeakMap;function CA(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(zi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&mx.set(n,i)}).catch(()=>{}),Qp.set(e,i),e}function IA(i){if(gp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});gp.set(i,e)}let yp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return gp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gx.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function NA(i){yp=i(yp)}function DA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ip(this),e,...n);return gx.set(s,e.sort?e.sort():[e]),zi(s)}:RA().includes(i)?function(...e){return i.apply(ip(this),e),zi(mx.get(this))}:function(...e){return zi(i.apply(ip(this),e))}}function OA(i){return typeof i=="function"?DA(i):(i instanceof IDBTransaction&&IA(i),AA(i,SA())?new Proxy(i,yp):i)}function zi(i){if(i instanceof IDBRequest)return CA(i);if(rp.has(i))return rp.get(i);const e=OA(i);return e!==i&&(rp.set(i,e),Qp.set(e,i)),e}const ip=i=>Qp.get(i);function kA(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),p=zi(f);return s&&f.addEventListener("upgradeneeded",m=>{s(zi(f.result),m.oldVersion,m.newVersion,zi(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const VA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],sp=new Map;function m_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=MA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VA.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&m.done]))[0]};return sp.set(e,u),u}NA(i=>({...i,get:(e,n,s)=>m_(e,n)||i.get(e,n,s),has:(e,n)=>!!m_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",g_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Yp("@firebase/app"),UA="@firebase/app-compat",jA="@firebase/analytics-compat",zA="@firebase/analytics",BA="@firebase/app-check-compat",FA="@firebase/app-check",qA="@firebase/auth",HA="@firebase/auth-compat",GA="@firebase/database",KA="@firebase/data-connect",YA="@firebase/database-compat",QA="@firebase/functions",$A="@firebase/functions-compat",XA="@firebase/installations",WA="@firebase/installations-compat",ZA="@firebase/messaging",JA="@firebase/messaging-compat",eS="@firebase/performance",tS="@firebase/performance-compat",nS="@firebase/remote-config",rS="@firebase/remote-config-compat",iS="@firebase/storage",sS="@firebase/storage-compat",aS="@firebase/firestore",oS="@firebase/ai",lS="@firebase/firestore-compat",uS="firebase",cS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",hS={[vp]:"fire-core",[UA]:"fire-core-compat",[zA]:"fire-analytics",[jA]:"fire-analytics-compat",[FA]:"fire-app-check",[BA]:"fire-app-check-compat",[qA]:"fire-auth",[HA]:"fire-auth-compat",[GA]:"fire-rtdb",[KA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[QA]:"fire-fn",[$A]:"fire-fn-compat",[XA]:"fire-iid",[WA]:"fire-iid-compat",[ZA]:"fire-fcm",[JA]:"fire-fcm-compat",[eS]:"fire-perf",[tS]:"fire-perf-compat",[nS]:"fire-rc",[rS]:"fire-rc-compat",[iS]:"fire-gcs",[sS]:"fire-gcs-compat",[aS]:"fire-fst",[lS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,fS=new Map,xp=new Map;function y_(i,e){try{i.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ja(i){const e=i.name;if(xp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,i);for(const n of oh.values())y_(n,i);for(const n of fS.values())y_(n,i);return!0}function $p(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Nn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new tu("app","Firebase",dS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=cS;function yx(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_p,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(n||(n=hx()),!n)throw Bi.create("no-options");const u=oh.get(o);if(u){if(js(n,u.options)&&js(s,u.config))return u;throw Bi.create("duplicate-app",{appName:o})}const f=new xA(o);for(const m of xp.values())f.addComponent(m);const p=new pS(n,s,f);return oh.set(o,p),p}function vx(i=_p){const e=oh.get(i);if(!e&&i===_p&&hx())return yx();if(!e)throw Bi.create("no-app",{appName:i});return e}function Fi(i,e,n){var s;let o=(s=hS[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(p.join(" "));return}Ja(new zs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebase-heartbeat-database",gS=1,Fl="firebase-heartbeat-store";let ap=null;function _x(){return ap||(ap=kA(mS,gS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Bi.create("idb-open",{originalErrorMessage:i.message})})),ap}async function yS(i){try{const n=(await _x()).transaction(Fl),s=await n.objectStore(Fl).get(xx(i));return await n.done,s}catch(e){if(e instanceof ti)Xr.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function v_(i,e){try{const s=(await _x()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,xx(i)),await s.done}catch(n){if(n instanceof ti)Xr.warn(n.message);else{const s=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(s.message)}}}function xx(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1024,_S=30;class xS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=__();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_S){const f=bS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=__(),{heartbeatsToSend:s,unsentEntries:o}=ES(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Xr.warn(n),""}}}function __(){return new Date().toISOString().substring(0,10)}function ES(i,e=vS){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),x_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function x_(i){return ah(JSON.stringify({version:2,heartbeats:i})).length}function bS(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(i){Ja(new zs("platform-logger",e=>new PA(e),"PRIVATE")),Ja(new zs("heartbeat",e=>new xS(e),"PRIVATE")),Fi(vp,g_,i),Fi(vp,g_,"esm2017"),Fi("fire-js","")}wS("");var AS="firebase",SS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(AS,SS,"app");function Xp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RS=Ex,Tx=new tu("auth","Firebase",Ex());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Yp("@firebase/auth");function CS(i,...e){lh.logLevel<=ke.WARN&&lh.warn(`Auth (${uo}): ${i}`,...e)}function Qc(i,...e){lh.logLevel<=ke.ERROR&&lh.error(`Auth (${uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(i,...e){throw Wp(i,...e)}function or(i,...e){return Wp(i,...e)}function bx(i,e,n){const s=Object.assign(Object.assign({},RS()),{[e]:n});return new tu("auth","Firebase",s).create(e,{appName:i.name})}function Qr(i){return bx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Tx.create(i,...e)}function xe(i,e,...n){if(!i)throw Wp(e,...n)}function Gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Qc(e),new Error(e)}function Wr(i,e){i||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function IS(){return E_()==="http:"||E_()==="https:"}function E_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IS()||iA()||"connection"in navigator)?navigator.onLine:!0}function DS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=tA()||sA()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(i,e){Wr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VS=new ru(3e4,6e4);function ni(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ri(i,e,n,s,o={}){return Ax(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=nu(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:m},u);return rA()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&lo(i.emulatorConfig.host)&&(y.credentials="include"),wx.fetch()(await Sx(i,i.config.apiHost,n,p),y)})}async function Ax(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},OS),e);try{const o=new PS(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Uc(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw Uc(i,"user-disabled",f);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bx(i,x,y);Bn(i,x)}}catch(o){if(o instanceof ti)throw o;Bn(i,"network-request-failed",{message:String(o)})}}async function iu(i,e,n,s,o={}){const u=await ri(i,e,n,s,o);return"mfaPendingCredential"in u&&Bn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Sx(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Zp(i.config,o):`${i.config.apiScheme}://${o}`;return kS.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function MS(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(or(this.auth,"network-request-failed")),VS.get())})}}function Uc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=or(i,e,s);return o.customData._tokenResponse=n,o}function T_(i){return i!==void 0&&i.enterprise!==void 0}class LS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function US(i,e){return ri(i,"GET","/v2/recaptchaConfig",ni(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(i,e){return ri(i,"POST","/v1/accounts:delete",e)}async function uh(i,e){return ri(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zS(i,e=!1){const n=on(i),s=await n.getIdToken(e),o=Jp(s);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Pl(op(o.auth_time)),issuedAtTime:Pl(op(o.iat)),expirationTime:Pl(op(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function op(i){return Number(i)*1e3}function Jp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ux(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function b_(i){const e=Jp(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ti&&BS(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function BS({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ql(i,uh(n,{idToken:s}));xe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Rx(u.providerUserInfo):[],p=HS(i.providerData,f),m=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(p!=null&&p.length),x=m?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Tp(u.createdAt,u.lastLoginAt),isAnonymous:x};Object.assign(i,A)}async function qS(i){const e=on(i);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HS(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Rx(i){return i.map(e=>{var{providerId:n}=e,s=Xp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(i,e){const n=await Ax(i,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Sx(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return i.emulatorConfig&&lo(i.emulatorConfig.host)&&(m.credentials="include"),wx.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KS(i,e){return ri(i,"POST","/v2/accounts:revokeToken",ni(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await GS(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ya;return s&&(xe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zS(this,e)}reload(){return qS(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await ql(this,jS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,y,x;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(p=n.tenantId)!==null&&p!==void 0?p:void 0,q=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,G=(y=n.createdAt)!==null&&y!==void 0?y:void 0,W=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:re,emailVerified:he,isAnonymous:se,providerData:de,stsTokenManager:D}=n;xe(re&&D,e,"internal-error");const S=Ya.fromJSON(this.name,D);xe(typeof re=="string",e,"internal-error"),ki(A,e.name),ki(w,e.name),xe(typeof he=="boolean",e,"internal-error"),xe(typeof se=="boolean",e,"internal-error"),ki(L,e.name),ki(M,e.name),ki(Q,e.name),ki(q,e.name),ki(G,e.name),ki(W,e.name);const R=new jn({uid:re,auth:e,email:w,emailVerified:he,displayName:A,isAnonymous:se,photoURL:M,phoneNumber:L,tenantId:Q,stsTokenManager:S,createdAt:G,lastLoginAt:W});return de&&Array.isArray(de)&&(R.providerData=de.map(O=>Object.assign({},O))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ya;o.updateFromServerResponse(n);const u=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Rx(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ya;p.updateFromIdToken(s);const m=new jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;function Kr(i){Wr(i instanceof Function,"Expected a class definition");let e=w_.get(i);return e?(Wr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,w_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cx.type="NONE";const A_=Cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(i,e,n){return`firebase:${i}:${e}:${n}`}class Qa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qa(Kr(A_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Kr(A_);const f=$c(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(f);if(x){let A;if(typeof x=="string"){const w=await uh(e,{idToken:x}).catch(()=>{});if(!w)break;A=await jn._fromGetAccountInfoResponse(e,w,x)}else A=jn._fromJSON(e,x);y!==u&&(p=A),u=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Qa(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Qa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ox(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ix(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vx(e))return"Blackberry";if(Mx(e))return"Webos";if(Nx(e))return"Safari";if((e.includes("chrome/")||Dx(e))&&!e.includes("edge/"))return"Chrome";if(kx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ix(i=Wt()){return/firefox\//i.test(i)}function Nx(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dx(i=Wt()){return/crios\//i.test(i)}function Ox(i=Wt()){return/iemobile/i.test(i)}function kx(i=Wt()){return/android/i.test(i)}function Vx(i=Wt()){return/blackberry/i.test(i)}function Mx(i=Wt()){return/webos/i.test(i)}function em(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function YS(i=Wt()){var e;return em(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QS(){return aA()&&document.documentMode===10}function Px(i=Wt()){return em(i)||kx(i)||Mx(i)||Vx(i)||/windows phone/i.test(i)||Ox(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i,e=[]){let n;switch(i){case"Browser":n=S_(Wt());break;case"Worker":n=`${S_(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(i,e={}){return ri(i,"GET","/v2/passwordPolicy",ni(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=6;class ZS{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:WS,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Qr(this));const n=e?on(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XS(this),n=new ZS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(i){return on(i)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pA(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eR(i){Ih=i}function Ux(i){return Ih.loadJS(i)}function tR(){return Ih.recaptchaEnterpriseScript}function nR(){return Ih.gapiScript}function rR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class iR{constructor(){this.enterprise=new sR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aR="recaptcha-enterprise",jx="NO_RECAPTCHA";class oR{constructor(e){this.type=aR,this.auth=Ji(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{US(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new LS(m);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;T_(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(jx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&T_(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=tR();m.length!==0&&(m+=p),Ux(m).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function C_(i,e,n,s=!1,o=!1){const u=new oR(i);let f;if(o)f=jx;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function hh(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await C_(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await C_(i,e,n,n==="getOobCode");return s(i,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(i,e){const n=$p(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(js(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function uR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cR(i,e,n){const s=Ji(i);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=zx(e),{host:f,port:p}=hR(e),m=p===null?"":`:${p}`,y={url:`${u}//${f}${m}/`},x=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(js(y,s.config.emulator)&&js(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(dx(`${u}//${f}${m}`),px("Auth",!0)):fR()}function zx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function hR(i){const e=zx(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:I_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:I_(f)}}}function I_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function fR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function dR(i,e){return ri(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(i,e){return iu(i,"POST","/v1/accounts:signInWithPassword",ni(i,e))}async function mR(i,e){return ri(i,"POST","/v1/accounts:sendOobCode",ni(i,e))}async function gR(i,e){return mR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,e){return iu(i,"POST","/v1/accounts:signInWithEmailLink",ni(i,e))}async function vR(i,e){return iu(i,"POST","/v1/accounts:signInWithEmailLink",ni(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends tm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Hl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Hl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hh(e,n,"signInWithPassword",pR);case"emailLink":return yR(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hh(e,s,"signUpPassword",dR);case"emailLink":return vR(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(i,e){return iu(i,"POST","/v1/accounts:signInWithIdp",ni(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="http://localhost";class Bs extends tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Xp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Bs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$a(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:_R,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ER(i){const e=Il(Nl(i)).link,n=e?Il(Nl(e)).deep_link_id:null,s=Il(Nl(i)).deep_link_id;return(s?Il(Nl(s)).link:null)||s||n||e||i}class nm{constructor(e){var n,s,o,u,f,p;const m=Il(Nl(e)),y=(n=m.apiKey)!==null&&n!==void 0?n:null,x=(s=m.oobCode)!==null&&s!==void 0?s:null,A=xR((o=m.mode)!==null&&o!==void 0?o:null);xe(y&&x&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=x,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=ER(e);try{return new nm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,n){return Hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=nm.parseLink(n);return xe(s,"argument-error"),Hl._fromEmailAndCode(e,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends su{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pi.credential(n,s)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends su{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends su{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(i,e){return iu(i,"POST","/v1/accounts:signUp",ni(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await jn._fromIdTokenResponse(e,s,o),f=N_(s);return new Fs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=N_(s);return new Fs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function N_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends ti{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fh(e,n,s,o)}}function Fx(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(i,u,e,s):u})}async function bR(i,e,n=!1){const s=await ql(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Fs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i,e,n=!1){const{auth:s}=i;if(Nn(s.app))return Promise.reject(Qr(s));const o="reauthenticate";try{const u=await ql(i,Fx(s,o,e,i),n);xe(u.idToken,s,"internal-error");const f=Jp(u.idToken);xe(f,s,"internal-error");const{sub:p}=f;return xe(i.uid===p,s,"user-mismatch"),Fs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(i,e,n=!1){if(Nn(i.app))return Promise.reject(Qr(i));const s="signIn",o=await Fx(i,s,e),u=await Fs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function AR(i,e){return qx(Ji(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(i){const e=Ji(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SR(i,e,n){const s=Ji(i);await hh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gR)}async function RR(i,e,n){if(Nn(i.app))return Promise.reject(Qr(i));const s=Ji(i),f=await hh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TR).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Hx(i),m}),p=await Fs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function CR(i,e,n){return Nn(i.app)?Promise.reject(Qr(i)):AR(on(i),co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hx(i),s})}function IR(i,e,n,s){return on(i).onIdTokenChanged(e,n,s)}function NR(i,e,n){return on(i).beforeAuthStateChanged(e,n)}function DR(i){return on(i).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1e3,kR=10;class Kx extends Gx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Px(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);QS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kx.type="LOCAL";const VR=Kx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Gx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yx.type="SESSION";const Qx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),m=await MR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const y=rm("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(x),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function LR(i){lr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function UR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function zR(){return $x()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebaseLocalStorageDb",BR=1,ph="firebaseLocalStorage",Wx="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(i,e){return i.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function FR(){const i=indexedDB.deleteDatabase(Xx);return new au(i).toPromise()}function bp(){const i=indexedDB.open(Xx,BR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ph,{keyPath:Wx})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await FR(),e(await bp()))})})}async function D_(i,e,n){const s=Dh(i,!0).put({[Wx]:e,value:n});return new au(s).toPromise()}async function qR(i,e){const n=Dh(i,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function O_(i,e){const n=Dh(i,!0).delete(e);return new au(n).toPromise()}const HR=800,GR=3;class Zx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $x()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(zR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UR(),!this.activeServiceWorker)return;this.sender=new PR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await D_(e,dh,"1"),await O_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>D_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zx.type="LOCAL";const KR=Zx;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(i,e){return e?Kr(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QR(i){return qx(i.auth,new im(i),i.bypassAuthState)}function $R(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),wR(n,new im(i),i.bypassAuthState)}async function XR(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),bR(n,new im(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QR;case"linkViaPopup":case"linkViaRedirect":return XR;case"reauthViaPopup":case"reauthViaRedirect":return $R;default:Bn(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new ru(2e3,1e4);class Ka extends Jx{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WR.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="pendingRedirect",Xc=new Map;class JR extends Jx{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(i,e){const n=rC(e),s=nC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tC(i,e){Xc.set(i._key(),e)}function nC(i){return Kr(i._redirectPersistence)}function rC(i){return $c(ZR,i.config.apiKey,i.name)}async function iC(i,e,n=!1){if(Nn(i.app))return Promise.reject(Qr(i));const s=Ji(i),o=YR(s,e),f=await new JR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=10*60*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!eE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(or(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(e))}saveEventToCache(e){this.cachedEventUids.add(k_(e)),this.lastProcessedEventTime=Date.now()}}function k_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function eE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,e={}){return ri(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await lC(i);for(const n of e)try{if(fC(n))return}catch{}Bn(i,"unauthorized-domain")}function fC(i){const e=Ep(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cC.test(n))return!1;if(uC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new ru(3e4,6e4);function V_(){const i=lr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function pC(i){return new Promise((e,n)=>{var s,o,u;function f(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),n(or(i,"network-request-failed"))},timeout:dC.get()})}if(!((o=(s=lr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=lr().gapi)===null||u===void 0)&&u.load)f();else{const p=rR("iframefcb");return lr()[p]=()=>{gapi.load?f():n(or(i,"network-request-failed"))},Ux(`${nR()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function mC(i){return Wc=Wc||pC(i),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new ru(5e3,15e3),yC="__/auth/iframe",vC="emulator/auth/iframe",_C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Zp(e,vC):`https://${i.config.authDomain}/${yC}`,s={apiKey:e.apiKey,appName:i.name,v:uo},o=xC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function TC(i){const e=await mC(i),n=lr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:EC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_C,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=or(i,"network-request-failed"),p=lr().setTimeout(()=>{u(f)},gC.get());function m(){lr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,AC=600,SC="_blank",RC="http://localhost";class M_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(i,e,n,s=wC,o=AC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},bC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Wt().toLowerCase();n&&(p=Dx(y)?SC:n),Ix(y)&&(e=e||RC,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[L,M])=>`${w}${L}=${M},`,"");if(YS(y)&&p!=="_self")return IC(e||"",p),new M_(null);const A=window.open(e||"",p,x);xe(A,i,"popup-blocked");try{A.focus()}catch{}return new M_(A)}function IC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",DC="emulator/auth/handler",OC=encodeURIComponent("fac");async function P_(i,e,n,s,o,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:uo,eventId:o};if(e instanceof Bx){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",dA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))f[x]=A}if(e instanceof su){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(f.scopes=x.join(","))}i.tenantId&&(f.tid=i.tenantId);const p=f;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const m=await i._getAppCheckToken(),y=m?`#${OC}=${encodeURIComponent(m)}`:"";return`${kC(i)}?${nu(p).slice(1)}${y}`}function kC({config:i}){return i.emulator?Zp(i,DC):`https://${i.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=iC,this._overrideRedirectResult=tC}async _openPopup(e,n,s,o){var u;Wr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await P_(e,n,s,Ep(),o);return CC(e,f,rm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await P_(e,n,s,Ep(),o);return LR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await TC(e),s=new aC(e);return n.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lp,{type:lp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[lp];f!==void 0&&n(!!f),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Px()||Nx()||em()}}const MC=VC;var L_="@firebase/auth",U_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UC(i){Ja(new zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(i)},y=new JS(s,o,u,m);return uR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ja(new zs("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(s=>new PC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(L_,U_,LC(i)),Fi(L_,U_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=5*60,zC=fx("authIdTokenMaxAge")||jC;let j_=null;const BC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zC)return;const o=n==null?void 0:n.token;j_!==o&&(j_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FC(i=vx()){const e=$p(i,"auth");if(e.isInitialized())return e.getImmediate();const n=lR(i,{popupRedirectResolver:MC,persistence:[KR,VR,Qx]}),s=fx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BC(u.toString());NR(n,f,()=>f(n.currentUser)),IR(n,p=>f(p))}}const o=cx("auth");return o&&cR(n,`http://${o}`),n}function qC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}eR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=or("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UC("Browser");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,tE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function R(){}R.prototype=S.prototype,D.D=S.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(O,V,U){for(var I=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)I[Pt-2]=arguments[Pt];return S.prototype[V].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=D.g[0],R=D.g[1],V=D.g[2];var U=D.g[3],I=S+(U^R&(V^U))+O[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=U+(V^S&(R^V))+O[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=V+(R^U&(S^R))+O[2]+606105819&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(S^V&(U^S))+O[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(U^R&(V^U))+O[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(V^S&(R^V))+O[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=V+(R^U&(S^R))+O[6]+2821735955&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(S^V&(U^S))+O[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(U^R&(V^U))+O[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(V^S&(R^V))+O[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=V+(R^U&(S^R))+O[10]+4294925233&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(S^V&(U^S))+O[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(U^R&(V^U))+O[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(V^S&(R^V))+O[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=V+(R^U&(S^R))+O[14]+2792965006&4294967295,V=U+(I<<17&4294967295|I>>>15),I=R+(S^V&(U^S))+O[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=S+(V^U&(R^V))+O[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(S^R))+O[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(U^S))+O[11]+643717713&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(V^U))+O[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^U&(R^V))+O[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(S^R))+O[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(U^S))+O[15]+3634488961&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(V^U))+O[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^U&(R^V))+O[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(S^R))+O[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(U^S))+O[3]+4107603335&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(V^U))+O[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(V^U&(R^V))+O[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^V&(S^R))+O[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=V+(S^R&(U^S))+O[7]+1735328473&4294967295,V=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(V^U))+O[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=S+(R^V^U)+O[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^V)+O[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=V+(U^S^R)+O[11]+1839030562&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^S)+O[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^U)+O[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^V)+O[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=V+(U^S^R)+O[7]+4139469664&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^S)+O[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^U)+O[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^V)+O[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=V+(U^S^R)+O[3]+3572445317&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^S)+O[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(R^V^U)+O[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^V)+O[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=V+(U^S^R)+O[15]+530742520&4294967295,V=U+(I<<16&4294967295|I>>>16),I=R+(V^U^S)+O[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=S+(V^(R|~U))+O[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~V))+O[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=V+(S^(U|~R))+O[14]+2878612391&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~S))+O[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~U))+O[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~V))+O[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=V+(S^(U|~R))+O[10]+4293915773&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~S))+O[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~U))+O[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~V))+O[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=V+(S^(U|~R))+O[6]+2734768916&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~S))+O[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=S+(V^(R|~U))+O[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~V))+O[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=V+(S^(U|~R))+O[2]+718787259&4294967295,V=U+(I<<15&4294967295|I>>>17),I=R+(U^(V|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var R=S-this.blockSize,O=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=R;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<S;)if(O[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<S;)if(O[V++]=D[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var R=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=R&255,R/=256;for(this.u(D),D=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)D[R++]=this.g[S]>>>O&255;return D};function u(D,S){var R=p;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=S(D)}function f(D,S){this.h=S;for(var R=[],O=!0,V=D.length-1;0<=V;V--){var U=D[V]|0;O&&U==S||(R[V]=U,O=!1)}this.g=R}var p={};function m(D){return-128<=D&&128>D?u(D,function(S){return new f([S|0],0>S?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return q(y(-D));for(var S=[],R=1,O=0;D>=R;O++)S[O]=D/R|0,R*=4294967296;return new f(S,0)}function x(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return q(x(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),O=A,V=0;V<D.length;V+=8){var U=Math.min(8,D.length-V),I=parseInt(D.substring(V,V+U),S);8>U?(U=y(Math.pow(S,U)),O=O.j(U).add(y(I))):(O=O.j(R),O=O.add(y(I)))}return O}var A=m(0),w=m(1),L=m(16777216);i=f.prototype,i.m=function(){if(Q(this))return-q(this).m();for(var D=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);D+=(0<=O?O:4294967296+O)*S,S*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(Q(this))return"-"+q(this).toString(D);for(var S=y(Math.pow(D,6)),R=this,O="";;){var V=he(R,S).g;R=G(R,V.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=V,M(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function Q(D){return D.h==-1}i.l=function(D){return D=G(this,D),Q(D)?-1:M(D)?0:1};function q(D){for(var S=D.g.length,R=[],O=0;O<S;O++)R[O]=~D.g[O];return new f(R,~D.h).add(w)}i.abs=function(){return Q(this)?q(this):this},i.add=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0,V=0;V<=S;V++){var U=O+(this.i(V)&65535)+(D.i(V)&65535),I=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=I>>>16,U&=65535,I&=65535,R[V]=I<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function G(D,S){return D.add(q(S))}i.j=function(D){if(M(this)||M(D))return A;if(Q(this))return Q(D)?q(this).j(q(D)):q(q(this).j(D));if(Q(D))return q(this.j(q(D)));if(0>this.l(L)&&0>D.l(L))return y(this.m()*D.m());for(var S=this.g.length+D.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<D.g.length;V++){var U=this.i(O)>>>16,I=this.i(O)&65535,Pt=D.i(V)>>>16,ot=D.i(V)&65535;R[2*O+2*V]+=I*ot,W(R,2*O+2*V),R[2*O+2*V+1]+=U*ot,W(R,2*O+2*V+1),R[2*O+2*V+1]+=I*Pt,W(R,2*O+2*V+1),R[2*O+2*V+2]+=U*Pt,W(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new f(R,0)};function W(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function re(D,S){this.g=D,this.h=S}function he(D,S){if(M(S))throw Error("division by zero");if(M(D))return new re(A,A);if(Q(D))return S=he(q(D),S),new re(q(S.g),q(S.h));if(Q(S))return S=he(D,q(S)),new re(q(S.g),S.h);if(30<D.g.length){if(Q(D)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=S;0>=O.l(D);)R=se(R),O=se(O);var V=de(R,1),U=de(O,1);for(O=de(O,2),R=de(R,2);!M(O);){var I=U.add(O);0>=I.l(D)&&(V=V.add(R),U=I),O=de(O,1),R=de(R,1)}return S=G(D,V.j(S)),new re(V,S)}for(V=A;0<=D.l(S);){for(R=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),I=U.j(S);Q(I)||0<I.l(D);)R-=O,U=y(R),I=U.j(S);M(U)&&(U=w),V=V.add(U),D=G(D,I)}return new re(V,D)}i.A=function(D){return he(this,D).h},i.and=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&D.i(O);return new f(R,this.h&D.h)},i.or=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|D.i(O);return new f(R,this.h|D.h)},i.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^D.i(O);return new f(R,this.h^D.h)};function se(D){for(var S=D.g.length+1,R=[],O=0;O<S;O++)R[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(R,D.h)}function de(D,S){var R=S>>5;S%=32;for(var O=D.g.length-R,V=[],U=0;U<O;U++)V[U]=0<S?D.i(U+R)>>>S|D.i(U+R+1)<<32-S:D.i(U+R);return new f(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=x,qi=f}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,Dl,rE,Zc,wp,iE,sE,aE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var j=c[T];if(!(j in v))break e;v=v[j]}c=c[c.length-1],T=v[c],g=g(T),g!=T&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,T=!1,j={next:function(){if(!T&&v<c.length){var K=v++;return{value:g(K,c[K]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function x(c,g,v){return c.call.apply(c.bind,arguments)}function A(c,g,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function w(c,g,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:A,w.apply(null,arguments)}function L(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function M(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,j,K){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return g.prototype[j].apply(T,ae)}}function Q(c){const g=c.length;if(0<g){const v=Array(g);for(let T=0;T<g;T++)v[T]=c[T];return v}return[]}function q(c,g){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(m(T)){const j=c.length||0,K=T.length||0;c.length=j+K;for(let ae=0;ae<K;ae++)c[j+ae]=T[ae]}else c.push(T)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function W(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var se=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function de(c,g,v){for(const T in c)g.call(v,c[T],T,c)}function D(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function S(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)c[v]=T[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function V(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function U(c){p.setTimeout(()=>{throw c},0)}function I(){var c=ze;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Pt{constructor(){this.h=this.g=null}add(g,v){const T=ot.get();T.set(g,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ot=new G(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ze=new Pt,N=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){U(v)}var g=ot;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,g),p.removeEventListener("test",v,g)}catch{}return c}();function Ie(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(se){e:{try{he(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}M(Ie,ie);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function qn(c,g,v,T,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!T,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function ii(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _r(c){this.src=c,this.g={},this.h=0}_r.prototype.add=function(c,g,v,T,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=ts(c,g,T,j);return-1<ae?(g=c[ae],v||(g.fa=!1)):(g=new qn(g,this.src,K,!!T,j),g.fa=v,c.push(g)),g};function es(c,g){var v=g.type;if(v in c.g){var T=c.g[v],j=Array.prototype.indexOf.call(T,g,void 0),K;(K=0<=j)&&Array.prototype.splice.call(T,j,1),K&&(ii(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ts(c,g,v,T){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==T)return j}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),yo={};function du(c,g,v,T,j){if(Array.isArray(g)){for(var K=0;K<g.length;K++)du(c,g[K],v,T,j);return null}return v=pu(v),c&&c[It]?c.K(g,v,y(T)?!!T.capture:!1,j):yn(c,g,v,!1,T,j)}function yn(c,g,v,T,j,K){if(!g)throw Error("Invalid event type");var ae=y(j)?!!j.capture:!!j,Me=Ws(c);if(Me||(c[ns]=Me=new _r(c)),v=Me.add(g,v,T,ae,K),v.proxy)return v;if(T=Yh(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)ye||(j=ae),j===void 0&&(j=!1),c.addEventListener(g.toString(),T,j);else if(c.attachEvent)c.attachEvent(rs(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yh(){function c(v){return g.call(c.src,c.listener,v)}const g=Qh;return c}function vo(c,g,v,T,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)vo(c,g[K],v,T,j);else T=y(T)?!!T.capture:!!T,v=pu(v),c&&c[It]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],v=ts(K,v,T,j),-1<v&&(ii(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ws(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ts(g,v,T,j)),(v=-1<c?g[c]:null)&&Xs(v))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])es(g.i,c);else{var v=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(v,T,c.capture):g.detachEvent?g.detachEvent(rs(v),T):g.addListener&&g.removeListener&&g.removeListener(T),(v=Ws(g))?(es(v,c),v.h==0&&(v.src=null,g[ns]=null)):ii(c)}}}function rs(c){return c in yo?yo[c]:yo[c]="on"+c}function Qh(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var v=c.listener,T=c.ha||c.src;c.fa&&Xs(c),c=v.call(T,g)}return c}function Ws(c){return c=c[ns],c instanceof _r?c:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(g){return c.handleEvent(g)}),c[_o])}function lt(){le.call(this),this.i=new _r(this),this.M=this,this.F=null}M(lt,le),lt.prototype[It]=!0,lt.prototype.removeEventListener=function(c,g,v,T){vo(this,c,g,v,T)};function He(c,g){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var j=g;g=new ie(T,c),O(g,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var ae=g.g=v[K];j=ln(ae,T,!0,g)&&j}if(ae=g.g=c,j=ln(ae,T,!0,g)&&j,j=ln(ae,T,!1,g)&&j,v)for(K=0;K<v.length;K++)ae=g.g=v[K],j=ln(ae,T,!1,g)&&j}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],T=0;T<v.length;T++)ii(v[T]);delete c.g[g],c.h--}}this.F=null},lt.prototype.K=function(c,g,v,T){return this.i.add(String(c),g,!1,v,T)},lt.prototype.L=function(c,g,v,T){return this.i.add(String(c),g,!0,v,T)};function ln(c,g,v,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,K=0;K<g.length;++K){var ae=g[K];if(ae&&!ae.da&&ae.capture==v){var Me=ae.listener,bt=ae.ha||ae.src;ae.fa&&es(c.i,ae),j=Me.call(bt,T)!==!1&&j}}return j&&!T.defaultPrevented}function Gt(c,g,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:p.setTimeout(c,g||0)}function mu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class $h extends le{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){le.call(this),this.h=c,this.g={}}M(is,le);var ss=[];function as(c){de(c.g,function(g,v){this.g.hasOwnProperty(v)&&Xs(g)},c),c.g={}}is.prototype.N=function(){is.aa.N.call(this),as(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=p.JSON.stringify,Zs=p.JSON.parse,os=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Eo(c){return c.h||(c.h=c.i())}function To(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){ie.call(this,"d")}M(Er,ie);function bo(){ie.call(this,"c")}M(bo,ie);var Hn={},wo=null;function si(){return wo=wo||new lt}Hn.La="serverreachability";function Js(c){ie.call(this,Hn.La,c)}M(Js,ie);function ai(c){const g=si();He(g,new Js(g))}Hn.STAT_EVENT="statevent";function gu(c,g){ie.call(this,Hn.STAT_EVENT,c),this.stat=g}M(gu,ie);function nt(c){const g=si();He(g,new gu(g,c))}Hn.Ma="timingevent";function Tt(c,g){ie.call(this,Hn.Ma,c),this.size=g}M(Tt,ie);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Ao(c,g,v,T,j,K){c.info(function(){if(c.g)if(K)for(var ae="",Me=K.split("&"),bt=0;bt<Me.length;bt++){var Pe=Me[bt].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var wt=Dt.split("_");ae=2<=wt.length&&wt[1]=="type"?ae+(Dt+"="+Pe+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+g+`
`+v+`
`+ae})}function Xh(c,g,v,T,j,K,ae){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+g+`
`+v+`
`+K+" "+ae})}function oi(c,g,v,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ls(c,v)+(T?" "+T:"")})}function yu(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function ls(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return kn(v)}catch{return g}}var li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}M(Kn,xo),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Zt(c,g,v,T){this.j=c,this.i=g,this.l=v,this.R=T||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var So={},ea={};function Vn(c,g,v){c.L=1,c.v=ds(un(g)),c.m=v,c.P=!0,br(c,null)}function br(c,g){c.F=Date.now(),us(c),c.A=un(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Oo(v.i,"t",T),c.C=0,v=c.j.J,c.h=new ht,c.g=ku(c.j,v?g:null,!c.m),0<c.O&&(c.M=new $h(w(c.Y,c,c.g),c.O)),g=c.U,v=c.g,T=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ss[0]=j.toString()),j=ss);for(var K=0;K<j.length;K++){var ae=du(v,j[K],T||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ai(),Ao(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Tn(this.g);var g=this.g.Ba();const Dr=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||wt!=4||g==7||(g==8||0>=Dr?ai(3):ai(2)),ui(this);var v=this.g.Z();this.X=v;t:if(vu(this)){var T=Au(this.g);c="";var j=T.length,K=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Yn(this);var ae="";break t}this.h.i=new p.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(K&&g==j-1)});T.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Xh(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,bt=this.g;if((Me=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Me)){var Pe=Me;break t}}Pe=null}if(v=Pe)oi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,v);else{this.o=!1,this.s=3,nt(12),Lt(this),Yn(this);break e}}if(this.P){v=!0;let Ut;for(;!this.J&&this.C<ae.length;)if(Ut=_u(this,ae),Ut==ea){wt==4&&(this.s=4,nt(14),v=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==So){this.s=4,nt(15),oi(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else oi(this.i,this.l,Ut,null),cs(this,Ut);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ae.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)oi(this.i,this.l,ae,"[Invalid Chunked Response]"),Lt(this),Yn(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Es(Dt),Dt.M=!0,nt(11))}}else oi(this.i,this.l,ae,null),cs(this,ae);wt==4&&Lt(this),this.o&&!this.J&&(wt==4?Nu(this.j,this):(this.o=!1,us(this)))}else tf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Lt(this),Yn(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _u(c,g){var v=c.C,T=g.indexOf(`
`,v);return T==-1?ea:(v=Number(g.substring(v,T)),isNaN(v)?So:(T+=1,T+v>g.length?ea:(g=g.slice(T,T+v),c.C=T+v,g)))}Zt.prototype.cancel=function(){this.J=!0,Lt(this)};function us(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(w(c.ba,c),g)}function ui(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yu(this.i,this.A),this.L!=2&&(ai(),nt(17)),Lt(this),this.s=2,Yn(this)):xu(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Nu(c.j,c)}function Lt(c){ui(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,as(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function cs(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Ro(v.h,c))){if(!c.K&&Ro(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)fa(v),ca(v);else break e;Lo(v),nt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=mt(w(v.Za,v),6e3));if(1>=na(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Nr(v,11)}else if((c.K||v.g==c)&&fa(v),!W(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Pe=j[g];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const wt=Pe[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const Dr=Pe[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(T=1.5*Dr,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Ut=c.g;if(Ut){const er=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(er){var K=T.h;K.g||er.indexOf("spdy")==-1&&er.indexOf("quic")==-1&&er.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ra(K,K.h),K.h=null))}if(T.D){const jo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(T.ya=jo,Ye(T.I,T.D,jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ae=c;if(T.qa=Ou(T,T.J?T.ia:null,T.W),ae.K){Jt(T.h,ae);var Me=ae,bt=T.L;bt&&(Me.I=bt),Me.B&&(ui(Me),us(Me)),T.g=ae}else Cu(T);0<v.i.length&&ha(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Nr(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Nr(v,7):Mo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}ai(4)}catch{}}var Eu=class{constructor(c,g){this.g=c,this.map=g}};function wr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function na(c){return c.h?1:c.g?c.g.size:0}function Ro(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ra(c,g){c.g?c.g.add(g):c.h=g}function Jt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}wr.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Q(c.i)}function Wh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var g=[],v=c.length,T=0;T<v;T++)g.push(c[T]);return g}g=[],v=0;for(T in c)g[v++]=c[T];return g}function ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const T in c)g[v++]=T;return g}}}function Io(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=ia(c),T=Wh(c),j=T.length,K=0;K<j;K++)g.call(void 0,T[K],v&&v[K],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),j=null;if(0<=T){var K=c[v].substring(0,T);j=c[v].substring(T+1)}else K=c[v];g(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var g=c.i,v=new Sr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ar(this,v),this.m=c.m}else c&&(g=String(c).match(hs))?(this.h=!1,fs(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),ci(this,g[4]),this.l=_n(g[5]||"",!0),Ar(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}gt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ps(g,No,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ps(g,No,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ps(v,v.charAt(0)=="/"?Jh:Do,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ps(v,sa)),c.join("")};function un(c){return new gt(c)}function fs(c,g,v){c.j=v?_n(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ar(c,g,v){g instanceof Sr?(c.i=g,bu(c.i,c.h)):(v||(g=ps(g,ef)),c.i=new Sr(g,c.h))}function Ye(c,g,v){c.i.set(g,v)}function ds(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Tu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var No=/[#\/\?@]/g,Do=/[#\?:]/g,Jh=/[#\?]/g,ef=/[#\?@]/g,sa=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Sr.prototype,i.add=function(c,g){xn(this),this.i=null,c=Qn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Rr(c,g){xn(c),g=Qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Cr(c,g){return xn(c),g=Qn(c,g),c.g.has(g)}i.forEach=function(c,g){xn(this),this.g.forEach(function(v,T){v.forEach(function(j){c.call(g,j,T,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let T=0;T<g.length;T++){const j=c[T];for(let K=0;K<j.length;K++)v.push(g[T])}return v},i.V=function(c){xn(this);let g=[];if(typeof c=="string")Cr(this,c)&&(g=g.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return xn(this),this.i=null,c=Qn(this,c),Cr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Oo(c,g,v){Rr(c,g),0<v.length&&(c.i=null,c.g.set(Qn(c,g),Q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var T=g[v];const K=encodeURIComponent(String(T)),ae=this.V(T);for(T=0;T<ae.length;T++){var j=K;ae[T]!==""&&(j+="="+encodeURIComponent(String(ae[T]))),c.push(j)}}return this.i=c.join("&")};function Qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function bu(c,g){g&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,T){var j=T.toLowerCase();T!=j&&(Rr(this,T),Oo(this,j,v))},c)),c.j=g}function ms(c,g){const v=new vn;if(p.Image){const T=new Image;T.onload=L(En,v,"TestLoadImage: loaded",!0,g,T),T.onerror=L(En,v,"TestLoadImage: error",!1,g,T),T.onabort=L(En,v,"TestLoadImage: abort",!1,g,T),T.ontimeout=L(En,v,"TestLoadImage: timeout",!1,g,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Mn(c,g){const v=new vn,T=new AbortController,j=setTimeout(()=>{T.abort(),En(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(K=>{clearTimeout(j),K.ok?En(v,"TestPingServer: ok",!0,g):En(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),En(v,"TestPingServer: error",!1,g)})}function En(c,g,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function gs(){this.g=new os}function $n(c,g,v){const T=v||"";try{Io(c,function(j,K){let ae=j;y(j)&&(ae=kn(j)),g.push(T+K+"="+encodeURIComponent(ae))})}catch(j){throw g.push(T+"type="+encodeURIComponent("_badmap")),j}}function hi(c){this.l=c.Ub||null,this.j=c.eb||!1}M(hi,xo),hi.prototype.g=function(){return new Ir(this.l,this.j)},hi.prototype.i=function(c){return function(){return c}}({});function Ir(c,g){lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ir,lt),i=Ir.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||p).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Xn(this):Wn(this),this.readyState==3&&ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},i.Qa=function(c){this.g&&(this.response=c,Xn(this))},i.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let g="";return de(c,function(v,T){g+=T,g+=":",g+=v,g+=`\r
`}),g}function Nt(c,g,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Vo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,g,v))}function Fe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Fe,lt);var aa=/^https?$/i,ys=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Eo(this.o):Eo(Gn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){wu(this,K);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const K of T.keys())v.set(K,T.get(K));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ys,g,void 0))||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){wu(this,K)}};function wu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oa(c),Zn(c)}function oa(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),Zn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},i.bb=function(){la(this)};function la(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Gt(c.Ea,0,c);else if(He(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var T;if(T=ae===0){var j=String(c.D).match(hs)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),T=!aa.test(j?j.toLowerCase():"")}v=T}if(v)He(c,"complete"),He(c,"success");else{c.m=6;try{var K=2<Tn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",oa(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){vs(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||He(c,"ready");try{v.onreadystatechange=T}catch{}}}function vs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Zs(g)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(W(c[T]))continue;var v=V(c[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[j]||[];g[j]=K,K.push(v)}D(g,function(T){return T.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function ua(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,c),this.cb=_s("retryDelaySeedMs",1e4,c),this.Wa=_s("forwardChannelMaxRetries",2,c),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wr(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ua.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,T){nt(0),this.W=c,this.H=g||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Ou(this,null,this.W),ha(this)};function Mo(c){if(Su(c),c.G==3){var g=c.U++,v=un(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),xs(c,v),g=new Zt(c,c.j,g),g.L=2,g.v=ds(un(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=g.v,v=!0),v||(g.g=ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),us(g)}Du(c)}function ca(c){c.g&&(Es(c),c.g.cancel(),c.g=null)}function Su(c){ca(c),c.u&&(p.clearTimeout(c.u),c.u=null),fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ha(c){if(!ta(c.h)&&!c.s){c.s=!0;var g=c.Ga;oe||N(),me||(oe(),me=!0),ze.add(g,c),c.B=0}}function nf(c,g){return na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(w(c.Ga,c,g),Uo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Zt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ru(this,j,g),v=un(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),xs(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(Vo(K)))+"&"+g:this.m&&Nt(v,this.m,K)),ra(this.h,j),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",g),Ye(v,"SID","null"),j.T=!0,Vn(j,v,null)):Vn(j,v,g),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||ta(this.h)||Po(this))};function Po(c,g){var v;g?v=g.l:v=c.U++;const T=un(c.I);Ye(T,"SID",c.K),Ye(T,"RID",v),Ye(T,"AID",c.T),xs(c,T),c.m&&c.o&&Nt(T,c.m,c.o),v=new Zt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ru(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ra(c.h,v),Vn(v,T,g)}function xs(c,g){c.H&&de(c.H,function(v,T){Ye(g,T,v)}),c.l&&Io({},function(v,T){Ye(g,T,v)})}function Ru(c,g,v){v=Math.min(c.i.length,v);var T=c.l?w(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=j[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Me=!0;for(let bt=0;bt<v;bt++){let Pe=j[bt].g;const Dt=j[bt].map;if(Pe-=K,0>Pe)K=Math.max(0,j[bt].g-100),Me=!1;else try{$n(Dt,ae,"req"+Pe+"_")}catch{T&&T(Dt)}}if(Me){T=ae.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,T}function Cu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;oe||N(),me||(oe(),me=!0),ze.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(w(c.Fa,c),Uo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),ca(this),Iu(this))};function Es(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=un(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),xs(c,g),c.m&&c.o&&Nt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ds(un(g)),v.m=null,v.P=!0,br(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ca(this),Lo(this),nt(19))};function fa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Nu(c,g){var v=null;if(c.g==g){fa(c),Es(c),c.g=null;var T=2}else if(Ro(c.h,g))v=g.D,Jt(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;T=si(),He(T,new Tt(T,v)),ha(c)}else Cu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(T==1&&nf(c,g)||T==2&&Lo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function Uo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Nr(c,g){if(c.j.info("Error code "+g),g==2){var v=w(c.fb,c),T=c.Xa;const j=!T;T=new gt(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||fs(T,"https"),ds(T),j?ms(T.toString(),v):Mn(T.toString(),v)}else nt(2);c.G=0,c.l&&c.l.sa(g),Du(c),Su(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const g=Co(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Ou(c,g,v){var T=v instanceof gt?un(v):new gt(v);if(T.g!="")g&&(T.g=g+"."+T.g),ci(T,T.s);else{var j=p.location;T=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var K=new gt(null);T&&fs(K,T),g&&(K.g=g),j&&ci(K,j),v&&(K.l=v),T=K}return v=c.D,g=c.ya,v&&g&&Ye(T,v,g),Ye(T,"VER",c.la),xs(c,T),T}function ku(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new hi({eb:v})):new Fe(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function da(){}da.prototype.g=function(c,g){return new en(c,g)};function en(c,g){lt.call(this),this.g=new ua(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!W(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!W(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}M(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Mo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=kn(c),c=v);g.i.push(new Eu(g.Ya++,c)),g.G==3&&ha(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,en.aa.N.call(this)};function Mu(c){Er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}M(Mu,Er);function Pu(){bo.call(this),this.status=1}M(Pu,bo);function Jn(c){this.g=c}M(Jn,Vu),Jn.prototype.ua=function(){He(this.g,"a")},Jn.prototype.ta=function(c){He(this.g,new Mu(c))},Jn.prototype.sa=function(c){He(this.g,new Pu)},Jn.prototype.ra=function(){He(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,aE=function(){return new da},sE=function(){return si()},iE=Hn,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,Zc=li,Tr.COMPLETE="complete",rE=Tr,To.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Dl=To,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,nE=Fe}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",F_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Yp("@firebase/firestore");function Fa(){return qs.logLevel}function ue(i,...e){if(qs.logLevel<=ke.DEBUG){const n=e.map(sm);qs.debug(`Firestore (${ho}): ${i}`,...n)}}function Zr(i,...e){if(qs.logLevel<=ke.ERROR){const n=e.map(sm);qs.error(`Firestore (${ho}): ${i}`,...n)}}function Ki(i,...e){if(qs.logLevel<=ke.WARN){const n=e.map(sm);qs.warn(`Firestore (${ho}): ${i}`,...n)}}function sm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oE(i,s,n)}function oE(i,e,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zr(s),new Error(s)}function qe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||oE(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class GC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new lE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class YC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $C{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Ap(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=uE(),f=WC(u.encode(H_(i,n)),u.encode(H_(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function H_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function WC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function eo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class ar{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ar.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=ar.isNumericId(e),o=ar.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(e).compare(ar.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class et extends ar{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends ar{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return ZC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new qt([G_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function JC(i,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function K_(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Y_(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Oh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function to(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i,e){const n={typeString:i};return e&&(n.value=e),n}function ou(i,e){if(!hE(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,$_=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$_);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Et("string",tt._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new tt(0,0))}static max(){return new we(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function eI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new Yi(o,ge.empty(),e)}function tI(i){return new Yi(i.readTime,i.key,Gl)}class Yi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yi(we.min(),ge.empty(),Gl)}static max(){return new Yi(we.max(),ge.empty(),Gl)}}function nI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==rI)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const y=m;n(e[y]).next(x=>{f[y]=x,++p,p===u&&s(f)},x=>o(x))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function sI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}kh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function Vh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function aI(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="";function oI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=X_(e)),e=lI(i.get(n),e);return X_(e)}function lI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case fE:n+="";break;default:n+=u}}return n}function X_(i){return i+fE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ks(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function dE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ct(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pE("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const uI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(i){if(qe(!!i,39018),typeof i=="string"){let e=0;const n=uI.exec(i);if(qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $i(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="server_timestamp",gE="__type__",yE="__previous_value__",vE="__local_write_time__";function lm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[gE])===null||n===void 0?void 0:n.stringValue)===mE}function Mh(i){const e=i.mapValue.fields[yE];return lm(e)?Mh(e):e}function Kl(i){const e=Qi(i.mapValue.fields[vE].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s,o,u,f,p,m,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=x}}const gh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__type__",hI="__max__",Bc={mapValue:{}},xE="__vector__",yh="value";function Xi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lm(i)?4:dI(i)?9007199254740991:fI(i)?10:11:Ee(28295,{value:i})}function mr(i,e){if(i===e)return!0;const n=Xi(i);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Kl(i).isEqual(Kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qi(o.timestampValue),p=Qi(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return $i(o.bytesValue).isEqual($i(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),p=pt(u.doubleValue);return f===p?mh(f)===mh(p):isNaN(f)&&isNaN(p)}return!1}(i,e);case 9:return eo(i.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(W_(f)!==W_(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!mr(f[m],p[m])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function Ql(i,e){return(i.values||[]).find(n=>mr(n,e))!==void 0}function no(i,e){if(i===e)return 0;const n=Xi(i),s=Xi(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const p=pt(u.integerValue||u.doubleValue),m=pt(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(i,e);case 3:return J_(i.timestampValue,e.timestampValue);case 4:return J_(Kl(i),Kl(e));case 5:return Ap(i.stringValue,e.stringValue);case 6:return function(u,f){const p=$i(u),m=$i(f);return p.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let y=0;y<p.length&&y<m.length;y++){const x=Ce(p[y],m[y]);if(x!==0)return x}return Ce(p.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Ce(pt(u.latitude),pt(f.latitude));return p!==0?p:Ce(pt(u.longitude),pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return e0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,y,x;const A=u.fields||{},w=f.fields||{},L=(p=A[yh])===null||p===void 0?void 0:p.arrayValue,M=(m=w[yh])===null||m===void 0?void 0:m.arrayValue,Q=Ce(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((x=M==null?void 0:M.values)===null||x===void 0?void 0:x.length)||0);return Q!==0?Q:e0(L,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),y=f.fields||{},x=Object.keys(y);m.sort(),x.sort();for(let A=0;A<m.length&&A<x.length;++A){const w=Ap(m[A],x[A]);if(w!==0)return w;const L=no(p[m[A]],y[x[A]]);if(L!==0)return L}return Ce(m.length,x.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{le:n})}}function J_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Qi(i),s=Qi(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function e0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function ro(i){return Sp(i)}function Sp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return $i(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Sp(n.fields[f])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function Jc(i){switch(Xi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(i);return e?16+Jc(e):16;case 5:return 2*i.stringValue.length;case 6:return $i(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Jc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ks(s.fields,(u,f)=>{o+=u.length+Jc(f)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function t0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rp(i){return!!i&&"integerValue"in i}function um(i){return!!i&&"arrayValue"in i}function n0(i){return!!i&&"nullValue"in i}function r0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function fI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[_E])===null||n===void 0?void 0:n.stringValue)===xE}function Ll(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ks(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ll(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(i.arrayValue.values[n]);return e}return Object.assign({},i)}function dI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Ll(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Dn(Ll(this.value))}}function EE(i){const e=[];return Ks(i.fields,(n,s)=>{const o=new qt([n]);if(eh(s)){const u=EE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),Dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,we.min(),we.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,we.min(),we.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function i0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function s0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!mr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function pI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{}class xt extends TE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new gI(e,n,s):n==="array-contains"?new _I(e,s):n==="in"?new xI(e,s):n==="not-in"?new EI(e,s):n==="array-contains-any"?new TI(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new yI(e,s):new vI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends TE{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Fn(e,n)}matches(e){return bE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function bE(i){return i.op==="and"}function wE(i){return mI(i)&&bE(i)}function mI(i){for(const e of i.filters)if(e instanceof Fn)return!1;return!0}function Cp(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+ro(i.value);if(wE(i))return i.filters.map(e=>Cp(e)).join(",");{const e=i.filters.map(n=>Cp(n)).join(",");return`${i.op}(${e})`}}function AE(i,e){return i instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&mr(s.value,o.value)}(i,e):i instanceof Fn?function(s,o){return o instanceof Fn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&AE(f,o.filters[p]),!0):!1}(i,e):void Ee(19439)}function SE(i){return i instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(i):i instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(SE).join(" ,")+"}"}(i):"Filter"}class gI extends xt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends xt{constructor(e,n){super(e,"in",n),this.keys=RE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vI extends xt{constructor(e,n){super(e,"not-in",n),this.keys=RE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RE(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class _I extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&Ql(n.arrayValue,this.value)}}class xI extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class EI extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class TI extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Pe=null}}function a0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new bI(i,e,n,s,o,u,f)}function cm(i){const e=Ae(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ro(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ro(s)).join(",")),e.Pe=n}return e.Pe}function hm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!pI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!AE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!s0(i.startAt,e.startAt)&&s0(i.endAt,e.endAt)}function Ip(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function wI(i,e,n,s,o,u,f,p){return new lu(i,e,n,s,o,u,f,p)}function CE(i){return new lu(i)}function o0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function IE(i){return i.collectionGroup!==null}function Ul(i){const e=Ae(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ct(qt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new _h(u,s))}),n.has(qt.keyField().canonicalString())||e.Te.push(new _h(qt.keyField(),s))}return e.Te}function ur(i){const e=Ae(i);return e.Ie||(e.Ie=AI(e,Ul(i))),e.Ie}function AI(i,e){if(i.limitType==="F")return a0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _h(o.field,u)});const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return a0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Np(i,e){const n=i.filters.concat([e]);return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Dp(i,e,n){return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ph(i,e){return hm(ur(i),ur(e))&&i.limitType===e.limitType}function NE(i){return`${cm(ur(i))}|lt:${i.limitType}`}function qa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>SE(o)).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(ur(i))}; limitType=${i.limitType})`}function Lh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const y=i0(f,p,m);return f.inclusive?y<=0:y<0}(s.startAt,Ul(s),o)||s.endAt&&!function(f,p,m){const y=i0(f,p,m);return f.inclusive?y>=0:y>0}(s.endAt,Ul(s),o))}(i,e)}function SI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function DE(i){return(e,n)=>{let s=!1;for(const o of Ul(i)){const u=RI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function RI(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),y=p.data.field(u);return m!==null&&y!==null?no(m,y):Ee(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new at(ge.comparator);function Jr(){return CI}const OE=new at(ge.comparator);function Ol(...i){let e=OE;for(const n of i)e=e.insert(n.key,n);return e}function kE(i){let e=OE;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Us(){return jl()}function VE(){return jl()}function jl(){return new Ys(i=>i.toString(),(i,e)=>i.isEqual(e))}const II=new at(ge.comparator),NI=new Ct(ge.comparator);function Ve(...i){let e=NI;for(const n of i)e=e.add(n);return e}const DI=new Ct(Ce);function OI(){return DI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function ME(i){return{integerValue:""+i}}function kI(i,e){return aI(e)?ME(e):fm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function VI(i,e,n){return i instanceof $l?function(o,u){const f={fields:{[gE]:{stringValue:mE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lm(u)&&(u=Mh(u)),u&&(f.fields[yE]=u),{mapValue:f}}(n,e):i instanceof Xl?LE(i,e):i instanceof Wl?UE(i,e):function(o,u){const f=PE(o,u),p=l0(f)+l0(o.Ee);return Rp(f)&&Rp(o.Ee)?ME(p):fm(o.serializer,p)}(i,e)}function MI(i,e,n){return i instanceof Xl?LE(i,e):i instanceof Wl?UE(i,e):n}function PE(i,e){return i instanceof xh?function(s){return Rp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class $l extends Uh{}class Xl extends Uh{constructor(e){super(),this.elements=e}}function LE(i,e){const n=jE(e);for(const s of i.elements)n.some(o=>mr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Uh{constructor(e){super(),this.elements=e}}function UE(i,e){let n=jE(e);for(const s of i.elements)n=n.filter(o=>!mr(o,s));return{arrayValue:{values:n}}}class xh extends Uh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function l0(i){return pt(i.integerValue||i.doubleValue)}function jE(i){return um(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.field=e,this.transform=n}}function LI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof Wl&&o instanceof Wl?eo(s.elements,o.elements,mr):s instanceof xh&&o instanceof xh?mr(s.Ee,o.Ee):s instanceof $l&&o instanceof $l}(i.transform,e.transform)}class UI{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class jh{}function zE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new FE(i.key,cr.none()):new uu(i.key,i.data,cr.none());{const n=i.data,s=Dn.empty();let o=new Ct(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Qs(i.key,s,new zn(o.toArray()),cr.none())}}function jI(i,e,n){i instanceof uu?function(o,u,f){const p=o.value.clone(),m=c0(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):i instanceof Qs?function(o,u,f){if(!th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=c0(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(BE(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function zl(i,e,n,s){return i instanceof uu?function(u,f,p,m){if(!th(u.precondition,f))return p;const y=u.value.clone(),x=h0(u.fieldTransforms,m,f);return y.setAll(x),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Qs?function(u,f,p,m){if(!th(u.precondition,f))return p;const y=h0(u.fieldTransforms,m,f),x=f.data;return x.setAll(BE(u)),x.setAll(y),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,p){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(i,e,n)}function zI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=PE(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function u0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,(u,f)=>LI(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class uu extends jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BE(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function c0(i,e,n){const s=new Map;qe(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,MI(f,p,n[o]))}return s}function h0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,VI(u,f,e))}return s}class FE extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&jI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=VE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=zE(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,s)=>u0(n,s))&&eo(this.baseMutations,e.baseMutations,(n,s)=>u0(n,s))}}class dm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return II}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new dm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function GI(i){switch(i){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function qE(i){if(i===void 0)return Zr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case _t.OK:return ee.OK;case _t.CANCELLED:return ee.CANCELLED;case _t.UNKNOWN:return ee.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ee.INTERNAL;case _t.UNAVAILABLE:return ee.UNAVAILABLE;case _t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case _t.NOT_FOUND:return ee.NOT_FOUND;case _t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case _t.ABORTED:return ee.ABORTED;case _t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case _t.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new qi([4294967295,4294967295],0);function f0(i){const e=uE().encode(i),n=new tE;return n.update(e),new Uint8Array(n.digest())}function d0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qi([n,s],0),new qi([o,u],0)]}class pm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=qi.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(qi.fromNumber(s)));return o.compare(KI)===1&&(o=new qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=f0(e),[s,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new pm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.fe===0)return;const n=f0(e),[s,o]=d0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new zh(we.min(),o,new at(Ce),Jr(),Ve())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class HE{constructor(e,n){this.targetId=e,this.De=n}}class GE{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class p0{constructor(){this.ve=0,this.Ce=m0(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),n=Ve(),s=Ve();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new cu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=m0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class YI{constructor(e){this.We=e,this.Ge=new Map,this.ze=Jr(),this.je=Fc(),this.Je=Fc(),this.He=new at(Ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(Ip(u))if(s===0){const f=new ge(u.path);this.Xe(n,f,Xt.newNoDocument(f,we.min()))}else qe(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const p=this._t(e),m=p?this.ut(p,e,f):1;if(m!==0){this.rt(n);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=$i(s).toUint8Array()}catch(m){if(m instanceof pE)return Ki("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new pm(f,o,u)}catch(m){return Ki(m instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.fe===0?null:p}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const p=this.st(f);if(p){if(u.current&&Ip(p.target)){const m=new ge(p.target.path);this.Tt(m).has(f)||this.It(f,m)||this.Xe(f,m,Xt.newNoDocument(m,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Ve();this.Je.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const y=this.st(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new zh(e,n,this.He,this.ze,s);return this.ze=Jr(),this.je=Fc(),this.Je=Fc(),this.He=new at(Ce),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new p0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ct(Ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ct(Ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new p0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new at(ge.comparator)}function m0(){return new at(ge.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},$I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class WI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Op(i,e){return i.useProto3Json||Vh(e)?e:{value:e}}function Eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZI(i,e){return Eh(i,e.toTimestamp())}function hr(i){return qe(!!i,49232),we.fromTimestamp(function(n){const s=Qi(n);return new tt(s.seconds,s.nanos)}(i))}function mm(i,e){return kp(i,e).canonicalString()}function kp(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function YE(i){const e=et.fromString(i);return qe(ZE(e),10190,{key:e.toString()}),e}function Vp(i,e){return mm(i.databaseId,e.path)}function up(i,e){const n=YE(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge($E(n))}function QE(i,e){return mm(i.databaseId,e)}function JI(i){const e=YE(i);return e.length===4?et.emptyPath():$E(e)}function Mp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function $E(i){return qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function g0(i,e,n){return{name:Vp(i,e),fields:n.value.mapValue.fields}}function e2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,x){return y.useProto3Json?(qe(x===void 0||typeof x=="string",58123),Ht.fromBase64String(x||"")):(qe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Ht.fromUint8Array(x||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(y){const x=y.code===void 0?ee.UNKNOWN:qE(y.code);return new ce(x,y.message||"")}(f);n=new GE(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=up(i,s.document.name),u=hr(s.document.updateTime),f=s.document.createTime?hr(s.document.createTime):we.min(),p=new Dn({mapValue:{fields:s.document.fields}}),m=Xt.newFoundDocument(o,u,f,p),y=s.targetIds||[],x=s.removedTargetIds||[];n=new nh(y,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=up(i,s.document),u=s.readTime?hr(s.readTime):we.min(),f=Xt.newNoDocument(o,u),p=s.removedTargetIds||[];n=new nh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=up(i,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new HI(o,u),p=s.targetId;n=new HE(p,f)}}return n}function t2(i,e){let n;if(e instanceof uu)n={update:g0(i,e.key,e.value)};else if(e instanceof FE)n={delete:Vp(i,e.key)};else if(e instanceof Qs)n={update:g0(i,e.key,e.data),updateMask:c2(e.fieldMask)};else{if(!(e instanceof BI))return Ee(16599,{Rt:e.type});n={verify:Vp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof $l)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof xh)return{fieldPath:f.field.canonicalString(),increment:p.Ee};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ZI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),n}function n2(i,e){return i&&i.length>0?(qe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?hr(o.updateTime):hr(u);return f.isEqual(we.min())&&(f=hr(u)),new UI(f,o.transformResults||[])}(n,e))):[]}function r2(i,e){return{documents:[QE(i,e.path)]}}function i2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QE(i,o);const u=function(y){if(y.length!==0)return WE(Fn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(x=>function(w){return{field:Ha(w.field),direction:o2(w.dir)}}(x))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Op(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:n,parent:o}}function s2(i){let e=JI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];n.where&&(u=function(A){const w=XE(A);return w instanceof Fn&&wE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(M){return new _h(Ga(M.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(n.orderBy));let p=null;n.limit&&(p=function(A){let w;return w=typeof A=="object"?A.value:A,Vh(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(A){const w=!!A.before,L=A.values||[];return new vh(L,w)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const w=!A.before,L=A.values||[];return new vh(L,w)}(n.endAt)),wI(e,o,f,u,p,"F",m,y)}function a2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XE(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ga(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ga(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(n){return xt.create(Ga(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(s=>XE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(i):Ee(30097,{filter:i})}function o2(i){return QI[i]}function l2(i){return $I[i]}function u2(i){return XI[i]}function Ha(i){return{fieldPath:i.canonicalString()}}function Ga(i){return qt.fromServerFormat(i.fieldPath)}function WE(i){return i instanceof xt?function(n){if(n.op==="=="){if(r0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:l2(n.op),value:n.value}}}(i):i instanceof Fn?function(n){const s=n.getFilters().map(o=>WE(o));return s.length===1?s[0]:{compositeFilter:{op:u2(n.op),filters:s}}}(i):Ee(54877,{filter:i})}function c2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,s,o,u=we.min(),f=we.min(),p=Ht.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.gt=e}}function f2(i){const e=s2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Dn=new p2}addToCollectionParentIndex(e,n){return this.Dn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Yi.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class p2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(JE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new io(0)}static ur(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",m2=1048576;function _0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class g2{constructor(e){this.Tr=e,this.buffer=new Ct(_0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(v0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ue(v0,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.Rr(3e5)})}}class v2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(kh.ue);const s=new g2(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(y0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,p,m,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),Fa()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${A} documents in `+(y-m)+`ms
Total Duration: ${y-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function _2(i,e){return new v2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zl(s.mutation,o,zn.empty(),tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Us();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ol();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=Jr();const f=jl(),p=function(){return jl()}();return n.forEach((m,y)=>{const x=s.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Qs)?u=u.insert(y.key,y):x!==void 0?(f.set(y.key,x.mutation.getFieldMask()),zl(x.mutation,y,x.mutation.getFieldMask(),tt.now())):f.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((y,x)=>f.set(y,x)),n.forEach((y,x)=>{var A;return p.set(y,new E2(x,(A=f.get(y))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,n){const s=jl();let o=new at((f,p)=>f-p),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const y=n.get(m);if(y===null)return;let x=s.get(m)||zn.empty();x=p.applyToLocalView(y,x),s.set(m,x);const A=(o.get(p.batchId)||Ve()).add(m);o=o.insert(p.batchId,A)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,x=m.value,A=VE();x.forEach(w=>{if(!u.has(w)){const L=zE(n.get(w),s.get(w));L!==null&&A.set(w,L),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Us());let p=Gl,m=u;return f.next(y=>te.forEach(y,(x,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{m=m.insert(x,w)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,m,y,Ve())).next(x=>({batchId:p,changes:kE(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,u).next(p=>te.forEach(p,m=>{const y=function(A,w){return new lu(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(x=>{x.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,y)=>{const x=y.getKey();f.get(x)===null&&(f=f.insert(x,Xt.newInvalidDocument(x)))});let p=Ol();return f.forEach((m,y)=>{const x=u.get(m);x!==void 0&&zl(x.mutation,y,zn.empty(),tt.now()),Lh(n,y)&&(p=p.insert(m,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return te.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:f2(o.bundledQuery),readTime:hr(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.overlays=new at(ge.comparator),this.kr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Us();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Us(),u=n.length+1,f=new ge(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((y,x)=>y-x);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let x=u.get(y.largestBatchId);x===null&&(x=Us(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=Us(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,x)=>p.set(y,x)),!(p.size()>=o)););return te.resolve(p)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qI(n,s));let u=this.kr.get(n);u===void 0&&(u=Ve(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.qr=new Ct(Mt.Qr),this.$r=new Ct(Mt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Mt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ge(new et([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new et([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Ve();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Hr,n.Hr)}static Ur(e,n){return Ce(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ct(Mt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new FI(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Yr=this.Yr.add(new Mt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?om:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const p=this.Zr(f.Hr);u.push(p)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ce);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],p=>{s=s.add(p.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ge(u),0);let p=new Ct(Ce);return this.Yr.forEachWhile(m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(m.Hr)),!0)},f),te.resolve(this.ei(p))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.ni=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=Jr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Jr();const f=n.path,p=new ge(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:x}}=m.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nI(tI(x),s)<=0||(o.has(x.key)||Lh(n,x))&&(u=u.insert(x.key,x.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ri(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new C2(this)}getSize(e){return te.resolve(this.size)}}class C2 extends x2{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.persistence=e,this.ii=new Ys(n=>cm(n),hm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new gm,this.targetCount=0,this._i=io.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),te.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new io(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.hr(n),te.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.ai={},this.overlays={},this.ui=new kh(0),this.ci=!1,this.ci=!0,this.li=new A2,this.referenceDelegate=e(this),this.hi=new I2(this),this.indexManager=new d2,this.remoteDocumentCache=function(o){return new R2(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new h2(n),this.Ti=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new S2(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new N2(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class N2 extends iI{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ai=new gm,this.Ri=null}static Vi(e){return new ym(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return te.or([()=>te.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.gi=new Ys(s=>oI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_2(this,n)}static Vi(e,n){return new Th(e,n)}Ii(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(p=>{p||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}Sr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return oA()?8:sI(Wt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new D2;return this.ws(e,n,f).next(p=>{if(u.result=p,this.Rs)return this.Ss(e,n,f,p.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Fa()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(Fa()<=ke.DEBUG&&ue("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Fa()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):te.resolve())}ps(e,n){if(o0(n))return te.resolve(null);let s=ur(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dp(n,null,"F"),s=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.gs.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const y=this.bs(n,p);return this.Ds(n,y,f,m.readTime)?this.ps(e,Dp(n,null,"F")):this.vs(e,y,n,m)}))})))}ys(e,n,s,o){return o0(n)||o.isEqual(we.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?te.resolve(null):(Fa()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.vs(e,f,n,eI(o,Gl)).next(p=>p))})}bs(e,n){let s=new Ct(DE(e));return n.forEach((o,u)=>{Lh(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Fa()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",qa(n)),this.gs.getDocumentsMatchingQuery(e,n,Yi.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",k2=3e8;class V2{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new at(Ce),this.Ms=new Ys(u=>cm(u),hm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function M2(i,e,n,s){return new V2(i,e,n,s)}async function tT(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Ve();for(const y of o){f.push(y.batchId);for(const x of y.mutations)m=m.add(x.key)}for(const y of u){p.push(y.batchId);for(const x of y.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next(y=>({Bs:y,removedBatchIds:f,addedBatchIds:p}))})})}function P2(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(p,m,y,x){const A=y.batch,w=A.keys();let L=te.resolve();return w.forEach(M=>{L=L.next(()=>x.getEntry(m,M)).next(Q=>{const q=y.docVersions.get(M);qe(q!==null,48541),Q.version.compareTo(q)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),x.addEntry(Q)))})}),L.next(()=>p.mutationQueue.removeMutationBatch(m,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Ve();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(m=m.add(p.batch.mutations[y].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function nT(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function L2(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const p=[];e.targetChanges.forEach((x,A)=>{const w=o.get(A);if(!w)return;p.push(n.hi.removeMatchingKeys(u,x.removedDocuments,A).next(()=>n.hi.addMatchingKeys(u,x.addedDocuments,A)));let L=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?L=L.withResumeToken(Ht.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):x.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(x.resumeToken,s)),o=o.insert(A,L),function(Q,q,G){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=k2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,L,x)&&p.push(n.hi.updateTargetData(u,L))});let m=Jr(),y=Ve();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))}),p.push(U2(u,f,e.documentUpdates).next(x=>{m=x.Ls,y=x.ks})),!s.isEqual(we.min())){const x=n.hi.getLastRemoteSnapshotVersion(u).next(A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(x)}return te.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,y)).next(()=>m)}).then(u=>(n.Fs=o,u))}function U2(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Jr();return n.forEach((p,m)=>{const y=u.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):ue(_m,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)}),{Ls:f,ks:o}})}function j2(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function z2(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new ji(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Pp(i,e,n){const s=Ae(i),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!po(f))throw f;ue(_m,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function x0(i,e,n){const s=Ae(i);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,y,x){const A=Ae(m),w=A.Ms.get(x);return w!==void 0?te.resolve(A.Fs.get(w)):A.hi.getTargetData(y,x)}(s,f,ur(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(p=>(B2(s,SI(e),p),{documents:p,qs:u})))}function B2(i,e,n){let s=i.xs.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class E0{constructor(){this.activeTargetIds=OI()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F2{constructor(){this.Fo=new E0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new E0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class b0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(T0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Lp(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Lp(),p=this.Go(e,n.toUriEncodedString());ue(cp,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,u);const{host:y}=new URL(p),x=lo(y);return this.jo(e,p,m,s,x).then(A=>(ue(cp,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Ki(cp,`RPC '${e}' ${f} failed with error: `,A,"url: ",p,"request:",s),A})}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=H2[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Y2 extends G2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=Lp();return new Promise((p,m)=>{const y=new nE;y.setWithCredentials(!0),y.listenOnce(rE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Zc.NO_ERROR:const A=y.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),p(A);break;case Zc.TIMEOUT:ue(Qt,`RPC '${e}' ${f} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const w=y.getStatus();if(ue(Qt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const M=L==null?void 0:L.error;if(M&&M.status&&M.message){const Q=function(G){const W=G.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN}(M.status);m(new ce(Q,M.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ue(Qt,`RPC '${e}' ${f} completed.`)}});const x=JSON.stringify(o);ue(Qt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",x,s,15)})}P_(e,n,s){const o=Lp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=aE(),p=sE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=u.join("");ue(Qt,`Creating RPC '${e}' stream ${o}: ${x}`,m);const A=f.createWebChannel(x,m);this.T_(A);let w=!1,L=!1;const M=new K2({Ho:q=>{L?ue(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(ue(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ue(Qt,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Yo:()=>A.close()}),Q=(q,G,W)=>{q.listen(G,re=>{try{W(re)}catch(he){setTimeout(()=>{throw he},0)}})};return Q(A,Dl.EventType.OPEN,()=>{L||(ue(Qt,`RPC '${e}' stream ${o} transport opened.`),M.s_())}),Q(A,Dl.EventType.CLOSE,()=>{L||(L=!0,ue(Qt,`RPC '${e}' stream ${o} transport closed`),M.__(),this.I_(A))}),Q(A,Dl.EventType.ERROR,q=>{L||(L=!0,Ki(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),M.__(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(A,Dl.EventType.MESSAGE,q=>{var G;if(!L){const W=q.data[0];qe(!!W,16349);const re=W,he=(re==null?void 0:re.error)||((G=re[0])===null||G===void 0?void 0:G.error);if(he){ue(Qt,`RPC '${e}' stream ${o} received error:`,he);const se=he.status;let de=function(R){const O=_t[R];if(O!==void 0)return qE(O)}(se),D=he.message;de===void 0&&(de=ee.INTERNAL,D="Unknown error status: "+se+" with message "+he.message),L=!0,M.__(new ce(de,D)),A.close()}else ue(Qt,`RPC '${e}' stream ${o} received:`,W),M.a_(W)}}),Q(p,iE.STAT_EVENT,q=>{q.stat===wp.PROXY?ue(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===wp.NOPROXY&&ue(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){return new WI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="PersistentStream";class iT{constructor(e,n,s,o,u,f,p,m){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(w0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ue(w0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q2 extends iT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=e2(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?hr(f.readTime):we.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Mp(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Ip(m)?{documents:r2(u,m)}:{query:i2(u,m).Vt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=KE(u,f.resumeToken);const y=Op(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){p.readTime=Eh(u,f.snapshotVersion.toTimestamp());const y=Op(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=a2(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.k_(n)}}class $2 extends iT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=n2(e.writeResults,e.commitTime),s=hr(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Mp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>t2(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{}class W2 extends X2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,kp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Jo(e,kp(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(ee.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Z2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zr(n),this._a=!1):ue("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class J2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{$s(this)&&(ue(Hs,"Restarting streams for network reachability change."),await async function(m){const y=Ae(m);y.Ia.add(4),await hu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Fh(y)}(this))})}),this.Aa=new Z2(s,o)}}async function Fh(i){if($s(i))for(const e of i.da)await e(!0)}async function hu(i){for(const e of i.da)await e(!1)}function sT(i,e){const n=Ae(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),bm(n)?Tm(n):mo(n).x_()&&Em(n,e))}function xm(i,e){const n=Ae(i),s=mo(n);n.Ta.delete(e),s.x_()&&aT(n,e),n.Ta.size===0&&(s.x_()?s.B_():$s(n)&&n.Aa.set("Unknown"))}function Em(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(i).H_(e)}function aT(i,e){i.Ra.$e(e),mo(i).Y_(e)}function Tm(i){i.Ra=new YI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),mo(i).start(),i.Aa.aa()}function bm(i){return $s(i)&&!mo(i).M_()&&i.Ta.size>0}function $s(i){return Ae(i).Ia.size===0}function oT(i){i.Ra=void 0}async function eN(i){i.Aa.set("Online")}async function tN(i){i.Ta.forEach((e,n)=>{Em(i,e)})}async function nN(i,e){oT(i),bm(i)?(i.Aa.la(e),Tm(i)):i.Aa.set("Unknown")}async function rN(i,e,n){if(i.Aa.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ta.delete(p),o.Ra.removeTarget(p))}(i,e)}catch(s){ue(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(i,s)}else if(e instanceof nh?i.Ra.Ye(e):e instanceof HE?i.Ra.it(e):i.Ra.et(e),!n.isEqual(we.min()))try{const s=await nT(i.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Ra.Pt(f);return p.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const x=u.Ta.get(y);x&&u.Ta.set(y,x.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,y)=>{const x=u.Ta.get(m);if(!x)return;u.Ta.set(m,x.withResumeToken(Ht.EMPTY_BYTE_STRING,x.snapshotVersion)),aT(u,m);const A=new ji(x.target,m,y,x.sequenceNumber);Em(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n)}catch(s){ue(Hs,"Failed to raise snapshot:",s),await bh(i,s)}}async function bh(i,e,n){if(!po(e))throw e;i.Ia.add(1),await hu(i),i.Aa.set("Offline"),n||(n=()=>nT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Hs,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Fh(i)})}function lT(i,e){return e().catch(n=>bh(i,n,e))}async function qh(i){const e=Ae(i),n=Wi(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:om;for(;iN(e);)try{const o=await j2(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,sN(e,o)}catch(o){await bh(e,o)}uT(e)&&cT(e)}function iN(i){return $s(i)&&i.Pa.length<10}function sN(i,e){i.Pa.push(e);const n=Wi(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function uT(i){return $s(i)&&!Wi(i).M_()&&i.Pa.length>0}function cT(i){Wi(i).start()}async function aN(i){Wi(i).na()}async function oN(i){const e=Wi(i);for(const n of i.Pa)e.X_(n.mutations)}async function lN(i,e,n){const s=i.Pa.shift(),o=dm.from(s,e,n);await lT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await qh(i)}async function uN(i,e){e&&Wi(i).Z_&&await async function(s,o){if(function(f){return GI(f)&&f!==ee.ABORTED}(o.code)){const u=s.Pa.shift();Wi(s).N_(),await lT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(s)}}(i,e),uT(i)&&cT(i)}async function A0(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(Hs,"RemoteStore received new credentials");const s=$s(n);n.Ia.add(3),await hu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Fh(n)}async function cN(i,e){const n=Ae(i);e?(n.Ia.delete(2),await Fh(n)):e||(n.Ia.add(2),await hu(n),n.Aa.set("Unknown"))}function mo(i){return i.Va||(i.Va=function(n,s,o){const u=Ae(n);return u.ia(),new Q2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:eN.bind(null,i),e_:tN.bind(null,i),n_:nN.bind(null,i),J_:rN.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),bm(i)?Tm(i):i.Aa.set("Unknown")):(await i.Va.stop(),oT(i))})),i.Va}function Wi(i){return i.ma||(i.ma=function(n,s,o){const u=Ae(n);return u.ia(),new $2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:aN.bind(null,i),n_:uN.bind(null,i),ea:oN.bind(null,i),ta:lN.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await qh(i)):(await i.ma.stop(),i.Pa.length>0&&(ue(Hs,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new wm(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(i,e){if(Zr("AsyncQueue",`${e}: ${i}`),po(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.fa=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,u,f,p,m,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new so(e,n,Xa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fN{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=R0(),u.forEach((f,p)=>{for(const m of p.wa)m.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function R0(){return new Ys(i=>NE(i),Ph)}async function dN(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new hN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Am(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Sm(n)}async function pN(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mN(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.wa)p.Ca(o)&&(s=!0);f.ya=o}}s&&Sm(n)}function gN(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function Sm(i){i.Da.forEach(e=>{e.next()})}var Up,C0;(C0=Up||(Up={})).Fa="default",C0.Cache="cache";class yN{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.key=e}}class fT{constructor(e){this.key=e}}class vN{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=DE(e),this.eu=new Xa(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new S0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,A)=>{const w=o.get(x),L=Lh(this.query,A)?A:null,M=!!w&&this.mutatedKeys.has(w.key),Q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let q=!1;w&&L?w.data.isEqual(L.data)?M!==Q&&(s.track({type:3,doc:L}),q=!0):this.iu(w,L)||(s.track({type:2,doc:L}),q=!0,(m&&this.Xa(L,m)>0||y&&this.Xa(L,y)<0)&&(p=!0)):!w&&L?(s.track({type:0,doc:L}),q=!0):w&&!L&&(s.track({type:1,doc:w}),q=!0,(m||y)&&(p=!0)),q&&(L?(f=f.add(L),u=Q?u.add(x):u.delete(x)):(f=f.delete(x),u=u.delete(x)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),u=u.delete(x.key),s.track({type:1,doc:x})}return{eu:f,ru:s,Ds:p,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((x,A)=>function(L,M){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:q})}};return Q(L)-Q(M)}(x.type,A.type)||this.Xa(x.doc,A.doc)),this.su(s),o=o!=null&&o;const p=n&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,y=m!==this.Ya;return this.Ya=m,f.length!==0||y?{snapshot:new so(this.query,e.eu,u,f,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new S0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new fT(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new hT(s))}),n}uu(e){this.Ha=e.qs,this.Za=Ve();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return so.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Rm="SyncEngine";class _N{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class xN{constructor(e){this.key=e,this.lu=!1}}class EN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ys(p=>NE(p),Ph),this.Tu=new Map,this.Iu=new Set,this.du=new at(ge.comparator),this.Eu=new Map,this.Au=new gm,this.Ru={},this.Vu=new Map,this.mu=io.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function TN(i,e,n=!0){const s=vT(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await dT(s,e,n,!0),o}async function bN(i,e){const n=vT(i);await dT(n,e,!0,!1)}async function dT(i,e,n,s){const o=await z2(i.localStore,ur(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await wN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&sT(i.remoteStore,o),p}async function wN(i,e,n,s,o){i.gu=(A,w,L)=>async function(Q,q,G,W){let re=q.view.nu(G);re.Ds&&(re=await x0(Q.localStore,q.query,!1).then(({documents:D})=>q.view.nu(D,re)));const he=W&&W.targetChanges.get(q.targetId),se=W&&W.targetMismatches.get(q.targetId)!=null,de=q.view.applyChanges(re,Q.isPrimaryClient,he,se);return N0(Q,q.targetId,de._u),de.snapshot}(i,A,w,L);const u=await x0(i.localStore,e,!0),f=new vN(e,u.qs),p=f.nu(u.documents),m=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(p,i.isPrimaryClient,m);N0(i,n,y._u);const x=new _N(e,n,f);return i.Pu.set(e,x),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),y.snapshot}async function AN(i,e,n){const s=Ae(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Ph(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xm(s.remoteStore,o.targetId),jp(s,o.targetId)}).catch(fo)):(jp(s,o.targetId),await Pp(s.localStore,o.targetId,!0))}async function SN(i,e){const n=Ae(i),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xm(n.remoteStore,s.targetId))}async function RN(i,e,n){const s=VN(i);try{const o=await function(f,p){const m=Ae(f),y=tt.now(),x=p.reduce((L,M)=>L.add(M.key),Ve());let A,w;return m.persistence.runTransaction("Locally write mutations","readwrite",L=>{let M=Jr(),Q=Ve();return m.Os.getEntries(L,x).next(q=>{M=q,M.forEach((G,W)=>{W.isValidDocument()||(Q=Q.add(G))})}).next(()=>m.localDocuments.getOverlayedDocuments(L,M)).next(q=>{A=q;const G=[];for(const W of p){const re=zI(W,A.get(W.key).overlayedDocument);re!=null&&G.push(new Qs(W.key,re,EE(re.value.mapValue),cr.exists(!0)))}return m.mutationQueue.addMutationBatch(L,y,G,p)}).next(q=>{w=q;const G=q.applyToLocalDocumentSet(A,Q);return m.documentOverlayCache.saveOverlays(L,q.batchId,G)})}).then(()=>({batchId:w.batchId,changes:kE(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let y=f.Ru[f.currentUser.toKey()];y||(y=new at(Ce)),y=y.insert(p,m),f.Ru[f.currentUser.toKey()]=y}(s,o.batchId,n),await fu(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Am(o,"Failed to persist write");n.reject(u)}}async function pT(i,e){const n=Ae(i);try{const s=await L2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?qe(f.lu,14607):o.removedDocuments.size>0&&(qe(f.lu,42227),f.lu=!1))}),await fu(n,s,e)}catch(s){await fo(s)}}function I0(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Ae(f);m.onlineState=p;let y=!1;m.queries.forEach((x,A)=>{for(const w of A.wa)w.va(p)&&(y=!0)}),y&&Sm(m)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CN(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,we.min()));const p=Ve().add(u),m=new zh(we.min(),new Map,new at(Ce),f,p);await pT(s,m),s.du=s.du.remove(u),s.Eu.delete(e),Cm(s)}else await Pp(s.localStore,e,!1).then(()=>jp(s,e,n)).catch(fo)}async function IN(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await P2(n.localStore,e);gT(n,s,null),mT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await fo(o)}}async function NN(i,e,n){const s=Ae(i);try{const o=await function(f,p){const m=Ae(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return m.mutationQueue.lookupMutationBatch(y,p).next(A=>(qe(A!==null,37113),x=A.keys(),m.mutationQueue.removeMutationBatch(y,A))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,x,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>m.localDocuments.getDocuments(y,x))})}(s.localStore,e);gT(s,e,n),mT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await fo(o)}}function mT(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function gT(i,e,n){const s=Ae(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function jp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||yT(i,s)})}function yT(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(xm(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),Cm(i))}function N0(i,e,n){for(const s of n)s instanceof hT?(i.Au.addReference(s.key,e),DN(i,s)):s instanceof fT?(ue(Rm,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||yT(i,s.key)):Ee(19791,{yu:s})}function DN(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ue(Rm,"New document in limbo: "+n),i.Iu.add(s),Cm(i))}function Cm(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new ge(et.fromString(e)),s=i.mu.next();i.Eu.set(s,new xN(n)),i.du=i.du.insert(n,s),sT(i.remoteStore,new ji(ur(CE(n.path)),s,"TargetPurposeLimboResolution",kh.ue))}}async function fu(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((p,m)=>{f.push(s.gu(m,e,n).then(y=>{var x;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(x=n==null?void 0:n.targetChanges.get(m.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(y){o.push(y);const A=vm.Es(m.targetId,y);u.push(A)}}))}),await Promise.all(f),s.hu.J_(o),await async function(m,y){const x=Ae(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>te.forEach(y,w=>te.forEach(w.Is,L=>x.persistence.referenceDelegate.addReference(A,w.targetId,L)).next(()=>te.forEach(w.ds,L=>x.persistence.referenceDelegate.removeReference(A,w.targetId,L)))))}catch(A){if(!po(A))throw A;ue(_m,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const L=x.Fs.get(w),M=L.snapshotVersion,Q=L.withLastLimboFreeSnapshotVersion(M);x.Fs=x.Fs.insert(w,Q)}}}(s.localStore,u))}async function ON(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(Rm,"User change. New user:",e.toKey());const s=await tT(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(p=>{p.forEach(m=>{m.reject(new ce(ee.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Bs)}}function kN(i,e){const n=Ae(i),s=n.Eu.get(e);if(s&&s.lu)return Ve().add(s.key);{let o=Ve();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const p=n.Pu.get(f);o=o.unionWith(p.view.tu)}return o}}function vT(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=pT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CN.bind(null,e),e.hu.J_=mN.bind(null,e.eventManager),e.hu.pu=gN.bind(null,e.eventManager),e}function VN(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return M2(this.persistence,new O2,e.initialUser,this.serializer)}Du(e){return new eT(ym.Vi,this.serializer)}bu(e){return new F2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class MN extends wh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){qe(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new y2(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new eT(s=>Th.Vi(s,n),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await cN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fN}()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),s=function(u){return new Y2(u)}(e.databaseInfo);return function(u,f,p,m){return new W2(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new J2(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return b0.C()?new b0:new q2}())}createSyncEngine(e,n){return function(o,u,f,p,m,y,x){const A=new EN(o,u,f,p,m,y);return x&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(Hs,"RemoteStore shutting down."),u.Ia.add(5),await hu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class LN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Zi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Zi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Am(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Zi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ki("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ki("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function D0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await UN(i);ue(Zi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>A0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>A0(e.remoteStore,o)),i._onlineComponents=e}async function UN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Zi,"Using user provided OfflineComponentProvider");try{await fp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ki("Error using user provided cache. Falling back to memory cache: "+n),await fp(i,new wh)}}else ue(Zi,"Using default OfflineComponentProvider"),await fp(i,new MN(void 0));return i._offlineComponents}async function _T(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Zi,"Using user provided OnlineComponentProvider"),await D0(i,i._uninitializedComponentsProvider._online)):(ue(Zi,"Using default OnlineComponentProvider"),await D0(i,new zp))),i._onlineComponents}function jN(i){return _T(i).then(e=>e.syncEngine)}async function zN(i){const e=await _T(i),n=e.eventManager;return n.onListen=TN.bind(null,e.syncEngine),n.onUnlisten=AN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SN.bind(null,e.syncEngine),n}function BN(i,e,n={}){const s=new Hi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,y){const x=new PN({next:w=>{x.Ou(),f.enqueueAndForget(()=>pN(u,A)),w.fromCache&&m.source==="server"?y.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new yN(p,x,{includeMetadataChanges:!0,ka:!0});return dN(u,A)}(await zN(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firestore.googleapis.com",k0=!0;class V0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ET,this.ssl=k0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:k0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HC;switch(s.type){case"firstParty":return new QC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=O0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),O0.delete(n),s.terminate())}(this),Promise.resolve()}}function FN(i,e,n,s={}){var o;i=to(i,Hh);const u=lo(e),f=i._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u&&(dx(`https://${m}`),px("Firestore",!0)),f.host!==ET&&f.host!==m&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:m,ssl:u,emulatorOptions:s});if(!js(y,p)&&(i._setSettings(y),s.mockUserToken)){let x,A;if(typeof s.mockUserToken=="string")x=s.mockUserToken,A=$t.MOCK_USER;else{x=Z1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $t(w)}i._authCredentials=new GC(new lE(x,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,Rt._jsonSchema))return new Rt(e,s||null,new ge(et.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Et("string",Rt._jsonSchemaVersion),referencePath:Et("string")};class Gi extends go{constructor(e,n,s){super(e,n,CE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ge(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function rh(i,e,...n){if(i=on(i),cE("collection","path",e),i instanceof Hh){const s=et.fromString(e,...n);return Y_(s),new Gi(i,null,s)}{if(!(i instanceof Rt||i instanceof Gi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Y_(s),new Gi(i.firestore,null,s)}}function TT(i,e,...n){if(i=on(i),arguments.length===1&&(e=am.newId()),cE("doc","path",e),i instanceof Hh){const s=et.fromString(e,...n);return K_(s),new Rt(i,null,new ge(s))}{if(!(i instanceof Rt||i instanceof Gi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return K_(s),new Rt(i.firestore,i instanceof Gi?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="AsyncQueue";class P0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rT(this,"async_queue_retry"),this.oc=()=>{const s=hp();s&&ue(M0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Hi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!po(e))throw e;ue(M0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Zr("INTERNAL UNHANDLED ERROR: ",L0(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=wm.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:L0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function L0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Gh extends Hh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new P0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P0(e),this._firestoreClient=void 0,await e}}}function qN(i,e){const n=typeof i=="object"?i:vx(),s=typeof i=="string"?i:gh,o=$p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=X1("firestore");u&&FN(o,...u)}return o}function bT(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||HN(i),i._firestoreClient}function HN(i){var e,n,s;const o=i._freezeSettings(),u=function(p,m,y,x){return new cI(p,m,y,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,xT(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new LN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ht.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Et("string",On._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(ou(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:Et("string",fr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new dr(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:Et("string",dr._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=/^__.*__$/;class KN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function wT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:i})}}class Dm{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ah(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(wT(this.Ec)&&GN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class YN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bh(e)}Dc(e,n,s,o=!1){return new Dm({Ec:e,methodName:n,bc:s,path:qt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(i){const e=i._freezeSettings(),n=Bh(i._databaseId);return new YN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function AT(i,e,n,s,o,u={}){const f=i.Dc(u.merge||u.mergeFields?2:0,e,n,o);CT("Data must be an object, but it was:",f,s);const p=ST(s,f);let m,y;if(u.merge)m=new zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const x=[];for(const A of u.mergeFields){const w=$N(e,A,n);if(!f.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);WN(x,w)||x.push(w)}m=new zn(x),y=f.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,y=f.fieldTransforms;return new KN(new Dn(p),m,y)}class km extends Nm{_toFieldTransform(e){return new PI(e.path,new $l)}isEqual(e){return e instanceof km}}function QN(i,e,n,s=!1){return Vm(n,i.Dc(s?4:3,e))}function Vm(i,e){if(RT(i=on(i)))return CT("Unsupported field value:",e,i),ST(i,e);if(i instanceof Nm)return function(s,o){if(!wT(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=Vm(p,o.yc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=on(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:KE(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dr)return function(f,p){return{mapValue:{fields:{[_E]:{stringValue:xE},[yh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return fm(p.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Oh(s)}`)}(i,e)}function ST(i,e){const n={};return dE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(i,(s,o)=>{const u=Vm(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function RT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof tt||i instanceof fr||i instanceof On||i instanceof Rt||i instanceof Nm||i instanceof dr)}function CT(i,e,n){if(!RT(n)||!hE(n)){const s=Oh(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function $N(i,e,n){if((e=on(e))instanceof Im)return e._internalPath;if(typeof e=="string")return IT(i,e);throw Ah("Field path arguments must be of type string or ",i,!1,void 0,n)}const XN=new RegExp("[~\\*/\\[\\]]");function IT(i,e,n){if(e.search(XN)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Im(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ah(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ce(ee.INVALID_ARGUMENT,p+i+m)}function WN(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZN extends NT{data(){return super.data()}}function Mm(i,e){return typeof e=="string"?IT(i,e):e instanceof Im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class eD extends Pm{}function U0(i,e,...n){let s=[];e instanceof Pm&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Lm).length,p=u.filter(m=>m instanceof Kh).length;if(f>1||f>0&&p>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Kh extends eD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kh(e,n,s)}_apply(e){const n=this._parse(e);return DT(e._query,n),new go(e.firestore,e.converter,Np(e._query,n))}_parse(e){const n=Om(e.firestore);return function(u,f,p,m,y,x,A){let w;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){B0(A,x);const M=[];for(const Q of A)M.push(z0(m,u,Q));w={arrayValue:{values:M}}}else w=z0(m,u,A)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||B0(A,x),w=QN(p,f,A,x==="in"||x==="not-in");return xt.create(y,x,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j0(i,e,n){const s=e,o=Mm("where",i);return Kh._create(o,s,n)}class Lm extends Pm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)DT(f,m),f=Np(f,m)}(e._query,n),new go(e.firestore,e.converter,Np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function z0(i,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IE(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return t0(i,new ge(s))}if(n instanceof Rt)return t0(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function B0(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DT(i,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tD{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[yh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new dr(u)}convertGeoPoint(e){return new fr(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);qe(ZE(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Zr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends NT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Et("string",Wa._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class ih extends Wa{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),x=f.indexOf(p.doc.key)),{type:nD(p.type),doc:m,oldIndex:y,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Et("string",Za._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class rD extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function dp(i){i=to(i,go);const e=to(i.firestore,Gh),n=bT(e),s=new rD(e);return JN(i._query),BN(n,i._query).then(o=>new Za(e,s,i,o))}function iD(i,e,n){i=to(i,Rt);const s=to(i.firestore,Gh),o=OT(i.converter,e);return kT(s,[AT(Om(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,cr.none())])}function sD(i,e){const n=to(i.firestore,Gh),s=TT(i),o=OT(i.converter,e);return kT(n,[AT(Om(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then(()=>s)}function kT(i,e){return function(s,o){const u=new Hi;return s.asyncQueue.enqueueAndForget(async()=>RN(await jN(s),o,u)),u.promise}(bT(i),e)}function VT(){return new km("serverTimestamp")}(function(e,n=!0){(function(o){ho=o})(uo),Ja(new zs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Gh(new KC(s.getProvider("auth-internal")),new $C(f,s.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(y.options.projectId,x)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Fi(B_,F_,e),Fi(B_,F_,"esm2017")})();const aD={apiKey:"AIzaSyBqHP9zvcGhTS4qELoUL7Wl_g7Kmu9XCbw",authDomain:"gamecard-c454f.firebaseapp.com",projectId:"gamecard-c454f",storageBucket:"gamecard-c454f.appspot.com",messagingSenderId:"21660309573",appId:"1:21660309573:web:5cab8520c9bd5292c0eb2c",measurementId:"G-20464Z7RNM"},MT=yx(aD),Gc=FC(MT),Vl=qN(MT),oD=({onLoginSuccess:i,onLogoutSuccess:e,handleCloseAuthModal:n})=>{const[s,o]=Y.useState(!0),[u,f]=Y.useState({username:"",email:"",password:""}),[p,m]=Y.useState(""),[y,x]=Y.useState(!1);Y.useEffect(()=>{localStorage.getItem("userId")&&x(!0)},[]);const A=G=>{f({...u,[G.target.name]:G.target.value})},w=async()=>{const re=(await dp(rh(Vl,"users"))).docs.map(se=>se.data().user_id).filter(se=>se==null?void 0:se.startsWith("UID")).map(se=>parseInt(se.replace("UID",""))).sort((se,de)=>se-de);let he=1;for(let se of re){if(se!==he)break;he++}return`UID${he.toString().padStart(7,"0")}`},L=async G=>{G.preventDefault(),m("");try{if(s){let W=u.email;if(!u.email.includes("@")){const se=U0(rh(Vl,"users"),j0("user_name","==",u.email)),de=await dp(se);if(de.empty)throw new Error("Username not found");W=de.docs[0].data().email}const he=(await CR(Gc,W,u.password)).user;localStorage.setItem("userEmail",he.email),localStorage.setItem("username",W.split("@")[0]),localStorage.setItem("userId",he.user_id),x(!0),i()}else{const re=(await RR(Gc,u.email,u.password)).user,he=await w();await iD(TT(Vl,"users",re.uid),{user_id:he,user_name:u.username,email:re.email,createdAt:VT()}),localStorage.setItem("userEmail",re.email),localStorage.setItem("username",u.username),localStorage.setItem("userId",re.uid),x(!0),i()}}catch(W){m(W.message)}},M=()=>{o(!s),f({username:"",email:"",password:""}),m("")},Q=()=>{DR(Gc),localStorage.clear(),x(!1),m("Logged out successfully."),e()},q=async()=>{if(!u.email){m(" ");return}let G=u.email;try{if(!u.email.includes("@")){const W=U0(rh(Vl,"users"),j0("user_name","==",u.email)),re=await dp(W);if(re.empty)throw new Error("");G=re.docs[0].data().email}await SR(Gc,G),m(" ")}catch(W){m(` ${W.message}`)}};return y?b.jsx("div",{className:"fixed inset-0 bg-pink-200 bg-opacity-80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 border-4 border-pink-300 max-w-md w-full text-center",children:[b.jsxs("h1",{className:"text-3xl font-averia text-pink-600 mb-4",children:[" Welcome, ",localStorage.getItem("username"),"!"]}),b.jsxs("p",{className:"text-pink-700 mb-6",children:["Email: ",localStorage.getItem("userEmail")]}),b.jsxs("div",{className:"flex justify-center gap-4",children:[b.jsx("button",{onClick:Q,className:"bg-gradient-to-r from-pink-400 to-pink-500 hover:from-pink-500 hover:to-pink-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition",children:" Log Out"}),b.jsx("button",{onClick:n,className:"bg-pink-100 hover:bg-pink-200 text-pink-700 font-bold py-2 px-6 rounded-full transition",children:" Close"})]}),p&&b.jsx("p",{className:"mt-4 text-pink-500 font-bold",children:p})]})}):b.jsx("div",{className:"fixed inset-0 bg-pink-200 bg-opacity-80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 border-4 border-pink-300 max-w-md w-full animate-fade-pop",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-3xl font-averia text-pink-600",children:s?" Log In":" Register"}),b.jsx("button",{onClick:M,className:"text-pink-400 hover:text-pink-600 text-lg font-bold underline",children:s?"New?":"Have account?"})]}),b.jsxs("form",{onSubmit:L,children:[!s&&b.jsx("div",{className:"mb-4",children:b.jsx("input",{type:"text",name:"username",placeholder:" Username",value:u.username,onChange:A,required:!0,className:"border-2 border-pink-300 rounded-xl w-full p-3 text-pink-800 focus:outline-none focus:ring-2 focus:ring-pink-400 placeholder-pink-300"})}),b.jsx("div",{className:"mb-4",children:b.jsx("input",{type:"text",name:"email",placeholder:" Email or Username",value:u.email,onChange:A,required:!0,className:"border-2 border-pink-300 rounded-xl w-full p-3 text-pink-800 focus:outline-none focus:ring-2 focus:ring-pink-400 placeholder-pink-300"})}),b.jsx("div",{className:"mb-2",children:b.jsx("input",{type:"password",name:"password",placeholder:" Password",value:u.password,onChange:A,required:!0,className:"border-2 border-pink-300 rounded-xl w-full p-3 text-pink-800 focus:outline-none focus:ring-2 focus:ring-pink-400 placeholder-pink-300"})}),s&&b.jsx("div",{className:"mb-4 text-right",children:b.jsx("button",{type:"button",onClick:q,className:"text-sm text-pink-500 hover:underline font-bold",children:" Forgot your password?"})}),p&&b.jsx("p",{className:"text-center text-sm font-bold p-2 rounded-md mb-4 bg-yellow-100 text-pink-700 animate-pulse",children:p}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:n,className:"bg-pink-100 hover:bg-pink-200 text-pink-700 font-bold py-2 px-5 rounded-full transition",children:" Close"}),b.jsx("button",{type:"submit",className:"bg-gradient-to-r from-pink-400 to-pink-500 hover:from-pink-500 hover:to-pink-600 text-white font-bold py-2 px-5 rounded-full shadow-md transition",children:s?" Log In":" Register"})]})]})]})})},lD=({isLoggedIn:i,showAuthModal:e,handleLoginStatusChange:n,handleCloseAuthModal:s,onOpenAuthModal:o})=>(Y.useEffect(()=>{const u=()=>{setIsLoggedIn(!!localStorage.getItem("userId"))};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"screenNavTop ",children:b.jsxs("div",{className:"flex",children:[b.jsx("img",{src:"/GameCard/picture/Logo.png",className:"LogoNav"}),b.jsxs("div",{className:"flex gap-10 items-center justify-center ml-auto mr-5",children:[b.jsx("div",{children:b.jsxs("a",{href:"#",className:" font-bold text-pink-600 text-[15px] px-5 relative group",children:["DISCORD",b.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"})]})}),b.jsx("div",{children:b.jsxs("a",{className:" font-bold text-pink-600 text-[15px] px-5 relative group",href:"https://mail.google.com/mail/?view=cm&fs=1&to=official.gamecard@gmail.com",target:"_blank",rel:"noopener noreferrer",children:["HELP",b.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"})]})}),b.jsx("div",{children:b.jsxs("button",{onClick:o,className:`relative px-6 py-2 text-lg font-bold text-white bg-pink-600 rounded-lg shadow-md hover:bg-pink-700 transition-all duration-300 ease-in-out transform hover:scale-105\r
                         before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-br before:from-pink-500 before:to-pink-800 before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-300\r
                         after:absolute after:inset-0 after:rounded-lg after:border-2 after:border-pink-400 after:opacity-0 hover:after:opacity-100 after:transition-opacity after:duration-300 flex items-center`,children:[b.jsx("img",{src:"/GameCard/picture/account-login.png",alt:"Profile",className:"h-6 w-6 mr-2 filter brightness-150"}),b.jsx("span",{children:i?"PROFILE":"LOGIN"})]})})]})]})}),e&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm",children:b.jsx("div",{children:b.jsx(oD,{isLoggedIn:i,onLoginSuccess:()=>n(!0),onLogoutSuccess:()=>n(!1),handleCloseAuthModal:s})})})]})),ei=[{id:"1000",name:"Friend",color:"#BoxAGF",game:[{id:"1001",name:"Truth or Dare I",type:"tod",img:"/GameCard/picture/Friends.png",imgK:"/GameCard/picture/game/Friends/TOD.png",card:[{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" Account ?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1 ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"dare",text:" 5 ()"},{type:"dare",text:"  30 "},{type:"dare",text:" 10 ()  Happy Birthday "},{type:"dare",text:"  ''"},{type:"dare",text:"  1 "},{type:"dare",text:" "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 24  "},{type:"dare",text:""},{type:"dare",text:" 24 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 2 "},{type:"dare",text:"  24 "},{type:"dare",text:""},{type:"dare",text:" 1  "},{type:"dare",text:""},{type:"dare",text:" 30 "},{type:"dare",text:"  15 "},{type:"dare",text:""},{type:"dare",text:" 10 "},{type:"dare",text:"  1 "},{type:"dare",text:" "},{type:"dare",text:" 10 "},{type:"dare",text:" 1  "},{type:"dare",text:" Facebook/Instagram  24 "},{type:"dare",text:"  1 "},{type:"dare",text:" "},{type:"dare",text:""},{type:"dare",text:" tiktok  x2!"},{type:"dare",text:" 5  30 "},{type:"dare",text:" "},{type:"dare",text:"  2 "},{type:"dare",text:" 10 "},{type:"dare",text:" 20 "},{type:"dare",text:" 24 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:"  10  "},{type:"dare",text:" 1 () "},{type:"dare",text:" 10 "},{type:"dare",text:" "},{type:"dare",text:" 1 "},{type:"dare",text:" 2 "},{type:"dare",text:" 1  "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "}]},{id:"1002",name:"Deep Talk",type:"deep-talk",img:"/GameCard/picture/Friends.png",imgK:"/GameCard/picture/game/Friends/DeepTalk.png",card:[{type:"deep",text:"? ?"},{type:"deep",text:" ? ?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"  ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" 10 ?"}]},{id:"1003",name:"Would You Rather?",type:"rather",img:"/GameCard/picture/Friends.png",imgK:"/GameCard/picture/game/Friends/Rather.png",card:[{type:"rather",text:" ?"},{type:"rather",text:"  24 ?"},{type:"rather",text:" ?"},{type:"rather",text:"  1  24 ?"},{type:"rather",text:" ?"},{type:"rather",text:" 100  ?"},{type:"rather",text:" ?"},{type:"rather",text:" 5   5  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  1 ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" 1   10 ?"},{type:"rather",text:" ?"},{type:"rather",text:" 3  ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"}]},{id:"1004",name:"Friend Roast",type:"roast",img:"/GameCard/picture/Friends.png",imgK:"/GameCard/picture/game/Friends/FriendRoast.png",card:[{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" sex  !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" 1   !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" 1-5  !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !  1  "},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:"   !"},{type:"roast",text:"  1  1-3   46  !"},{type:"roast",text:"   !"},{type:"roast",text:"  3    !"},{type:"roast",text:"    !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:"   1   7   7  !"},{type:"roast",text:"  1-3   !"},{type:"roast",text:" !"},{type:"roast",text:"    "},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:" !"},{type:"roast",text:"  4 !"},{type:"roast",text:" !"},{type:"roast",text:" !"}]}]},{id:"2000",name:"Couples",color:"#BoxAGC",game:[{id:"2001",name:"Truth or Dare I",type:"tod",img:"/GameCard/picture/Couples.png",imgK:"/GameCard/picture/game/Couples/TOD.png",card:[{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"? ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 5 ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:""},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" '' ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" '' ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"? ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"dare",text:"  15 "},{type:"dare",text:" 3 "},{type:"dare",text:"  5 "},{type:"dare",text:" "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" "},{type:"dare",text:" 3 "},{type:"dare",text:" 5 "},{type:"dare",text:""},{type:"dare",text:" "},{type:"dare",text:""},{type:"dare",text:"!"},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 3 "},{type:"dare",text:" 3 "},{type:"dare",text:" 3  LOVE"},{type:"dare",text:""},{type:"dare",text:" 5 "},{type:"dare",text:" 10 "},{type:"dare",text:""},{type:"dare",text:" 5 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" '' "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" '' "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 5 "},{type:"dare",text:" 1  "},{type:"dare",text:"- "},{type:"dare",text:""},{type:"dare",text:" '' "},{type:"dare",text:" 1 "},{type:"dare",text:" '' 10 "},{type:"dare",text:""},{type:"dare",text:" 5 "}]},{id:"2002",name:"Deep Talk",type:"deep-talk",img:"/GameCard/picture/Couples.png",imgK:"/GameCard/picture/game/Couples/DeepTalk.png",card:[{type:"deep",text:"?"},{type:"deep",text:" ?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:" '' ?"},{type:"deep",text:" ''  ?"},{type:"deep",text:"?"},{type:"deep",text:" '' ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:"  ?"},{type:"deep",text:" ''  ?"},{type:"deep",text:" ''  ?"},{type:"deep",text:"?"},{type:"deep",text:"  ?"},{type:"deep",text:"?"},{type:"deep",text:" ?"}]},{id:"2003",name:"Would You Rather?",type:"rather",img:"/GameCard/picture/Couples.png",imgK:"/GameCard/picture/game/Couples/Rather.png",card:[{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"    ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"     ?"},{type:"rather",text:"   ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"     ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:"   ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:"   ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"   ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"}]},{id:"2004",name:"Love level-up",type:"love-level",img:"/GameCard/picture/Couples.png",imgK:"/GameCard/picture/game/Couples/Love-level.png",card:[{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:" ?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"  ?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:" ?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:"?"},{type:"love-level",text:" ?"},{type:"love-level",text:" ?"},{type:"love-level",text:" ?"},{type:"love-level",text:""},{type:"love-level",text:"  ?"},{type:"love-level",text:"?"},{type:"love-level",text:"  ?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"  ?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"   ?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"?"},{type:"love-level",text:"  ?"}]}]},{id:"3000",name:"Family",color:"BoxAGFam",game:[{id:"3001",name:"Truth or Dare I",type:"tod",img:"/GameCard/picture/Fam.png",imgK:"/GameCard/picture/game/Fam/TOD.png",card:[{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ?"},{type:"truth",text:" 1  ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 3  ?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"? ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 1  ? ?"},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:"  1 "},{type:"dare",text:" 1 "},{type:"dare",text:" "},{type:"dare",text:" 10 "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" 5 "},{type:"dare",text:""},{type:"dare",text:" 5 "},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" 1   1  5 "},{type:"dare",text:" ''   1 "},{type:"dare",text:" 5 "},{type:"dare",text:" "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" '' "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" ( 1 )"},{type:"dare",text:" 30 "},{type:"dare",text:" '' "},{type:"dare",text:" 2 "},{type:"dare",text:" 5 "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:" 1  "},{type:"dare",text:" 10  '!'"},{type:"dare",text:""},{type:"dare",text:" "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" ()"},{type:"dare",text:"!"}]},{id:"3002",name:"Deep Talk",type:"deep-talk",img:"/GameCard/picture/Fam.png",imgK:"/GameCard/picture/game/Fam/DeepTalk.png",card:[{type:"deep",text:" ?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:"  ?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"  ''?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:"?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" 1  ?"},{type:"deep",text:"?"},{type:"deep",text:"?"}]},{id:"3003",name:"Would You Rather?",type:"rather",img:"/GameCard/picture/Fam.png",imgK:"/GameCard/picture/game/Fam/Rather.png",card:[{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ''?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" /?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  20?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ''    ?"},{type:"rather",text:" ?"}]},{id:"3004",name:"Childhood Throwback",type:"child-story",img:"/GameCard/picture/Fam.png",imgK:"/GameCard/picture/game/Fam/Childhood.png",card:[{type:"child-story",text:" ?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:" ?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"  ?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"? ?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"  ?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"  ?"},{type:"child-story",text:" ?"},{type:"child-story",text:"/? ?"},{type:"child-story",text:"?"},{type:"child-story",text:"/?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"?"},{type:"child-story",text:"  ?"},{type:"child-story",text:"?"},{type:"child-story",text:" ?"}]}]},{id:"4000",name:"Adult",color:"BoxAGA",game:[{id:"4001",name:"Truth or Dare",type:"tod",img:"/GameCard/picture/Adult.png",imgK:"/GameCard/picture/game/Adult/TOD.png",card:[{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" 18+ ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ons ?"},{type:"truth",text:"?"},{type:"truth",text:" sex ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" sex ?"},{type:"truth",text:" sex ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:" ?"},{type:"truth",text:" ?"},{type:"truth",text:" sex ?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"truth",text:"?"},{type:"dare",text:" "},{type:"dare",text:" "},{type:"dare",text:" "},{type:"dare",text:" 18+ "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 5 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 10 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:" 1 "},{type:"dare",text:""},{type:"dare",text:" 2 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:" 10 "},{type:"dare",text:" 10 "},{type:"dare",text:" 10 "},{type:"dare",text:" 10 "},{type:"dare",text:" 10 "},{type:"dare",text:" !"},{type:"dare",text:" 8   5   5  !"},{type:"dare",text:""},{type:"dare",text:" ''  3 "},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""},{type:"dare",text:""}]},{id:"4002",name:"Deep Talk",type:"deep-talk",img:"/GameCard/picture/Adult.png",imgK:"/GameCard/picture/game/Adult/DeepTalk.png",card:[{type:"deep",text:"? ?"},{type:"deep",text:" '' ? ?"},{type:"deep",text:"?"},{type:"deep",text:" 20  1  ?"},{type:"deep",text:" ? ?"},{type:"deep",text:"? ?"},{type:"deep",text:" '' ?"},{type:"deep",text:" ?"},{type:"deep",text:" ? ?"},{type:"deep",text:"? ?"},{type:"deep",text:"?"},{type:"deep",text:" ?"},{type:"deep",text:"?"},{type:"deep",text:"? ?"},{type:"deep",text:"?"},{type:"deep",text:" 1  ?"},{type:"deep",text:"?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"},{type:"deep",text:" ?"}]},{id:"4003",name:"Would You Rather?",type:"rather",img:"/GameCard/picture/Adult.png",imgK:"/GameCard/picture/game/Adult/Rather.png",card:[{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" one night stand   2 ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  ?"},{type:"rather",text:" ?"},{type:"rather",text:" sex toy ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" Truth or Dare 18+  ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" dirty talk ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  '' ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"  18+?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" 5   30 ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:"/ /?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"},{type:"rather",text:" ?"}]},{id:"4004",name:"The hottest secret",type:"sexy",img:"/GameCard/picture/Adult.png",imgK:"/GameCard/picture/game/Adult/HottestSecret.png",card:[{type:"sexy",text:" sex ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:"sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:" sex?"},{type:"sexy",text:" sex?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:" sexy ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"  sex ?"},{type:"sexy",text:""},{type:"sexy",text:""},{type:"sexy",text:" sex ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:""},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"/"},{type:"sexy",text:" Hot "},{type:"sexy",text:"   1 ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:" sex ?"},{type:"sexy",text:"  1 ?"}]}]}],uD=()=>{const i=vr(),[e,n]=Y.useState("");ei.filter(o=>o.name.toLowerCase().includes(e.toLowerCase())||o.game.some(u=>u.name.toLowerCase().includes(e.toLowerCase())));const s=ei.flatMap(o=>o.game.filter(u=>u.name.toLowerCase().includes(e.toLowerCase())).map(u=>({...u,categoryName:o.name,categoryColor:o.color})));return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center justify-center mt-0 gap-4",children:[b.jsx("div",{className:"flex-grow h-[2px] bg-gradient-to-r from-transparent via-[#801e6c] to-pink-300 rounded-full shadow-sm"}),b.jsx("p",{className:"text-2xl text-[#801e6c] animate-bounce-slow",children:""}),b.jsx("div",{className:"flex-grow h-[2px] bg-gradient-to-l from-transparent via-[#801e6c] to-pink-300 rounded-full shadow-sm"})]}),b.jsxs("div",{className:"screenCat items-center ",children:[b.jsx("h1",{className:"text-5xl font-barbie text-pink-600 text-center mt-2 mb-8 drop-shadow-md animate-fade-pop",children:" Choose Your Game Vibe "}),b.jsx("p",{className:"text-center text-purple-800 text-lg font-cute mb-10 max-w-2xl mx-auto",children:"Whether you're bonding with friends, cuddling with your partner, giggling with family, or daring with adults  we've got a game for you "}),b.jsxs("div",{className:"relative z-10 mb-16 w-full max-w-xl ",children:[b.jsx("input",{type:"text",placeholder:"Search category or game...",className:`w-full p-4 pl-12 rounded-full bg-purple-700 text-white border-2 border-pink-500\r
                     focus:outline-none focus:ring-2 focus:ring-pink-400 placeholder-pink-200\r
                     text-xl font-bold transition-all duration-300 shadow-lg`,value:e,onChange:o=>n(o.target.value)}),b.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-pink-300 w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e&&s.length>0?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 w-full max-w-6xl ",children:s.map((o,u)=>b.jsxs("div",{className:`flex flex-col items-center p-6 rounded-3xl border-4 border-pink-300 bg-white\r
                   hover:scale-105 hover:shadow-xl hover:border-pink-500 hover:bg-pink-50 hover:-rotate-1\r
                   transition-all duration-300 cursor-pointer hover:shadow-pink-200 shadow-[0_-8px_20px_rgba(255,0,150,0.3),0_8px_20px_rgba(255,0,150,0.3)]`,onClick:()=>{o.type==="tod"?i(`/game/${o.id}`):i(`/game-dt/${o.id}`)},children:[b.jsx("img",{src:o.imgK,alt:o.name,className:"h-32 object-contain mb-4 group-hover:rotate-1 transition-transform duration-300"}),b.jsx("h2",{className:"text-2xl font-bold text-pink-600 text-center",children:o.name}),b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:o.categoryName})]},u))}):e?b.jsx("p",{className:"text-center text-pink-700 font-cute mt-10 text-lg animate-pulse",children:" We couldnt find what youre looking for... Try something else "}):b.jsx("div",{className:" relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 justify-items-center w-full max-w-6xl ",children:[{label:"FRIENDS",img:"/GameCard/picture/game/Friends/LOGO.png",bgHover:"bg-yellow-100",border:"border-yellow-400",route:"/ShowCGF"},{label:"COUPLES",img:"/GameCard/picture/game/Couples/LOGO.png",bgHover:"bg-pink-100",border:"border-pink-400",route:"/ShowCGC"},{label:"FAMILY",img:"/GameCard/picture/game/Fam/LOGO.png",bgHover:"bg-purple-100",border:"border-purple-400",route:"/ShowCGFam"},{label:"ADULTS",img:"/GameCard/picture/game/Adult/LOGO.png",bgHover:"bg-rose-100",border:"border-rose-400",route:"/ShowCGA"}].map((o,u)=>b.jsx("div",{style:{backgroundImage:`url(${o.img})`},className:`relative group flex flex-col items-center p-6 rounded-3xl border-4 border-pink-300  bg-{cat.img}
              hover:scale-105 hover:rotate-1 hover:border-pink-500 hover:bg-pink-50 w-[240px] h-[280px]
              transition-all duration-300 cursor-pointer shadow-[0_-8px_20px_rgba(255,0,150,0.3),0_8px_20px_rgba(255,0,150,0.3)]  bg-cover bg-center`,onClick:()=>i(o.route),children:b.jsx("div",{className:"absolute inset-0 rounded-3xl z-0 opacity-0 blur-lg transition duration-300 group-hover:opacity-80 group-hover:scale-105 "})},u))})]})]})},cD=()=>{const i=vr();return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"screenAG mt-10",children:[b.jsx("div",{className:"w-[200px] h-[4px] bg-gradient-to-r from-pink-500 to-purple-500 mx-auto my-10 rounded-full animate-fade-glow"}),b.jsxs("h1",{className:`relative z-10 text-5xl sm:text-6xl text-center mb-4\r
               text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-fuchsia-500 to-purple-500\r
               drop-shadow-[0_2px_3px_rgba(0,0,0,0.2)] tracking-wide animate-fade-in-down`,children:[" ",b.jsx("span",{className:"text-5xl font-barbie text-pink-600 text-center mt-10 mb-8 animate-fade-pop",children:"Recent Games"})," "]}),b.jsx("div",{className:"flex justify-center mb-10",children:b.jsx("div",{className:"px-4 py-1 bg-white/70 backdrop-blur-md border border-pink-300 rounded-full shadow-sm text-pink-700 font-cute text-sm",children:" Featured Games"})}),b.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-10 justify-items-center mt-5 m-5",children:ei.map(e=>e.game.map(n=>b.jsx("div",{className:`relative flex flex-col items-center p-5 rounded-2xl shadow-xl gap-10\r
                                       border-4 border-pink-600 bg-purple-800\r
                                       transform transition-all duration-300 ease-in-out\r
                                       hover:scale-105 hover:shadow-2xl hover:border-pink-300 hover:bg-purple-700\r
                                       cursor-pointer overflow-hidden group animate-card-pop\r
                                       // Overlay gradient on hover\r
                                       before:content-[""] before:absolute before:inset-0 before:rounded-2xl before:bg-gradient-to-br before:from-pink-500 before:to-purple-700 before:opacity-0 before:transition-opacity before:duration-300 group-hover:before:opacity-20\r
                                       // Glowing effect behind the card on hover\r
                                       after:content-[""] after:absolute after:-inset-1 after:rounded-2xl after:bg-gradient-to-br after:from-pink-400 after:to-purple-600 after:opacity-0 after:blur-md after:transition-all after:duration-300 group-hover:after:opacity-60 group-hover:after:scale-105`,onClick:()=>{["deep-talk","rather","roast","love-level","child-story","sexy"].includes(n.type)?i(`/game-dt/${n.id}`):i(`/game/${n.id}`)},children:b.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[b.jsx("div",{className:"absolute top-3 right-3 w-10 h-10 rounded-full bg-pink-500 flex items-center justify-center shadow-md border-2 border-white text-white text-xs font-bold",children:b.jsx("img",{src:n.img||`https://placehold.co/30x30/${e.color.substring(1)}/FFFFFF?text=${e.name.charAt(0)}`,alt:`${e.name} icon`,className:"w-full h-full object-contain p-1",onError:s=>{s.target.onerror=null,s.target.src=`https://placehold.co/30x30/${e.color.substring(1)}/FFFFFF?text=${e.name.charAt(0)}`}})}),b.jsx("div",{className:"w-[200px] h-[150px] mb-4 rounded-lg overflow-hidden border-4 border-purple-600 shadow-inner group-hover:border-pink-400 transition-colors duration-300",children:b.jsx("img",{src:n.imgK||`https://placehold.co/200x150/${e.color.substring(1)}/FFFFFF?text=${n.name.replace(/\s/g,"+")}`,alt:n.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300",onError:s=>{s.target.onerror=null,s.target.src=`https://placehold.co/200x150/${e.color.substring(1)}/FFFFFF?text=${n.name.replace(/\s/g,"+")}`}})}),b.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2 group-hover:text-pink-100 transition-colors duration-300",children:n.name}),b.jsxs("p",{className:"text-sm text-purple-300 group-hover:text-pink-200 transition-colors duration-300",children:["Category: ",e.name]})]})},n.id)))}),b.jsx("style",{jsx:!0,children:`
                @keyframes blob-1 {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    33% { transform: translate(30px, -50px) scale(1.1); }
                    66% { transform: translate(-20px, 20px) scale(0.9); }
                }
                @keyframes blob-2 {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    33% { transform: translate(-40px, 30px) scale(0.95); }
                    66% { transform: translate(10px, -40px) scale(1.05); }
                }
                @keyframes blob-3 {
                    0%, 100% { transform: translate(0, 0) scale(1); }
                    33% { transform: translate(50px, 10px) scale(1.02); }
                    66% { transform: translate(-30px, -30px) scale(0.98); }
                }
                .animate-blob-1 { animation: blob-1 15s infinite alternate; }
                .animate-blob-2 { animation: blob-2 18s infinite alternate; }
                .animate-blob-3 { animation: blob-3 12s infinite alternate; }

                @keyframes fade-in-down {
                    from { opacity: 0; transform: translateY(-20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in-down { animation: fade-in-down 1s ease-out forwards; }

                @keyframes card-pop {
                    from { opacity: 0; transform: scale(0.9); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-card-pop { animation: card-pop 0.5s ease-out forwards; }
            `}),b.jsxs("div",{className:"flex items-center justify-center mt-16 gap-2",children:[b.jsx("span",{className:"text-2xl animate-pulse text-pink-500",children:" "}),b.jsx("p",{className:"text-pink-500 font-cute text-lg",children:"That's all for now"}),b.jsx("span",{className:"text-2xl animate-pulse text-pink-500",children:" "})]})]})})},hD=()=>(vr(),b.jsx("div",{className:"min-h-0 flex flex-col  overflow-x-hidden relative  p-10 ",children:b.jsxs("div",{className:"BoxMainWelcome max-w-7xl w-full flex flex-col md:flex-row items-center justify-between gap-12 ",children:[b.jsxs("div",{className:"flex-1 text-center md:text-left px-5 ml-6 ",children:[b.jsx("h1",{className:"TextWelcome text-5xl md:text-6xl font-extrabold leading-tight mb-4 drop-shadow-[2px_2px_0_white] text-pink-600",children:"Welcome to your happy place!"}),b.jsx("p",{className:"TextWelcome text-pink-800 mb-4 text-lg md:text-xl",children:"This is where fun begins  relax, laugh, and create memories with friends, family, or your favorite people."}),b.jsx("p",{className:"TextWelcome text-pink-700 italic mb-6 text-lg",children:"Play together. Laugh harder. Shine brighter."}),b.jsx("button",{className:"px-8 py-3 bg-pink-500 hover:bg-pink-600 text-white rounded-full shadow-xl hover:shadow-pink-300 transition-all duration-300 ease-in-out font-bold text-lg tracking-wide",onClick:()=>{var i;return(i=document.getElementById("RecentGame"))==null?void 0:i.scrollIntoView({behavior:"smooth"})},children:" Start Playing "})]}),b.jsx("div",{className:"flex-1 flex items-center justify-center mb-10",children:b.jsxs("div",{className:"relative w-[260px] h-[360px] md:w-[250px] md:h-[350px] perspective-1000 animate-float",children:[b.jsx("div",{className:`absolute inset-0 rounded-3xl bg-pink-300 transform -rotate-[15deg]\r
              shadow-xl shadow-pink-600 overflow-hidden border-4 border-white\r
              bg-[url("/picture/BG-CARD.png")] bg-cover flex items-center justify-center z-10`,children:b.jsx("img",{src:"/GameCard/picture/Logo.png",alt:"G Game Logo",className:"max-w-[60%] max-h-[70%] object-contain"})}),b.jsx("div",{className:`absolute inset-0 rounded-3xl bg-white transform rotate-[18deg]\r
              border-4 border-pink-500 shadow-[8px_8px_0px] shadow-pink-400 translate-x-12 translate-y-8\r
              flex items-center justify-center px-6 z-20`,children:b.jsxs("p",{className:"text-[40px] md:text-[35px] text-pink-700 text-center font-bold font-averia leading-snug",children:[`"It's playtime! `,b.jsx("br",{}),` Who's in?"`]})})]})})]})})),fD=({isOpen:i,onClose:e})=>{const[n,s]=Y.useState(""),[o,u]=Y.useState(""),[f,p]=Y.useState(!1);if(Y.useEffect(()=>{if(f){const y=setTimeout(()=>p(!1),2500);return()=>clearTimeout(y)}},[f]),!i)return null;const m=async y=>{if(y.preventDefault(),!n.trim()){alert("Please enter your feedback ");return}await sD(rh(Vl,"feedbacks"),{message:n,email:o||null,createdAt:VT()}),s(""),u(""),p(!0),setTimeout(e,2500)};return b.jsx("div",{className:"fixed inset-0 bg-pink-200 bg-opacity-80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-4 border-pink-300 animate-fade-pop relative",children:[f&&b.jsx("div",{className:"absolute top-0 left-0 right-0 bg-green-100 border-b-2 border-green-300 text-green-800 text-center py-3 rounded-t-2xl font-semibold animate-fade-in",children:" Feedback sent successfully!"}),b.jsxs("div",{className:"flex justify-between items-center mb-4 mt-1",children:[b.jsx("h2",{className:"text-3xl font-averia text-pink-600",children:" Send Us Your Love!"}),b.jsx("button",{onClick:e,className:"text-pink-400 hover:text-pink-600 text-3xl font-bold",children:""})]}),b.jsxs("form",{onSubmit:m,children:[b.jsxs("div",{className:"mb-4",children:[b.jsxs("label",{htmlFor:"feedback",className:"block text-pink-700 font-semibold mb-2",children:[" Your Feedback ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("textarea",{id:"feedback",className:"border-2 border-pink-300 rounded-xl w-full p-4 text-pink-800 focus:outline-none focus:ring-2 focus:ring-pink-400 resize-none h-32 placeholder-pink-300",placeholder:"Tell us what you think... ",value:n,onChange:y=>s(y.target.value),required:!0})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"email",className:"block text-pink-700 font-semibold mb-2",children:" Your Email (Optional)"}),b.jsx("input",{type:"email",id:"email",className:"border-2 border-pink-300 rounded-xl w-full p-3 text-pink-800 focus:outline-none focus:ring-2 focus:ring-pink-400 placeholder-pink-300",placeholder:"barbie@example.com",value:o,onChange:y=>u(y.target.value)})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:e,className:"bg-pink-100 hover:bg-pink-200 text-pink-700 font-bold py-2 px-5 rounded-full transition",children:"Cancel"}),b.jsx("button",{type:"submit",className:"bg-gradient-to-r from-pink-400 to-pink-500 hover:from-pink-500 hover:to-pink-600 text-white font-bold py-2 px-5 rounded-full shadow-md transition",children:" Send Feedback"})]})]})]})})},dD=()=>{const[i,e]=Y.useState(!1),[n,s]=Y.useState(!1),[o,u]=Y.useState(!1);return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"screenFooter bg-[#FF4FA3] text-white font-averia pt-12 pb-6 px-8 shadow-[0_-8px_20px_rgba(255,0,150,0.3)] mt-14",children:[b.jsxs("div",{className:"flex flex-col md:flex-row gap-10 justify-around",children:[b.jsxs("div",{className:"BoxFoot1",children:[b.jsx("h1",{className:"text-3xl font-extrabold",children:"GAME CARD"}),b.jsx("p",{className:"mt-4 text-base",children:"Let joy lead the way, and laughter be our mission."}),b.jsx("p",{className:"mt-2 text-sm",children:"Our game has just begun  and with every friend who joins, the fun grows stronger."}),b.jsx("div",{className:`mt-5 w-[170px] rounded-full bg-white text-center cursor-pointer text-[#FF4FA3]\r
              hover:bg-pink-200 hover:scale-105 transition-all duration-300 font-bold py-3 shadow-md`,onClick:()=>{var f;return(f=document.getElementById("RecentGame"))==null?void 0:f.scrollIntoView({behavior:"smooth"})},children:"RECENT GAME"})]}),b.jsxs("div",{className:"BoxFoot2 text-sm",children:[b.jsx("h3",{className:"text-lg font-bold mb-3",children:"About"}),b.jsx("button",{className:"mb-2 hover:underline",onClick:()=>{var f;return(f=document.getElementById("cat"))==null?void 0:f.scrollIntoView({behavior:"smooth"})},children:" Category Game"}),b.jsx("br",{}),b.jsx("button",{className:"hover:underline",onClick:()=>{var f;return(f=document.getElementById("RecentGame"))==null?void 0:f.scrollIntoView({behavior:"smooth"})},children:" Recent Game"})]}),b.jsxs("div",{className:"BoxFoot3 text-sm",children:[b.jsx("h3",{className:"text-lg font-bold mb-3",children:"Help"}),b.jsx("a",{href:"https://discord.gg/SGyuKjF8RM",className:"block mb-2 hover:underline",children:" Discord"}),b.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=official.gamecard@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"block mb-2 hover:underline",children:" Contact us"}),b.jsx("button",{onClick:()=>e(!0),className:"mt-2 bg-white text-[#FF4FA3] px-4 py-2 rounded-full font-bold shadow-lg hover:bg-pink-100 transition-all",children:" Feedback"})]})]}),b.jsx("div",{className:"flex justify-center mt-10",children:b.jsx("hr",{className:"w-[70%] border-t-2 border-white opacity-50"})}),b.jsxs("p",{className:"text-center text-sm mt-4 font-medium",children:[" 2025 GAMECARD  |",b.jsx("span",{className:"underline cursor-pointer mx-1 hover:text-pink-200",onClick:()=>s(!0),children:"Privacy"})," |",b.jsx("span",{className:"underline cursor-pointer mx-1 hover:text-pink-200",onClick:()=>u(!0),children:"Terms"})]})]}),b.jsx(fD,{isOpen:i,onClose:()=>e(!1),onSubmit:f=>console.log(f)}),n&&b.jsx("div",{className:"fixed inset-0 bg-pink-200 bg-opacity-80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 w-full max-w-md border-4 border-pink-300 relative animate-fade-pop overflow-y-auto max-h-[90vh]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-pink-600",children:" Privacy Policy"}),b.jsx("button",{onClick:()=>s(!1),className:"text-pink-400 hover:text-pink-600 text-3xl font-bold",children:""})]}),b.jsxs("div",{className:"text-sm text-pink-800 space-y-3",children:[b.jsx("p",{children:" We only collect your email and feedback to improve the site."}),b.jsx("p",{children:" We never collect game answers or personal responses."}),b.jsx("p",{children:" Your information will never be sold or shared with third parties."}),b.jsx("p",{children:" Contact us anytime at official.gamecard@gmail.com"})]})]})}),o&&b.jsx("div",{className:"fixed inset-0 bg-pink-200 bg-opacity-80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 w-full max-w-md border-4 border-pink-300 relative animate-fade-pop overflow-y-auto max-h-[90vh]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-pink-600",children:" Terms of Service"}),b.jsx("button",{onClick:()=>u(!1),className:"text-pink-400 hover:text-pink-600 text-3xl font-bold",children:""})]}),b.jsxs("div",{className:"text-sm text-pink-800 space-y-3",children:[b.jsx("p",{children:" This platform is for entertainment purposes only. Commercial use is not allowed."}),b.jsx("p",{children:" Please be respectful  never use questions to hurt or shame others."}),b.jsx("p",{children:" Recommended for players aged 15 and up due to some mature themes."}),b.jsx("p",{children:" We may update these terms at any time without prior notice."})]})]})})]})},pD=()=>{const i=vr();return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"min-h-screen bg-white p-4 sm:p-8 flex flex-col items-center font-averia",children:[b.jsx("button",{className:`self-start mb-8 flex items-center justify-center\r
                     text-white rounded-full w-24 h-12 text-xl font-bold\r
                     shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-xl`,style:{backgroundColor:"#FBC601",boxShadow:"0 4px 10px #FBC60180"},onClick:()=>i("/"),children:"Back"}),b.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-12 text-center",style:{color:"#FBC601"},children:"Games with Friends"}),b.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-w-7xl w-full",children:ei.filter(e=>e.name==="Friend").map(e=>e.game.map(n=>b.jsxs("div",{className:`relative flex flex-col items-center p-5 rounded-2xl shadow-xl\r
                             border-4 border-yellow-400 bg-purple-800\r
                             transform transition-all duration-300 ease-in-out\r
                             hover:scale-105 hover:shadow-2xl hover:border-yellow-200 hover:bg-purple-700\r
                             cursor-pointer overflow-hidden group`,style:{backgroundColor:e.color},onClick:()=>{["deep-talk","rather","roast","love-level","child-story","sexy"].includes(n.type)?i(`/game-dt/${n.id}`):i(`/game/${n.id}`)},children:[b.jsx("div",{className:"w-[200px] h-[150px] mb-4 rounded-lg overflow-hidden border-4 border-purple-600 shadow-inner group-hover:border-pink-400 transition-colors duration-300",children:b.jsx("img",{src:n.imgK||`https://placehold.co/200x150/${e.color.substring(1)}/FFFFFF?text=${n.name.replace(/\s/g,"+")}`,alt:n.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"})}),b.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2 group-hover:text-pink-100 transition-colors duration-300",children:n.name}),b.jsxs("p",{className:"text-sm text-purple-300 group-hover:text-pink-200 transition-colors duration-300",children:["Category: ",e.name]}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl z-20",children:b.jsx("span",{className:"text-4xl font-black animate-bounce text-pink-500",children:"PLAY!"})})]},n.id)))})]})})},mD=()=>{const i=vr();return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"min-h-screen bg-white p-4 sm:p-8 flex flex-col items-center font-averia",children:[b.jsx("button",{className:`self-start mb-8 flex items-center justify-center\r
                     text-white rounded-full w-24 h-12 text-xl font-bold\r
                     shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-xl bg-pink-500`,style:{boxShadow:"0 10px 10px #EFA6CA80"},onClick:()=>i("/"),children:"Back"}),b.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-12 text-center text-pink-500",children:"Games with Couples"}),b.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-w-7xl w-full",children:ei.filter(e=>e.name==="Couples").map(e=>e.game.map(n=>b.jsxs("div",{className:`relative flex flex-col items-center p-5 rounded-2xl shadow-xl\r
                             border-4 border-pink-500 bg-purple-800\r
                             transform transition-all duration-300 ease-in-out\r
                             hover:scale-105 hover:shadow-2xl hover:border-pink-300 hover:bg-purple-700\r
                             cursor-pointer overflow-hidden group`,style:{backgroundColor:e.color},onClick:()=>{["deep-talk","rather","roast","love-level","child-story","sexy"].includes(n.type)?i(`/game-dt/${n.id}`):i(`/game/${n.id}`)},children:[b.jsx("div",{className:"w-[200px] h-[150px] mb-4 rounded-lg overflow-hidden border-4 border-purple-600 shadow-inner group-hover:border-pink-400 transition-colors duration-300",children:b.jsx("img",{src:n.imgK||`https://placehold.co/200x150/${e.color.substring(1)}/FFFFFF?text=${n.name.replace(/\s/g,"+")}`,alt:n.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"})}),b.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2 group-hover:text-pink-100 transition-colors duration-300",children:n.name}),b.jsxs("p",{className:"text-sm text-purple-300 group-hover:text-pink-200 transition-colors duration-300",children:["Category: ",e.name]}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl z-20",children:b.jsx("span",{className:"text-4xl font-black animate-bounce text-pink-500",children:"PLAY!"})})]},n.id)))})]})})},gD=()=>{const i=vr();return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"min-h-screen bg-white p-4 sm:p-8 flex flex-col items-center font-averia",children:[b.jsx("button",{className:`self-start mb-8 flex items-center justify-center\r
                     text-white rounded-full w-24 h-12 text-xl font-bold\r
                     shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-xl`,style:{backgroundColor:"#782088",boxShadow:"0 4px 10px #78208880"},onClick:()=>i("/"),children:"Back"}),b.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-12 text-center",style:{color:"#782088"},children:"Games with Family"}),b.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-w-7xl w-full",children:ei.filter(e=>e.name==="Family").map(e=>e.game.map(n=>b.jsxs("div",{className:`relative flex flex-col items-center p-5 rounded-2xl shadow-xl\r
                             border-4 border-pink-500 bg-purple-800\r
                             transform transition-all duration-300 ease-in-out\r
                             hover:scale-105 hover:shadow-2xl hover:border-pink-300 hover:bg-purple-700\r
                             cursor-pointer overflow-hidden group`,style:{backgroundColor:e.color},onClick:()=>{["deep-talk","rather","roast","love-level","child-story","sexy"].includes(n.type)?i(`/game-dt/${n.id}`):i(`/game/${n.id}`)},children:[b.jsx("div",{className:"w-[200px] h-[150px] mb-4 rounded-lg overflow-hidden border-4 border-purple-600 shadow-inner group-hover:border-pink-400 transition-colors duration-300",children:b.jsx("img",{src:n.imgK||`https://placehold.co/200x150/${e.color.substring(1)}/FFFFFF?text=${n.name.replace(/\s/g,"+")}`,alt:n.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"})}),b.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2 group-hover:text-pink-100 transition-colors duration-300",children:n.name}),b.jsxs("p",{className:"text-sm text-purple-300 group-hover:text-pink-200 transition-colors duration-300",children:["Category: ",e.name]}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl z-20",children:b.jsx("span",{className:"text-4xl font-black animate-bounce text-pink-500",children:"PLAY!"})})]},n.id)))})]})})},yD=()=>{const i=vr();return b.jsxs("div",{className:"min-h-screen bg-white p-4 sm:p-8 flex flex-col items-center font-averia",children:[b.jsx("button",{className:`self-start mb-8 flex items-center justify-center\r
                           text-white rounded-full w-24 h-12 text-xl font-bold\r
                           shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-xl`,style:{backgroundColor:"#9E1B1D",boxShadow:"0 4px 10px #9E1B1D80"},onClick:()=>i("/"),children:"Back"}),b.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-12 drop-shadow-lg text-center",style:{color:"#9E1B1D"},children:"Games for Adult!"}),b.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-w-7xl w-full",children:ei.filter(e=>e.name==="Adult").map(e=>e.game.map(n=>b.jsxs("div",{className:`relative flex flex-col items-center p-5 rounded-2xl shadow-xl\r
                                           border-4 border-red-800 bg-purple-800\r
                                           transform transition-all duration-300 ease-in-out\r
                                           hover:scale-105 hover:shadow-2xl hover:border-red-600 hover:bg-purple-700\r
                                           cursor-pointer overflow-hidden group animate-card-pop`,style:{backgroundColor:e.color},onClick:()=>{["deep-talk","rather","roast","love-level","child-story","sexy"].includes(n.type)?i(`/game-dt/${n.id}`):i(`/game/${n.id}`)},children:[b.jsx("div",{className:"w-[200px] h-[150px] mb-4 rounded-lg overflow-hidden border-4 border-purple-600 shadow-inner group-hover:border-pink-400 transition-colors duration-300",children:b.jsx("img",{src:n.imgK||`https://placehold.co/200x150/${e.color.substring(1)}/FFFFFF?text=${n.name.replace(/\s/g,"+")}`,alt:n.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"})}),b.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2 group-hover:text-pink-100 transition-colors duration-300",children:n.name}),b.jsxs("p",{className:"text-sm text-purple-300 group-hover:text-pink-200 transition-colors duration-300",children:["Category: ",e.name]}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl z-20",children:b.jsx("span",{className:"text-4xl font-black animate-bounce text-pink-500",children:"PLAY!"})})]},n.id)))})]})},vD=()=>{const{id:i}=Z0(),e=vr(),[n,s]=Y.useState(!1),[o,u]=Y.useState(null),[f,p]=Y.useState(""),[m,y]=Y.useState(!1),[x,A]=Y.useState(!0),w=ei.flatMap(se=>se.game.filter(de=>de.type==="tod").map(de=>({...de,category:se.name}))).find(se=>se.id===i),[L,M]=Y.useState([]),[Q,q]=Y.useState([]),G=()=>{if(!w)return;const se=w.card.filter(D=>D.type==="truth"),de=w.card.filter(D=>D.type==="dare");M(se),q(de),s(!0),y(!1),u(null),p("")},W=se=>{const de=Math.floor(Math.random()*se.length);return{card:se[de],index:de}},re=se=>{let de=se==="truth"?L:Q;if(de.length===0){p(" "),y(!0);return}const{card:D,index:S}=W(de);p(D.text),y(!0),u(se);const R=[...de];R.splice(S,1),se==="truth"?M(R):q(R)},he=()=>{y(!1),u(null),p("")};return b.jsxs("div",{className:"screenGTOD font-averia flex flex-col items-center p-6",children:[x&&b.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl max-w-xl text-center shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-[#680A75] mb-4",children:" "}),b.jsx("p",{className:"text-[#510C1E] text-sm text-left mb-3",children:"   ! "}),b.jsx("p",{className:"text-[#510C1E] text-sm text-left mb-2 font-semibold",children:" "}),b.jsxs("p",{className:"text-[#510C1E] text-sm text-left mb-2",children:["  : ",b.jsx("br",{}),"   1 !"]}),b.jsx("p",{className:"text-[#510C1E] text-sm text-left mb-2 font-semibold",children:"  :"}),b.jsxs("p",{className:"text-[#510C1E] text-sm text-left mb-4",children:[" 1 ! ",b.jsx("br",{}),"  :  ! ",b.jsx("br",{})]}),b.jsx("button",{className:"bg-[#EC288C] text-white px-6 py-2 rounded-full hover:bg-[#680A75]",onClick:()=>A(!1),children:" !"})]})}),b.jsxs("div",{className:"w-full flex justify-between items-center mb-5",children:[b.jsx("div",{className:"text-white rounded-full w-24 h-14 flex items-center justify-center cursor-pointer bg-[#680A75] ml-24 hover:bg-[#EC288C]",onClick:()=>e("/"),children:b.jsx("div",{className:"text-xl font-bold",children:"Back"})}),b.jsx("h2",{className:"text-4xl font-bold text-[#680A75]",children:(w==null?void 0:w.name)||""})]}),b.jsx("div",{className:`game-card ${m?"flipped":""} mb-4`,children:m?b.jsx("div",{className:`game-card-back bg-white shadow-[8px_8px_2px] border-2 border-black shadow-[#680A75] rounded-2xl h-[400px] w-[300px] \r
            flex items-center justify-center text-center bg-[url('/picture/BG-FC.png')]  bg-cover`,children:b.jsx("p",{className:"card-text text-lg font-semibold text-white",children:f})}):b.jsx("div",{className:`game-card-front bg-[#EFA6CA] rounded-2xl h-[400px] w-[300px] \r
            flex items-center justify-center \r
            shadow-[-8px_-8px_2px] shadow-[#680A75] \r
           bg-[url('/picture/BG-CARD.png')]  bg-cover `})}),n&&!m&&b.jsxs("div",{className:"flex flex-col items-center text-[#680A75] font-semibold text-sm mt-1",children:[b.jsx("p",{children:""}),b.jsxs("div",{className:"flex gap-6 mt-1",children:[b.jsxs("span",{children:[": ",L.length]}),b.jsxs("span",{children:[": ",Q.length]})]})]}),b.jsx("div",{className:"flex gap-4 mt-3",children:n?m?b.jsx("button",{onClick:he,className:`px-8 py-3 bg-red-800 text-white rounded-full text-lg font-bold uppercase tracking-wider\r
                       shadow-lg transform hover:scale-105 transition-all duration-300 ease-in-out\r
                       focus:outline-none focus:ring-4 focus:ring-green-300 active:scale-95`,children:""}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>re("truth"),className:`px-6 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-full text-base font-bold uppercase tracking-wide\r
                           shadow-md transform hover:scale-105 transition-all duration-300 ease-in-out\r
                           focus:outline-none focus:ring-4 focus:ring-purple-300 active:scale-95`,children:""}),b.jsx("button",{onClick:()=>re("dare"),className:`px-6 py-2 bg-gradient-to-r from-pink-500 to-red-500 text-white rounded-full text-base font-bold uppercase tracking-wide\r
                           shadow-md transform hover:scale-105 transition-all duration-300 ease-in-out\r
                           focus:outline-none focus:ring-4 focus:ring-pink-300 active:scale-95`,children:""})]}):b.jsx("button",{onClick:G,className:`px-8 py-3 bg-blue-950 text-white rounded-full text-lg font-bold uppercase tracking-wider\r
                       shadow-lg transform hover:scale-105 transition-all duration-300 ease-in-out\r
                       focus:outline-none focus:ring-4 focus:ring-pink-300 active:scale-95`,children:""})})]})},_D=()=>{const{id:i}=Z0(),e=vr(),[n,s]=Y.useState(!1),[o,u]=Y.useState(""),[f,p]=Y.useState(!1),[m,y]=Y.useState([]),[x,A]=Y.useState(!0),w=ei.flatMap(q=>q.game.filter(G=>G.type==="deep-talk"||G.type==="rather"||G.type==="roast"||G.type==="love-level"||G.type==="child-story"||G.type==="sexy").map(G=>({...G,category:q.name,color:q.color||"#EFA6CA"}))).find(q=>q.id===i),L=()=>{if(!w)return;const q=w.card.filter(G=>w.type==="deep-talk"?G.type==="deep":w.type==="rather"?G.type==="rather":w.type==="roast"?G.type==="roast":w.type==="love-level"?G.type==="love-level":w.type==="child-story"?G.type==="child-story":w.type==="sexy"?G.type==="sexy":!1);y(q),s(!0),p(!1),u("")},M=()=>{if(m.length===0){u(" "),p(!0);return}const q=Math.floor(Math.random()*m.length),G=m[q],W=[...m];W.splice(q,1),u(G.text),y(W),p(!0)},Q=()=>{p(!1),u("")};return b.jsxs("div",{className:"bg-white font-averia flex flex-col items-center p-6  ",children:[x&&b.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl max-w-xl text-center shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-[#680A75] mb-4",children:" "}),b.jsx("p",{className:"text-[#bc2a2a] text-sm text-left mb-5",children:b.jsx("b",{children:" !"})}),b.jsx("p",{className:"text-[#510C1E] text-sm text-left mb-2 font-semibold",children:" "}),b.jsxs("p",{className:"text-[#510C1E] text-sm text-left mb-2",children:["  : ",b.jsx("br",{}),"   1 !"]}),b.jsx("p",{className:"text-[#510C1E] text-sm text-left mb-2 font-semibold",children:"  :"}),b.jsxs("p",{className:"text-[#510C1E] text-sm text-left mb-4",children:[" 1 ! ",b.jsx("br",{}),"  :  ! ",b.jsx("br",{})]}),b.jsx("br",{}),b.jsx("p",{className:"text-[#510C1E] text-sm text-left mb-4",children:b.jsx("b",{children:"   ! "})}),b.jsx("button",{className:"bg-[#EC288C] text-white px-6 py-2 rounded-full hover:bg-[#680A75]",onClick:()=>A(!1),children:" !"})]})}),b.jsxs("div",{className:"w-full flex justify-between items-center mb-5",children:[b.jsx("div",{className:"text-white rounded-full w-24 h-14 flex items-center justify-center cursor-pointer bg-[#680A75] ml-24 hover:bg-[#EC288C]",onClick:()=>e("/"),children:b.jsx("div",{className:"text-xl font-bold",children:"Back"})}),b.jsx("h2",{className:"text-4xl font-bold text-[#680A75]",children:(w==null?void 0:w.name)||""})]}),b.jsx("div",{className:`game-card ${f?"flipped":""} mb-6`,children:f?b.jsx("div",{className:`game-card-back bg-white shadow-[8px_8px_2px] border-2 border-black shadow-[#680A75] rounded-2xl h-[400px] w-[300px] \r
            flex items-center justify-center text-center bg-[url('/picture/BG-FC.png')]  bg-cover`,children:b.jsx("p",{className:"card-text text-lg font-semibold text-white",children:o})}):b.jsx("div",{className:`game-card-front bg-[#EFA6CA] rounded-2xl h-[400px] w-[300px] \r
            flex items-center justify-center \r
            shadow-[-8px_-8px_2px] shadow-[#680A75] \r
            bg-[url('/picture/BG-CARD.png')]  bg-cover`})}),n&&!f&&b.jsxs("div",{className:"text-[#680A75] font-semibold text-sm mb-2",children:[": ",m.length," "]}),b.jsx("div",{className:"flex flex-col items-center gap-4 mt-5",children:n?f?b.jsx("button",{onClick:Q,className:`w-60 py-3 bg-red-800 text-white rounded-full text-xl font-bold uppercase tracking-wider\r
                       shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-300 ease-in-out\r
                       focus:outline-none focus:ring-4 focus:ring-red-300`,children:""}):b.jsx("button",{onClick:M,className:`w-60 py-3 bg-pink-600 text-white rounded-full text-xl font-bold uppercase tracking-wider\r
                       shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-300 ease-in-out\r
                       focus:outline-none focus:ring-4 focus:ring-pink-300`,children:""}):b.jsx("button",{onClick:L,className:`px-8 py-3 bg-blue-950 text-white rounded-full text-lg font-bold uppercase tracking-wider\r
                       shadow-lg transform hover:scale-105 transition-all duration-300 ease-in-out\r
                       focus:outline-none focus:ring-4 focus:ring-pink-300 active:scale-95`,children:""})})]})},xD=()=>{const[i,e]=Y.useState(!!localStorage.getItem("userId")),[n,s]=Y.useState(!1),o=p=>{e(p)},u=()=>{s(!1)},f=()=>{s(!0)};return b.jsxs(l1,{children:[b.jsx(Vi,{index:!0,element:b.jsxs("div",{className:"screen font-averia ",children:[b.jsx("div",{id:"Home",children:b.jsx(lD,{isLoggedIn:i,showAuthModal:n,handleLoginStatusChange:o,handleCloseAuthModal:u,onOpenAuthModal:f})}),b.jsx(hD,{}),b.jsx("div",{id:"cat",children:b.jsx(uD,{})}),b.jsx("div",{id:"RecentGame",children:b.jsx(cD,{})}),b.jsx(dD,{})]})}),b.jsx(Vi,{path:"/ShowCGF",element:b.jsx(pD,{})}),b.jsx(Vi,{path:"/ShowCGC",element:b.jsx(mD,{})}),b.jsx(Vi,{path:"/ShowCGFam",element:b.jsx(gD,{})}),b.jsx(Vi,{path:"/ShowCGA",element:b.jsx(yD,{})}),b.jsx(Vi,{path:"/game/:id",element:b.jsx(vD,{})}),b.jsx(Vi,{path:"/game-dt/:id",element:b.jsx(_D,{})})]})};yw.createRoot(document.getElementById("root")).render(b.jsx(uw.StrictMode,{children:b.jsx(O1,{basename:"/GameCard",children:b.jsx(xD,{})})}));
